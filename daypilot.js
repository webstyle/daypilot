/*
DayPilot Pro
Copyright (c) 2005 - 2016 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 2130
*/
if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.$ !== 'undefined') {
        return;
    };
    DayPilot.$ = function(id) {
        return document.getElementById(id);
    };
    DayPilot.isKhtml = (navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1);
    DayPilot.isIE = (navigator && navigator.userAgent && (navigator.userAgent.indexOf("MSIE") !== -1 || navigator.userAgent.indexOf("Trident") !== -1));
    DayPilot.isIEQuirks = DayPilot.isIE && (document.compatMode && document.compatMode === "BackCompat");
    DayPilot.browser = {};
    DayPilot.browser.ie8 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if IE 8]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ie9 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if IE 9]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ielt9 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
    DayPilot.browser.chrome = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1);
    DayPilot.browser.ie = DayPilot.isIE;
    DayPilot.libs = {};
    DayPilot.libs.angularjs = typeof $c === "object";
    DayPilot.touch = {};
    DayPilot.touch.start = window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart";
    DayPilot.touch.move = window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove";
    DayPilot.touch.end = window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend";
    DayPilot.mo2 = function($d, ev) {
        ev = ev || window.event;
        if (typeof(ev.offsetX) !== 'undefined') {
            var $e = {
                x: ev.offsetX + 1,
                y: ev.offsetY + 1
            };
            if (!$d) {
                return $e;
            };
            var $f = ev.srcElement;
            while ($f && $f !== $d) {
                if ($f.tagName !== 'SPAN') {
                    $e.x += $f.offsetLeft;
                    if ($f.offsetTop > 0) {
                        $e.y += $f.offsetTop - $f.scrollTop;
                    }
                };
                $f = $f.offsetParent;
            };
            if ($f) {
                return $e;
            };
            return null;
        };
        if (typeof(ev.layerX) !== 'undefined') {
            var $e = {
                x: ev.layerX,
                y: ev.layerY,
                $g: ev.target
            };
            if (!$d) {
                return $e;
            };
            var $f = ev.target;
            while ($f && $f.style.position !== 'absolute' && $f.style.position !== 'relative') {
                $f = $f.parentNode;
                if (DayPilot.isKhtml) {
                    $e.y += $f.scrollTop;
                }
            }
            while ($f && $f !== $d) {
                $e.x += $f.offsetLeft;
                $e.y += $f.offsetTop - $f.scrollTop;
                $f = $f.offsetParent;
            };
            if ($f) {
                return $e;
            };
            return null;
        };
        return null;
    };
    DayPilot.mo3 = function($d, ev) {
        ev = ev || window.event;
        var $h = DayPilot.page(ev);
        if ($h) {
            var $i = DayPilot.abs($d);
            return {
                x: $h.x - $i.x,
                y: $h.y - $i.y
            };
        };
        return DayPilot.mo2($d, ev);
    };
    DayPilot.mc = function(ev) {
        if (ev.pageX || ev.pageY) {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        return {
            x: ev.clientX + document.documentElement.scrollLeft,
            y: ev.clientY + document.documentElement.scrollTop
        };
    };
    DayPilot.Stats = {};
    DayPilot.Stats.eventObjects = 0;
    DayPilot.Stats.dateObjects = 0;
    DayPilot.Stats.cacheHitsCtor = 0;
    DayPilot.Stats.cacheHitsParsing = 0;
    DayPilot.Stats.cacheHitsTicks = 0;
    DayPilot.Stats.print = function() {
        console.log("DayPilot.Stats.eventObjects: " + DayPilot.Stats.eventObjects);
        console.log("DayPilot.Stats.dateObjects: " + DayPilot.Stats.dateObjects);
        console.log("DayPilot.Stats.cacheHitsCtor: " + DayPilot.Stats.cacheHitsCtor);
        console.log("DayPilot.Stats.cacheHitsParsing: " + DayPilot.Stats.cacheHitsParsing);
        console.log("DayPilot.Stats.cacheHitsTicks: " + DayPilot.Stats.cacheHitsTicks);
        console.log("DayPilot.Date.Cache.Ctor keys: " + Object.keys(DayPilot.Date.Cache.Ctor).length);
        console.log("DayPilot.Date.Cache.Parsing keys: " + Object.keys(DayPilot.Date.Cache.Parsing).length);
    };
    DayPilot.list = function($j, $k) {
        if ($j && $j.isDayPilotList && !$k) {
            return $j;
        };
        var $l = DayPilot.isArray($j) || Object.prototype.toString.call($j) === "[object NodeList]";
        var $m = !$l && !DayPilot.Util.isNullOrUndefined($j);
        var $n = [];
        $n.isDayPilotList = true;
        $n.clone = function() {
            var $b = DayPilot.list();
            $n.each(function($o) {
                $b.push($o);
            });
            return $b;
        };
        $n.each = function(f) {
            if (!f) {
                return;
            };
            if ($n.forEach) {
                $n.forEach(f);
                return;
            };
            for (var i = 0; i < this.length; i++) {
                f($n[i], i, $n);
            }
        };
        $n.addProps = function($p) {
            var $b = $n.clone();
            if ($p) {
                for (var name in $p) {
                    $b[name] = $p[name];
                }
            };
            return $b;
        };
        $n.last = function() {
            if ($n.length === 0) {
                return null;
            };
            return $n[$n.length - 1];
        };
        $n.add = function($o) {
            var $b = $n.clone();
            $b.push($o);
            return $b;
        };
        $n.map = function(f) {
            if (typeof f !== "function") {
                throw "DayPilot.list().map(f): Function expected";
            };
            var $b = DayPilot.list();
            $n.each(function($o, i, $j) {
                $b.push(f($o, i, $j));
            });
            return $b;
        };
        $n.filter = function(f) {
            var $b = DayPilot.list();
            if (typeof f !== "function") {
                throw "DayPilot.list().filter(f): Function expected";
            };
            $n.each(function($o) {
                if (f($o)) {
                    $b.push($o);
                }
            });
            return $b;
        };
        $n.concat = function($q) {
            if (!$q) {
                return $n;
            };
            var $b = $n.clone();
            for (var i = 0; i < $q.length; i++) {
                $b.push($q[i]);
            };
            return $b;
        };
        if (!$n.find) {
            $n.find = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().find(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return $n[i];
                    }
                };
                return undefined;
            };
        };
        if (!$n.findIndex) {
            $n.findIndex = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().findIndex(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return i;
                    }
                };
                return -1;
            };
        };
        if (!$n.some) {
            $n.some = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().some(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return true;
                    }
                };
                return false;
            };
        };
        if (!$n.reduce) {
            $n.reduce = function(f, $r) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().reduce(f): Function expected";
                };
                var $b;
                var $s = 0;
                if (typeof $r !== 'undefined') {
                    $b = $r;
                } else {
                    $s = 1;
                    if ($n.length === 0) {
                        throw "DayPilot.list().reduce(f): No initial value and empty list";
                    };
                    $b = $n[0];
                };
                for (var i = $s; i < this.length; i++) {
                    $b = f($b, $n[i], i, this);
                };
                return $b;
            };
        };
        $n.isEmpty = function() {
            return $n.length === 0;
        };
        if ($l) {
            for (var i = 0; i < $j.length; i++) {
                $n[i] = $j[i];
            }
        } else if ($m) {
            $n[0] = $j;
        };
        return $n;
    };
    DayPilot.line = function(x1, y1, x2, y2, $t) {
        var $u = {
            x: x1,
            y: y1
        };
        var $d = {
            x: x2,
            y: y2,
            "deg": DayPilot.deg(x1, y1, x2, y2)
        };
        if (y1 < y2) {
            var $v = y1;
            y1 = y2;
            y2 = $v;
            $v = x1;
            x1 = x2;
            x2 = $v;
        };
        var $w = DayPilot.deg(x1, y1, x2, y2);
        var $x = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            return Math.sqrt(a * a + b * b);
        })();
        var x = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            var sx = (x1 + x2) / 2;
            var sy = (y1 + y2) / 2;
            var $x = Math.sqrt(a * a + b * b);
            return sx - $x / 2;
        })();
        var y = (function() {
            return (y1 + y2) / 2;
        })();
        var $a = document.createElement("div");
        $a.setAttribute('style', 'border:1px solid black;width:' + $x + 'px;height:0px;-moz-transform:rotate(' + $w + 'deg);-webkit-transform:rotate(' + $w + 'deg);-ms-transform:rotate(' + $w + 'deg);transform:rotate(' + $w + 'deg);position:absolute;top:' + y + 'px;left:' + x + 'px;');
        var $y = document.createElement("div");
        $y.appendChild($a);
        if ($t) {
            var $x = 6;
            var top = $d.y - $x;
            var $z = $d.x - $x;;
            var $w = $w;
            if ($d.y > $u.y) {
                $w -= 180;
            };
            var a = document.createElement("div");
            a.style.borderColor = "transparent black transparent transparent";
            a.style.borderWidth = $x + "px";
            a.style.borderStyle = "solid";
            a.style.position = "absolute";
            a.style.left = $z + "px";
            a.style.top = top + "px";
            a.style.transform = "rotate(" + $w + "deg)";
            $y.appendChild(a);
        };
        return $y;
    };
    DayPilot.deg = function(x1, y1, x2, y2) {
        var a = Math.abs(x1 - x2);
        var b = Math.abs(y1 - y2);
        var c;
        var sx = (x1 + x2) / 2;
        var sy = (y1 + y2) / 2;
        var $x = Math.sqrt(a * a + b * b);
        var x = sx - $x / 2;
        var y = sy;
        a = $x / 2;
        c = Math.abs(sx - x);
        b = Math.sqrt(Math.abs(x1 - x) * Math.abs(x1 - x) + Math.abs(y1 - y) * Math.abs(y1 - y));
        var $A = (b * b - a * a - c * c) / (2 * a * c);
        var $B = Math.acos($A);
        var $w = ($B * 180) / Math.PI;
        return $w;
    };
    DayPilot.complete = function(f) {
        if (document.readyState === "complete") {
            f();
            return;
        };
        if (!DayPilot.complete.list) {
            DayPilot.complete.list = [];
            DayPilot.re(document, "readystatechange", function() {
                if (document.readyState === "complete") {
                    for (var i = 0; i < DayPilot.complete.list.length; i++) {
                        var d = DayPilot.complete.list[i];
                        d();
                    };
                    DayPilot.complete.list = [];
                }
            });
        };
        DayPilot.complete.list.push(f);
    };
    DayPilot.page = function(ev) {
        ev = ev || window.event;
        if (typeof ev.pageX !== 'undefined') {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        if (typeof ev.clientX !== 'undefined') {
            return {
                x: ev.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                y: ev.clientY + document.body.scrollTop + document.documentElement.scrollTop
            };
        };
        return null;
    };
    DayPilot.rel = function(element, $C) {
        var $D = DayPilot.abs(element);
        var $E = DayPilot.abs($C);
        return {
            "x": $D.x - $E.x,
            "y": $D.y - $E.y,
            "w": element.offsetWidth,
            "h": element.offsetHeight
        };
    };
    DayPilot.abs = function(element, $F) {
        if (!element) {
            return null;
        };
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        if (element.getBoundingClientRect) {
            var b = null;
            try {
                b = element.getBoundingClientRect();
            } catch (e) {
                b = {
                    top: element.offsetTop,
                    $z: element.offsetLeft
                };
            };
            r.x = b.left;
            r.y = b.top;
            var d = DayPilot.doc();
            r.x -= d.clientLeft || 0;
            r.y -= d.clientTop || 0;
            var $G = DayPilot.pageOffset();
            r.x += $G.x;
            r.y += $G.y;
            if ($F) {
                var $H = DayPilot.absOffsetBased(element, false);
                var $F = DayPilot.absOffsetBased(element, true);
                r.x += $F.x - $H.x;
                r.y += $F.y - $H.y;
                r.w = $F.w;
                r.h = $F.h;
            };
            return r;
        } else {
            return DayPilot.absOffsetBased(element, $F);
        }
    };
    DayPilot.isArray = function(o) {
        return Object.prototype.toString.call(o) === '[object Array]';
    };
    DayPilot.absOffsetBased = function(element, $F) {
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        while (DayPilot.op(element)) {
            element = DayPilot.op(element);
            r.x -= element.scrollLeft;
            r.y -= element.scrollTop;
            if ($F) {
                if (r.x < 0) {
                    r.w += r.x;
                    r.x = 0;
                };
                if (r.y < 0) {
                    r.h += r.y;
                    r.y = 0;
                };
                if (element.scrollLeft > 0 && r.x + r.w > element.clientWidth) {
                    r.w -= r.x + r.w - element.clientWidth;
                };
                if (element.scrollTop && r.y + r.h > element.clientHeight) {
                    r.h -= r.y + r.h - element.clientHeight;
                }
            };
            r.x += element.offsetLeft;
            r.y += element.offsetTop;
        };
        var $G = DayPilot.pageOffset();
        r.x += $G.x;
        r.y += $G.y;
        return r;
    };
    DayPilot.wd = function() {
        var $I = DayPilot.isIEQuirks;
        var $J = document.documentElement.clientHeight;
        if ($I) {
            $J = document.body.clientHeight;
        };
        var $K = document.documentElement.clientWidth;
        if ($I) {
            $K = document.body.clientWidth;
        };
        var $L = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;
        var $M = (document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft;
        var $b = {};
        $b.width = $K;
        $b.height = $J;
        $b.scrollTop = $L;
        $b.scrollLeft = $M;
        return $b;
    };
    DayPilot.op = function(element) {
        try {
            return element.offsetParent;
        } catch (e) {
            return document.body;
        }
    };
    DayPilot.distance = function($N, $O) {
        return Math.sqrt(Math.pow($N.x - $O.x, 2) + Math.pow($N.y - $O.y, 2));
    };
    DayPilot.doc = function() {
        var de = document.documentElement;
        return (de && de.clientHeight) ? de : document.body;
    };
    DayPilot.pageOffset = function() {
        if (typeof pageXOffset !== 'undefined') {
            return {
                x: pageXOffset,
                y: pageYOffset
            };
        };
        var d = DayPilot.doc();
        return {
            x: d.scrollLeft,
            y: d.scrollTop
        };
    };
    DayPilot.ac = function(e, $P) {
        if (!$P) {
            var $P = [];
        };
        for (var i = 0; e.children && i < e.children.length; i++) {
            $P.push(e.children[i]);
            DayPilot.ac(e.children[i], $P);
        };
        return $P;
    };
    DayPilot.indexOf = function($j, $Q, $R) {
        if (!$j || !$j.length) {
            return -1;
        };
        for (var i = 0; i < $j.length; i++) {
            if ($R) {
                if ($R($j[i], $Q)) {
                    return i;
                }
            } else if ($j[i] === $Q) {
                return i;
            }
        };
        return -1;
    };
    DayPilot.contains = function($j, $Q) {
        if (!$j) {
            return false;
        };
        if ($j === $Q && !DayPilot.isArray($j)) {
            return true;
        };
        return DayPilot.indexOf($j, $Q) !== -1;
    };
    DayPilot.rfa = function($j, $Q) {
        var i = DayPilot.indexOf($j, $Q);
        if (i === -1) {
            return;
        };
        $j.splice(i, 1);
    };
    DayPilot.sheet = function() {
        var style = document.createElement("style");
        style.setAttribute("type", "text/css");
        if (!style.styleSheet) {
            style.appendChild(document.createTextNode(""));
        };
        var h = document.head || document.getElementsByTagName('head')[0];
        h.appendChild(style);
        var $S = !!style.styleSheet;
        var $T = {};
        $T.rules = [];
        $T.commit = function() {
            try {
                if ($S) {
                    style.styleSheet.cssText = this.rules.join("\n");
                }
            } catch (e) {}
        };
        $T.add = function($U, $V, $W) {
            if ($S) {
                this.rules.push($U + "{" + $V + "\u007d");
                return;
            };
            if (style.sheet.insertRule) {
                if (typeof $W === "undefined") {
                    $W = style.sheet.cssRules.length;
                };
                style.sheet.insertRule($U + "{" + $V + "\u007d", $W);
            } else if (style.sheet.addRule) {
                style.sheet.addRule($U, $V, $W);
            } else {
                throw "No CSS registration method found";
            }
        };
        return $T;
    };
    DayPilot.Args = function($X) {
        var $Y = this;
        this.preventDefault = function() {
            if ($X) {
                $X.preventDefault();
            };
            $Y.preventDefault.value = true;
        };
    };
    DayPilot.Debug = function($Z) {
        var debug = this;
        this.printToBrowserConsole = false;
        this.enabled = false;
        this.messages = [];
        this.$3T = null;
        this.clear = function() {
            this.messages = [];
            if (debug.$3T) {
                debug.$3T.innerHTML = '';
            }
        };
        this.hide = function() {
            DayPilot.de(debug.$3T);
            debug.$3T = null;
        };
        this.show = function() {
            if (debug.$3T) {
                debug.hide();
            };
            var $C = $Z.nav.top;
            var $a = document.createElement("div");
            $a.style.position = "absolute";
            $a.style.top = "0px";
            $a.style.bottom = "0px";
            $a.style.left = "0px";
            $a.style.right = "0px";
            $a.style.backgroundColor = "black";
            $a.style.color = "#ccc";
            $a.style.overflow = "auto";
            $a.style.webkitUserSelect = 'auto';
            $a.style.MozUserSelect = 'all';
            $a.onclick = function() {
                debug.hide();
            };
            for (var i = 0; i < this.messages.length; i++) {
                var $00 = debug.messages[i];
                var $01 = $00.$3U();
                $a.appendChild($01);
            };
            this.$3T = $a;
            $C.appendChild($a);
        };
        this.message = function($02, $03) {
            if (!this.enabled) {
                return;
            };
            var $00 = {};
            $00.time = new DayPilot.Date();
            $00.level = $03 || "debug";
            $00.text = $02;
            $00.$3U = function() {
                var $01 = document.createElement("div");
                $01.innerHTML = $00.time + " (" + $00.level + "): " + $00.text;
                switch ($00.level) {
                    case "error":
                        $01.style.color = "red";
                        break;
                    case "warning":
                        $01.style.color = "orange";
                        break;
                    case "info":
                        $01.style.color = "white";
                        break;
                    case "debug":
                        break;
                };
                return $01;
            };
            this.messages.push($00);
            if (this.printToBrowserConsole && typeof console !== 'undefined') {
                console.log($00);
            }
        };
    };
    DayPilot.re = function(el, ev, $04) {
        if (!$04) {
            return;
        };
        if (el.addEventListener) {
            el.addEventListener(ev, $04, false);
        } else if (el.attachEvent) {
            var f = function(ev) {
                $04.call(el, ev);
            };
            el.attachEvent("on" + ev, f);
        }
    };
    DayPilot.ue = function(el, ev, $04) {
        if (el.removeEventListener) {
            el.removeEventListener(ev, $04, false);
        } else if (el.detachEvent) {
            el.detachEvent("on" + ev, $04);
        }
    };
    DayPilot.tr = function($05) {
        if (!$05) return '';
        return $05.replace(/^\s+|\s+$/g, "");
    };
    DayPilot.ds = function(d) {
        return DayPilot.Date.toStringSortable(d);
    };
    DayPilot.gs = function(el, $06) {
        var x = el;
        if (x.currentStyle) var y = x.currentStyle[$06];
        else if (window.getComputedStyle) var y = document.defaultView.getComputedStyle(x, null).getPropertyValue($06);
        if (typeof(y) === 'undefined') y = '';
        return y;
    };
    DayPilot.StyleReader = function(element) {
        function capitalizeFirstLetter($07) {
            return $07.charAt(0).toUpperCase() + $07.slice(1);
        };
        this.get = function($08) {
            var $09 = DayPilot.list($08.split("-"));
            var $0a = $09.reduce(function($0b, $f, i) {
                $f = capitalizeFirstLetter($f);
                return $0b + $f;
            });
            if (!element) {
                return null;
            };
            return DayPilot.gs(element, $0a) || DayPilot.gs(element, $08);
        }
    };
    DayPilot.he = function(str) {
        var $b = str.replace(/&/g, "&amp;");
        $b = $b.replace(/</g, "&lt;");
        $b = $b.replace(/>/g, "&gt;");
        $b = $b.replace(/"/g, "&quot;");
        return $b;
    };
    DayPilot.he2 = function(str) {
        var $02 = document.createTextNode(str);
        var $a = document.createElement("div");
        $a.appendChild($02);
        return $a.innerHTML;
    };
    DayPilot.us = function(element) {
        if (element) {
            element.setAttribute("unselectable", "on");
            element.style.userSelect = 'none';
            element.style.MozUserSelect = 'none';
            element.style.KhtmlUserSelect = 'none';
            element.style.webkitUserSelect = 'none';
            for (var i = 0; i < element.childNodes.length; i++) {
                if (element.childNodes[i].nodeType === 1) {
                    DayPilot.us(element.childNodes[i]);
                }
            }
        }
    };
    DayPilot.pu = function(d) {
        var a = d.attributes,
            i, l, n;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                if (!a[i]) {
                    continue;
                };
                n = a[i].name;
                if (typeof d[n] === 'function') {
                    d[n] = null;
                }
            }
        };
        a = d.childNodes;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                var $P = DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.puc = function(d) {
        var a = d.childNodes,
            i, l;
        if (a) {
            var l = a.length;
            for (i = 0; i < l; i += 1) {
                DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.de = function(e) {
        if (!e) {
            return;
        };
        if (DayPilot.isArray(e)) {
            for (var i = 0; i < e.length; i++) {
                DayPilot.de(e[i]);
            };
            return;
        };
        e.parentNode && e.parentNode.removeChild(e);
    };
    DayPilot.fade = function(element, $0c, end) {
        if (!element) {
            return;
        };
        clearTimeout(element.messageTimeout);
        var $0d = 50;
        var $F = element.style.display !== 'none';
        var $0e = $0c > 0;
        var $0f = $0c < 0;
        if ($0c === 0) {
            return;
        };
        if ($0e) {
            element.status = "in";
        } else if ($0f) {
            element.status = "out";
        };
        if ($0e && !$F) {
            element.target = parseFloat(element.style.opacity);
            element.opacity = 0;
            element.style.opacity = 0;
            element.style.filter = "alpha(opacity=0)";
            element.style.display = '';
        } else if ($0f && !element.target) {
            element.target = element.style.opacity;
        } else {
            var $f = element.opacity;
            var $0g = Math.floor(10 * ($f + $0c)) / 10;
            if ($0e && $0g > element.target) {
                $0g = element.target;
            };
            if ($0f && $0g < 0) {
                $0g = 0;
            };
            var ie = $0g * 100;
            element.opacity = $0g;
            element.style.opacity = $0g;
            element.style.filter = "alpha(opacity=" + ie + ")";
        };
        if (($0e && (element.opacity >= element.target || element.opacity >= 1)) || ($0f && element.opacity <= 0)) {
            element.target = null;
            if ($0f) {
                element.style.opacity = element.target;
                element.opacity = element.target;
                var $0h = element.target ? "alpha(opacity=" + (element.target * 100) + ")" : null;
                element.style.filter = $0h;
                element.style.display = 'none';
            };
            if (end && typeof end === 'function') {
                element.status = null;
                end();
            }
        } else {
            element.messageTimeout = setTimeout(function() {
                DayPilot.fade(element, $0c, end);
            }, $0d);
        }
    };
    DayPilot.sw = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetWidth - element.clientWidth;
    };
    DayPilot.swa = function() {
        var $a = document.createElement("div");
        $a.style.position = "absolute";
        $a.style.top = "-2000px";
        $a.style.left = "-2000px";
        $a.style.width = '200px';
        $a.style.height = '100px';
        $a.style.overflow = 'auto';
        var $0i = document.createElement("div");
        $0i.style.width = '300px';
        $0i.style.height = '300px';
        $a.appendChild($0i);
        document.body.appendChild($a);
        var sw = DayPilot.sw($a);
        document.body.removeChild($a);
        return sw;
    };
    DayPilot.sh = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetHeight - element.clientHeight;
    };
    DayPilot.guid = function() {
        var S4 = function() {
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        };
        return ("" + S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4());
    };
    DayPilot.ua = function($j) {
        if (typeof $j === "string" || typeof $j === "number") {
            return [$j];
        };
        var u = {},
            a = [];
        for (var i = 0, l = $j.length; i < l; ++i) {
            if ($j[i] in u) {
                continue;
            };
            a.push($j[i]);
            u[$j[i]] = 1;
        };
        return a;
    };
    DayPilot.am = function() {
        if (typeof angular === "undefined") {
            return null;
        };
        if (!DayPilot.am.cached) {
            DayPilot.am.cached = angular.module("daypilot", []);
        };
        return DayPilot.am.cached;
    };
    (function() {
        DayPilot.pop = wave;

        function wave($a, $0j) {
            var $d = {
                w: $a.offsetWidth,
                h: $a.offsetHeight,
                x: parseInt($a.style.left),
                y: parseInt($a.style.top)
            };
            $d.height = $a.style.height;
            $d.width = $a.style.width;
            $d.top = $a.style.top;
            $d.left = $a.style.left;
            $d.toString = function() {
                return "w: " + this.w + " h:" + this.h;
            };
            var $0k = {};
            $0k.finished = null;
            $0k.vertical = 'center';
            $0k.horizontal = 'center';
            if ($0j) {
                for (var name in $0j) {
                    $0k[name] = $0j[name];
                }
            };
            $a.style.visibility = 'hidden';
            $a.style.display = '';
            var $0l = $0j.animation || "fast";
            var $0m = createPlan($0l);
            $0m.div = $a;
            $0m.i = 0;
            $0m.target = $d;
            $0m.config = $0k;
            doStep($0m);
        };

        function createPlan($0n) {
            var $0o = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.08;
                $0p = 0.1;
                for (var i = $0p; i < 1.2; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                $0c = 0.03;
                for (var i = $0p; i > 0.8; i -= $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0q = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.04;
                $0p = 0.1;
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0r = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.08;
                $0p = 0.1;
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0s = {
                "fast": $0r,
                "slow": $0q,
                "jump": $0o
            };
            if (!$0s[$0n]) {
                $0n = "fast";
            };
            return $0s[$0n]();
        };

        function doStep($0m) {
            var $a = $0m.div;
            var $0t = $0m[$0m.i];
            var $0u = $0t * $0m.target.h;
            var top;
            switch ($0m.config.vertical) {
                case "center":
                    top = $0m.target.y - ($0u - $0m.target.h) / 2;
                    break;
                case "top":
                    top = $0m.target.y;
                    break;
                case "bottom":
                    top = $0m.target.y - ($0u - $0m.target.h);
                    break;
                default:
                    throw "Unexpected 'vertical' value.";
            };
            var $x = $0t * $0m.target.w;
            var $z;
            switch ($0m.config.horizontal) {
                case "left":
                    $z = $0m.target.x;
                    break;
                case "center":
                    $z = $0m.target.x - ($x - $0m.target.w) / 2;
                    break;
                case "right":
                    $z = $0m.target.x - ($x - $0m.target.w);
                    break;
                default:
                    throw "Unexpected 'horizontal' value.";
            };
            var wd = DayPilot.wd();
            var $0v = (wd.height + wd.scrollTop) - (top + $0u);
            if ($0v < 0) {
                top += $0v;
            };
            var $0w = (wd.width) - ($z + $x);
            if ($0w < 0) {
                $z += $0w;
            };
            $a.style.height = $0u + "px";
            $a.style.top = top + "px";
            $a.style.width = $x + "px";
            $a.style.left = $z + "px";
            $a.style.visibility = 'visible';
            $0m.i++;
            if ($0m.i < $0m.length - 1) {
                setTimeout((function($0m) {
                    return function() {
                        doStep($0m);
                    };
                })($0m), $0m.time);
            } else {
                $a.style.width = $0m.target.width;
                $a.style.height = $0m.target.height;
                $a.style.top = $0m.target.top;
                $a.style.left = $0m.target.left;
                if (typeof $0m.config.finished === 'function') {
                    $0m.config.finished();
                }
            }
        }
    })();
    DayPilot.Util = {};
    DayPilot.Util.addClass = function($Q, name) {
        if (!name) {
            return;
        };
        if (!$Q) {
            return;
        };
        if (DayPilot.isArray($Q)) {
            for (var i = 0; i < $Q.length; i++) {
                DayPilot.Util.addClass($Q[i], name);
            };
            return;
        };
        if (!$Q.className) {
            $Q.className = name;
            return;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0x.test($Q.className)) {
            $Q.className = $Q.className + ' ' + name;
        }
    };
    DayPilot.Util.normalizeColor = function($0y) {
        if ($0y.indexOf("rgb") === 0) {
            return rgbToHex($0y);
        };
        return $0y;

        function rgbToHex(a) {
            a = a.replace(/[^\d,]/g, "").split(",");
            return "#" + ((1 << 24) + (+a[0] << 16) + (+a[1] << 8) + (+a[2])).toString(16).slice(1);
        }
    };
    DayPilot.Util.addClassToString = function(str, name) {
        if (!str) {
            return name;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0x.test(str)) {
            return str + ' ' + name;
        } else {
            return str;
        }
    };
    DayPilot.Util.removeClassFromString = function(str, name) {
        if (!str) {
            return "";
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        return str.replace($0x, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.removeClass = function($Q, name) {
        if (!$Q) {
            return;
        };
        if (DayPilot.isArray($Q)) {
            for (var i = 0; i < $Q.length; i++) {
                DayPilot.Util.removeClass($Q[i], name);
            };
            return;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        $Q.className = $Q.className.replace($0x, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.props = function(o) {
        var t = [];
        for (var a in o) {
            t.push(a);
            t.push(o[a]);
        };
        return t.join("-");
    };
    DayPilot.Util.propArray = function($0z, name, $0A) {
        return DayPilot.list($0z).map(function($o) {
            return $o[name] ? $o[name] : $0A;
        });
    };
    DayPilot.Util.updatePropsFromArray = function($0z, name, $j) {
        for (var i = 0; i < $j.length; i++) {
            $0z[i][name] = $j[i];
        }
    };
    DayPilot.Util.copyProps = function($u, $d, $0z) {
        if (!$u) {
            return;
        };
        if (typeof $0z === 'undefined') {
            for (var name in $u) {
                if (typeof $u[name] !== 'undefined') {
                    $d[name] = $u[name];
                }
            }
        } else {
            for (var i = 0; i < $0z.length; i++) {
                var name = $0z[i];
                if (typeof $u[name] !== 'undefined') {
                    $d[name] = $u[name];
                }
            }
        }
    };
    DayPilot.Util.firstPropValue = function($Q) {
        for (var name in $Q) {
            return $Q[name];
        }
    };
    DayPilot.Util.createArrayCopy = function($u, $0B) {
        if (!DayPilot.isArray($u)) {
            return [];
        };
        var $n = [];
        for (var i = 0; i < $u.length; i++) {
            var $o = {};
            DayPilot.Util.copyProps($u[i], $o, $0B);
            $n.push($o);
        };
        return $n;
    };
    DayPilot.Util.avg = function(a, b) {
        return (a + b) / 2;
    };
    DayPilot.Util.div = function(parent, $z, top, $x, $0u) {
        var $a = document.createElement("div");
        if ($z || top || $x || $0u) {
            if ($x < 0) {
                $z += $x;
                $x *= -1;
            };
            if ($0u < 0) {
                top += $0u;
                $0u *= -1;
            };
            $a.style.position = "absolute";
            if (typeof $z === "number") {
                $a.style.left = $z + "px";
            };
            if (typeof top === "number") {
                $a.style.top = top + "px";
            };
            if (typeof $x === "number") {
                $a.style.width = $x + "px";
            };
            if (typeof $0u === "number") {
                $a.style.height = $0u + "px";
            }
        };
        if (parent) {
            parent.appendChild($a);
        };
        return $a;
    };
    DayPilot.Util.overlaps = function($0C, $0D, $0E, $0F) {
        return !($0D <= $0E || $0C >= $0F);
    };
    DayPilot.Util.isMouseEvent = function(ev) {
        if (!navigator.msPointerEnabled) {
            return false;
        };
        if (!ev.pointerType) {
            return false;
        };
        if (ev.pointerType === "mouse") {
            return true;
        };
        if (ev.pointerType === 4) {
            return true;
        };
        return false;
    };
    DayPilot.Util.mouseButton = function(ev) {
        var $b = {};
        ev = ev || window.event;
        if (typeof ev.which === 'undefined') {
            switch (ev.button) {
                case 1:
                    $b.left = true;
                    break;
                case 4:
                    $b.middle = true;
                    break;
                case 2:
                    $b.right = true;
                    break;
                case 0:
                    $b.unknown = true;
                    break;
            }
        } else {
            switch (ev.which) {
                case 1:
                    $b.left = true;
                    break;
                case 2:
                    $b.middle = true;
                    break;
                case 3:
                    $b.right = true;
                    break;
            }
        };
        return $b;
    };
    DayPilot.Util.membersPlain = function($0G) {
        var $0H = DayPilot.Util.members($0G, 2);
        var $0I = function($j) {
            for (var i = 0; i < $j.length; i++) {
                var $o = $j[i];
                var name = $o.name;
                if ($o.obsolete) {
                    name += " (obsolete)";
                };
                if ($o.noCssOnly) {
                    name += " (!cssOnly)";
                };
                if ($o.aspnet) {
                    name += " (ASP.NET)";
                };
                if ($o.mvc) {
                    name += "(MVC)";
                };
                $j[i] = name;
            }
        };
        $0I($0H.events);
        $0I($0H.methods);
        $0I($0H.properties);
        return $0H;
    };
    DayPilot.Util.members = function($0G, $0J) {
        var $0K = DayPilot.list();
        var $0L = DayPilot.list();
        var $0M = DayPilot.list();
        var $0N = ($0G && $0G.members) ? $0G.members.obsolete : [];
        var $0O = ($0G && $0G.members) ? $0G.members.noCssOnly : [];
        var $0P = ($0G && $0G.members) ? $0G.members.ignore : [];
        var $0Q = ($0G && $0G.members && $0G.members.ignoreFilter) ? $0G.members.ignoreFilter : function() {
            return false;
        };
        for (var name in $0G) {
            if (name.indexOf("$") === 0) {
                continue;
            };
            if (name.indexOf("_") === 0) {
                continue;
            };
            if (name.indexOf("number") === 0) {
                continue;
            };
            if (name.indexOf("is") === 0) {
                continue;
            };
            if (name === "v") {
                continue;
            };
            if (DayPilot.contains($0P, name)) {
                continue;
            };
            if ($0Q(name)) {
                continue;
            };
            if (name.indexOf("on") === 0) {
                $0K.push(name);
                continue;
            };
            if (typeof $0G[name] === 'function') {
                $0L.push(name);
                continue;
            };
            if (typeof $0G[name] === 'object') {
                var o = $0G[name];
                if ($0J === 0) {
                    $0M.push(name);
                    continue;
                };
                if (o && o.nodeType > 0) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Bubble) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Date) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Menu) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Scheduler) {
                    $0M.push(name);
                    continue;
                };
                if (DayPilot.isArray(o)) {
                    $0M.push(name);
                    continue;
                };
                if (o === null) {
                    $0M.push(name);
                };
                var ml = null;
                if (typeof $0J === "number") {
                    ml = $0J - 1;
                };
                var $0H = DayPilot.Util.members(o, ml);
                for (var i = 0; i < $0H.events.length; i++) {
                    $0K.push(name + "." + $0H.events[i].name);
                };
                for (var i = 0; i < $0H.methods.length; i++) {
                    $0L.push(name + "." + $0H.methods[i].name);
                };
                for (var i = 0; i < $0H.properties.length; i++) {
                    $0M.push(name + "." + $0H.properties[i].name);
                };
                continue;
            };
            $0M.push(name);
        };
        $0K.sort();
        $0L.sort();
        $0M.sort();
        var $0I = function($j) {
            for (var i = 0; i < $j.length; i++) {
                var name = $j[i];
                var $o = {};
                $o.name = name;
                $j[i] = $o;
                if (DayPilot.contains($0N, name)) {
                    $o.obsolete = true;
                };
                if (DayPilot.contains($0O, name)) {
                    $o.noCssOnly = true;
                };
                if (name.indexOf("CallBack") !== -1) {
                    $o.aspnet = true;
                    $o.mvc = true;
                };
                if (name.indexOf("PostBack") !== -1) {
                    $o.aspnet = true;
                };
                if (name.indexOf("Notify") !== -1) {
                    $o.aspnet = true;
                    $o.mvc = true;
                }
            }
        };
        $0I($0K);
        $0I($0L);
        $0I($0M);
        return {
            "events": $0K,
            "methods": $0L,
            "properties": $0M
        };
    };
    DayPilot.Util.replaceCharAt = function(str, $W, $0R) {
        return str.substr(0, $W) + $0R + str.substr($W + $0R.length);
    };
    DayPilot.Util.evalVariable = function(str, $0S) {
        $0S = $0S || ['object'];
        if (str === null || typeof str === 'undefined') {
            return null;
        };
        if (DayPilot.indexOf($0S, typeof str) !== -1) {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a variable name (not a string).";
        };
        if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(str)) {
            throw "Invalid variable name: " + str;
        };
        return eval(str);
    };
    DayPilot.Util.evalFunction = function(str) {
        if (str === null) {
            return null;
        };
        if (typeof str === "function") {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a function (not a string).";
        };
        if (!/^\(?function/.test(str)) {
            throw "Invalid function string";
        };
        return eval("(" + str + ")");
    };
    DayPilot.Util.parseJSON = function(str) {
        if (JSON && JSON.parse) {
            return JSON.parse(str);
        } else {
            return DayPilot.JSON.parse(str);
        }
    };
    DayPilot.Util.isNullOrUndefined = function($0T) {
        return $0T === null || typeof $0T === "undefined";
    };
    DayPilot.Util.log = function($0U) {
        window.console && window.console.log && window.console.log($0U);
    };
    DayPilot.Util.adiff = function(a, b, f) {
        var $b = {};
        $b.add = [];
        $b.remove = [];
        return $b;
    };
    DayPilot.Util.workerFrom = function(f) {
        var $02 = f.toString();
        var $0V = $02.slice($02.indexOf("{") + 1, $02.lastIndexOf("};"));
        var $0W = new $0X([$0V]);
        var $0Y = window.URL.createObjectURL($0W);
        return new $0Z($0Y);
    };
    DayPilot.Util.monitor = function($0G, name, $10) {
        var $11 = $0G[name];
        $0G[name] = function() {
            $10.apply($0G, arguments);
            $11.apply($0G, arguments);
        };
    };
    DayPilot.Areas = {};
    DayPilot.Areas.attach = function($a, e, $0j) {
        var $0j = $0j || {};
        var $12 = $0j.areas;
        var $0S = $0j.allowed || function() {
            return true;
        };
        var $13 = $0j.offsetX || 0;
        DayPilot.re($a, "mousemove", function(ev) {
            if (!$a.active && !$a.areasDisabled && $0S()) {
                DayPilot.Areas.showAreas($a, e, ev, $12, {
                    "offsetX": $13,
                    "eventDiv": $0j.eventDiv
                });
            }
        });
        DayPilot.re($a, "mouseout", function(ev) {
            DayPilot.Areas.hideAreas($a, ev);
        });
        $12 = $14(e, $12);
        DayPilot.list($12).each(function($15) {
            var v = $15.v || "Visible";
            if (v !== "Visible") {
                return;
            };
            var a = DayPilot.Areas.createArea($a, e, $15, {
                "offsetX": $13,
                "eventDiv": $0j.eventDiv
            });
            $a.appendChild(a);
        });
    };
    DayPilot.Areas.disable = function($a) {
        $a.areasDisabled = true;
        DayPilot.list($a.childNodes).filter(function($o) {
            return $o.isActiveArea && !$o.area.start;
        }).each(function($o) {
            $o.style.display = "none";
        });
    };
    DayPilot.Areas.enable = function($a) {
        $a.areasDisabled = false;
        DayPilot.list($a.childNodes).filter(function($o) {
            return $o.isActiveArea && !$o.area.start;
        }).each(function($o) {
            $o.style.display = "";
        });
    };
    var $14 = function(e, $12) {
        if (!DayPilot.isArray($12)) {
            $12 = e.areas;
            if (!$12) {
                if (e.cache) {
                    $12 = e.cache.areas;
                } else if (e.data) {
                    $12 = e.data.areas;
                }
            }
        };
        return $12;
    };
    DayPilot.Areas.showAreas = function($a, e, ev, $12, $0j) {
        if (DayPilot.Global.resizing) {
            return;
        };
        if (DayPilot.Global.moving) {
            return;
        };
        if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0) {
            for (var i = 0; i < DayPilot.Areas.all.length; i++) {
                var d = DayPilot.Areas.all[i];
                if (d !== $a) {
                    DayPilot.Areas.hideAreas(d, ev);
                }
            }
        };
        if ($a.active) {
            return;
        };
        $a.active = {};
        if (!DayPilot.isArray($12)) {
            $12 = e.areas;
            if (!$12) {
                if (e.cache) {
                    $12 = e.cache.areas;
                } else if (e.data) {
                    $12 = e.data.areas;
                }
            }
        };
        if (!$12 || $12.length === 0) {
            return;
        };
        if ($a.areas && $a.areas.length > 0) {
            return;
        };
        $a.areas = [];
        for (var i = 0; i < $12.length; i++) {
            var $15 = $12[i];
            var v = $15.v || "Visible";
            if (v !== 'Hover') {
                continue;
            };
            var a = DayPilot.Areas.createArea($a, e, $15, $0j);
            $a.areas.push(a);
            $a.appendChild(a);
            DayPilot.Areas.all.push($a);
        };
        $a.active.children = DayPilot.ac($a);
    };
    DayPilot.Areas.createArea = function($a, e, $15, $0j) {
        var $0j = $0j || {};
        var $13 = $0j.offsetX || 0;
        var $16 = $0j.eventDiv || $a;
        var a = document.createElement("div");
        a.isActiveArea = true;
        a.area = $15;
        a.setAttribute("unselectable", "on");
        var w = $15.w || $15.width;
        var h = $15.h || $15.height;
        var $17 = $15.cssClass || $15.css || $15.className;
        if (typeof $15.style !== "undefined") {
            a.setAttribute("style", $15.style);
        };
        a.style.position = "absolute";
        if (typeof w !== 'undefined') {
            a.style.width = w + "px";
        };
        if (typeof h !== 'undefined') {
            a.style.height = h + "px";
        };
        if (typeof $15.right !== 'undefined') {
            a.style.right = $15.right + "px";
        };
        if (typeof $15.top !== 'undefined') {
            a.style.top = $15.top + "px";
        };
        if (typeof $15.left !== 'undefined') {
            a.style.left = ($15.left + $13) + "px";
        };
        if (typeof $15.bottom !== 'undefined') {
            a.style.bottom = $15.bottom + "px";
        };
        if (typeof $15.html !== 'undefined' && $15.html) {
            a.innerHTML = $15.html;
        };
        if ($17) {
            a.className = $17;
        };
        if ($15.backColor) {
            a.style.background = $15.backColor;
        };
        if ($15.action === "ResizeEnd" || $15.action === "ResizeStart" || $15.action === "Move") {
            if (e.calendar.isCalendar) {
                switch ($15.action) {
                    case "ResizeEnd":
                        $15.cursor = "s-resize";
                        $15.dpBorder = "bottom";
                        break;
                    case "ResizeStart":
                        $15.cursor = "n-resize";
                        $15.dpBorder = "top";
                        break;
                    case "Move":
                        $15.cursor = "move";
                        break;
                }
            };
            if (e.calendar.isScheduler || e.calendar.isMonth) {
                switch ($15.action) {
                    case "ResizeEnd":
                        $15.cursor = "e-resize";
                        $15.dpBorder = "right";
                        break;
                    case "ResizeStart":
                        $15.cursor = "w-resize";
                        $15.dpBorder = "left";
                        break;
                    case "Move":
                        $15.cursor = "move";
                        break;
                }
            };
            a.onmousemove = (function($a, e, $15) {
                return function(ev) {
                    var ev = ev || window.event;
                    ev.cancelBubble = true;
                    if (e.calendar.internal && e.calendar.internal.dragInProgress && e.calendar.internal.dragInProgress()) {
                        return;
                    };
                    $a.style.cursor = $15.cursor;
                    if ($15.dpBorder) {
                        $a.dpBorder = $15.dpBorder;
                    }
                };
            })($16, e, $15);
            a.onmouseout = (function($a, e, $15) {
                return function(ev) {
                    $a.style.cursor = '';
                };
            })($16, e, $15);
        };
        if (($15.action === "ResizeEnd" || $15.action === "ResizeStart") && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $18 = (function($a, e, $15) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        var $19 = e.calendar.internal.touch;
                        var t = ev.touches ? ev.touches[0] : ev;
                        var $e = {
                            x: t.pageX,
                            y: t.pageY
                        };
                        e.calendar.coords = $19.relativeCoords(ev);
                        $19.preventEventTap = true;
                        if (e.calendar.isScheduler) {
                            $19.startResizing($a, $15.action === "ResizeEnd" ? "right" : "left");
                        } else if (e.calendar.isCalendar) {
                            $19.startResizing($a, $15.action === "ResizeEnd" ? "bottom" : "top", $e);
                        }
                    };
                })($16, e, $15);
                DayPilot.re(a, DayPilot.touch.start, $18);
            }
        };
        if ($15.action === "ContextMenu" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $18 = (function($a, e, $15) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                        showContextMenu(e, $15, ev);
                        var $19 = e.calendar.internal.touch;
                        $19.preventEventTap = true;
                    };
                })($16, e, $15);
                var $1a = (function($a, e, $15) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                    };
                })($16, e, $15);
                DayPilot.re(a, DayPilot.touch.start, $18);
                DayPilot.re(a, DayPilot.touch.end, $1a);
            }
        };
        if ($15.action === "Bubble" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $18 = (function($a, e, $15) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                        showBubble(e, $15, ev);
                        var $19 = e.calendar.internal.touch;
                        $19.preventEventTap = true;
                    };
                })($16, e, $15);
                var $1a = (function($a, e, $15) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                    };
                })($16, e, $15);
                DayPilot.re(a, DayPilot.touch.start, $18);
                DayPilot.re(a, DayPilot.touch.end, $1a);
            }
        };
        if ($15.action === "Move" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $18 = (function($a, e, $15) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        var $19 = e.calendar.internal.touch;
                        var t = ev.touches ? ev.touches[0] : ev;
                        var $e = {
                            x: t.pageX,
                            y: t.pageY
                        };
                        e.calendar.coords = $19.relativeCoords(ev);
                        $19.preventEventTap = true;
                        $19.startMoving($a, $e);
                    };
                })($16, e, $15);
                DayPilot.re(a, DayPilot.touch.start, $18);
            }
        };
        if ($15.action === "Move" && e.isRow) {
            if (e.calendar.internal.touch) {}
        };
        if ($15.action === "Bubble" && e.isEvent) {
            a.onmousemove = (function($a, e, $15) {
                return function(ev) {
                    if (e.calendar.bubble) {
                        e.calendar.bubble.showEvent(e, true);
                    }
                };
            })($a, e, $15);
            a.onmouseout = (function($a, e, $15) {
                return function(ev) {
                    if (typeof DayPilot.Bubble !== "undefined") {
                        if (e.calendar.bubble) {
                            e.calendar.bubble.hideOnMouseOut();
                        }
                    }
                };
            })($a, e, $15);
        };
        if ($15.action === "HoverMenu") {
            a.onmousemove = (function($a, e, $15) {
                return function(ev) {
                    var m = $15.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (m && m.show) {
                        if (!m.visible) {
                            m.show(e);
                        } else if (m.source && typeof m.source.id !== 'undefined' && m.source.id !== e.id) {
                            m.show(e);
                        };
                        m.cancelHideTimeout();
                    }
                };
            })($a, e, $15);
            a.onmouseout = (function($a, e, $15) {
                return function(ev) {
                    var m = $15.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (!m) {
                        return;
                    };
                    if (m.hideOnMouseOver) {
                        m.delayedHide();
                    }
                };
            })($a, e, $15);
        };
        if ($15.action === "JavaScript") {
            var $18 = (function($a, e, $15) {
                return function(ev) {
                    ev.cancelBubble = true;
                    ev.preventDefault();
                    var $19 = e.calendar.internal.touch;
                    $19.start = true;
                };
            })($16, e, $15);
            var $1a = (function($a, e, $15) {
                return function(ev) {
                    ev.cancelBubble = true;
                    ev.preventDefault();
                    var $19 = e.calendar.internal.touch;
                    $19.start = false;
                    var f = $15.js;
                    if (typeof f === 'string') {
                        f = DayPilot.Util.evalFunction($15.js);
                    };
                    if (typeof f === 'function') {
                        var $d = $15.target || e;
                        f.call(this, $d);
                    }
                };
            })($16, e, $15);
            DayPilot.re(a, DayPilot.touch.start, $18);
            DayPilot.re(a, DayPilot.touch.end, $1a);
        };
        a.onmousedown = (function($a, e, $15) {
            return function(ev) {
                if (typeof $15.onmousedown === 'function') {
                    $15.onmousedown(ev);
                };
                if (typeof $15.mousedown === 'function') {
                    var $Y = {};
                    $Y.area = $15;
                    $Y.div = $a;
                    $Y.originalEvent = ev;
                    $Y.source = e;
                    $15.mousedown($Y);
                };
                if ($15.action === "Move" && e.isRow) {
                    var $1b = e.$.row;
                    var $1c = e.calendar.internal.rowtools;
                    $1c.startMoving($1b);
                };
                var $1d = true;
                if ($1d) {
                    if ($15.action === "Move" || $15.action === "ResizeEnd" || $15.action === "ResizeStart" || !$15.action) {
                        return;
                    };
                    ev = ev || window.event;
                    ev.preventDefault();
                    ev.cancelBubble = true;
                }
            };
        })($a, e, $15);
        a.onclick = (function($a, e, $15) {
            return function(ev) {
                var ev = ev || window.event;
                if (!$15.action) {
                    return;
                };
                switch ($15.action) {
                    case "JavaScript":
                        var f = $15.js;
                        if (typeof f === 'string') {
                            f = DayPilot.Util.evalFunction($15.js);
                        };
                        if (typeof f === 'function') {
                            var $d = $15.target || e;
                            f.call(this, $d);
                        };
                        break;
                    case "ContextMenu":
                        showContextMenu(e, $15, ev);
                        break;
                    case "CallBack":
                        alert("callback not implemented yet, id: " + $15.id);
                        break;
                };
                ev.cancelBubble = true;
            };
        })($a, e, $15);

        function showBubble(e, $15, ev) {
            if (DayPilot.Bubble) {
                DayPilot.Bubble.touchPosition(ev);
            };
            if (e.calendar.bubble) {
                e.calendar.bubble.showEvent(e, true);
            }
        };

        function showContextMenu(e, $15, ev) {
            if (DayPilot.Menu) {
                DayPilot.Menu.touchPosition(ev);
            };
            var m = $15.menu;
            if (typeof m === 'string') {
                m = DayPilot.Util.evalVariable(m);
            } else if (e.isEvent && e.calendar.contextMenu) {
                m = DayPilot.Util.evalVariable(e.calendar.contextMenu);
            } else if (e.isRow && e.calendar.contextMenu) {
                m = DayPilot.Util.evalVariable(e.calendar.contextMenuResource);
            };
            if (m && m.show) {
                m.show(e);
            }
        };
        return a;
    };
    DayPilot.Areas.all = [];
    DayPilot.Areas.hideAreas = function($a, ev) {
        if (!$a) {
            return;
        };
        if (!$a || !$a.active) {
            return;
        };
        var $1e = $a.active;
        var $12 = $a.areas;
        if ($1e && $1e.children) {
            var ev = ev || window.event;
            if (ev) {
                var $d = ev.toElement || ev.relatedTarget;
                if (~DayPilot.indexOf($1e.children, $d)) {
                    return;
                }
            }
        };
        if (!$12 || $12.length === 0) {
            $a.active = null;
            return;
        };
        DayPilot.de($12);
        $a.active = null;
        $a.areas = [];
        DayPilot.rfa(DayPilot.Areas.all, $a);
        $1e.children = null;
    };
    DayPilot.Areas.hideAll = function(ev) {
        if (!DayPilot.Areas.all || DayPilot.Areas.all.length === 0) {
            return;
        };
        for (var i = 0; i < DayPilot.Areas.all.length; i++) {
            DayPilot.Areas.hideAreas(DayPilot.Areas.all[i], ev);
        }
    };
    DayPilot.Action = function($Z, name, $1f, $1g) {
        var $1h = this;
        this.calendar = $Z;
        this.isAction = true;
        this.action = name;
        this.params = $1f;
        this.data = $1g;
        this.notify = function() {
            $1h.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data);
        };
        this.auto = function() {
            $1h.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data);
        };
        this.queue = function() {
            $1h.calendar.queue.add(this);
        };
        this.toJSON = function() {
            var $1i = {};
            $1i.name = this.action;
            $1i.params = this.params;
            $1i.data = this.data;
            return $1i;
        };
    };
    DayPilot.Selection = function($s, end, $1j, $1k) {
        this.menuType = 'selection';
        this.start = new DayPilot.Date($s);
        this.end = new DayPilot.Date(end);
        this.resource = $1j;
        this.root = $1k;
        this.calendar = $1k;
        this.toJSON = function($1l) {
            var $1i = {};
            $1i.start = this.start;
            $1i.end = this.end;
            $1i.resource = this.resource;
            return $1i;
        };
    };
    DayPilot.Link = function($1g, $Z) {
        this.isLink = true;
        this.data = $1g;
        this.calendar = $Z;
        this.to = function() {
            return this.data.to;
        };
        this.from = function() {
            return this.data.from;
        };
        this.type = function() {
            return this.data.type;
        };
        this.id = function() {
            return this.data.id;
        };
        this.toJSON = function() {
            var $1i = {};
            $1i.from = this.data.from;
            $1i.to = this.data.to;
            $1i.id = this.data.id;
            $1i.type = this.data.type;
            return $1i;
        };
    };
    DayPilot.Args = function() {
        this.isArgs = true;
        this.preventDefault = function() {
            this.preventDefault.value = true;
        };
    };
    DayPilot.Event = function($1g, $Z, $1m) {
        var e = this;
        this.calendar = $Z;
        this.data = $1g ? $1g : {};
        this.part = $1m ? $1m : {};
        if (typeof this.data.id === 'undefined') {
            this.data.id = this.data.value;
        };
        var $1n = {};
        var $1o = ["id", "text", "start", "end", "resource"];
        this.isEvent = true;
        DayPilot.Stats.eventObjects += 1;
        this.temp = function() {
            if ($1n.dirty) {
                return $1n;
            };
            for (var i = 0; i < $1o.length; i++) {
                $1n[$1o[i]] = e.data[$1o[i]];
            };
            $1n.dirty = true;
            return $1n;
        };
        this.copy = function() {
            var $b = {};
            DayPilot.Util.copyProps(e.data, $b);
            return $b;
        };
        this.commit = function() {
            if (!$1n.dirty) {
                return;
            };
            for (var i = 0; i < $1o.length; i++) {
                e.data[$1o[i]] = $1n[$1o[i]];
            };
            $1n.dirty = false;
        };
        this.dirty = function() {
            return $1n.dirty;
        };
        this.id = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $0T;
            }
        };
        this.value = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.id();
            } else {
                e.id($0T);
            }
        };
        this.text = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $0T;
                this.client.innerHTML($0T);
            }
        };
        this.start = function($0T) {
            if (typeof $0T === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($0T);
            }
        };
        this.end = function($0T) {
            if (typeof $0T === 'undefined') {
                if ($Z && $Z.internal.adjustEndNormalize) {
                    return $Z.internal.adjustEndNormalize(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0T);
            }
        };
        this.rawend = function() {
            if (typeof $0T === 'undefined') {
                if ($Z && $Z.internal.adjustEndIn) {
                    return $Z.internal.adjustEndIn(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0T);
            }
        };
        this.partStart = function() {
            return new DayPilot.Date(this.part.start);
        };
        this.partEnd = function() {
            return new DayPilot.Date(this.part.end);
        };
        this.row = function() {
            return this.resource();
        };
        this.allday = function() {
            if (typeof $0T === 'undefined') {
                return e.data.allday;
            } else {
                this.temp().allday = $0T;
            }
        };
        this.isAllDay = this.allday;
        this.resource = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.resource;
            } else {
                this.temp().resource = $0T;
            }
        };
        this.recurrent = function() {
            return e.data.recurrent;
        };
        this.recurrentMasterId = function() {
            return e.data.recurrentMasterId;
        };
        this.useBox = function() {
            return this.part.box;
        };
        this.staticBubbleHTML = function() {
            return this.bubbleHtml();
        };
        this.bubbleHtml = function() {
            if (e.cache) {
                return e.cache.bubbleHtml || e.data.bubbleHtml;
            };
            return e.data.bubbleHtml;
        };
        this.tag = function($1p) {
            if (e.data.tags) {
                return e.data.tags[$1p];
            } else {
                var $1q = e.data.tag;
                if (!$1q) {
                    return null;
                };
                if (typeof $1p === 'undefined') {
                    return e.data.tag;
                };
                var $p = e.calendar.tagFields;
                var $W = -1;
                for (var i = 0; i < $p.length; i++) {
                    if ($1p === $p[i]) $W = i;
                };
                if ($W === -1) {
                    throw "Field name not found.";
                };
                return $1q[$W];
            }
        };
        this.client = {};
        this.client.innerHTML = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.html !== "undefined") {
                    return e.cache.html;
                };
                if (typeof e.data.html !== "undefined") {
                    return e.data.html;
                };
                return e.data.text;
            } else {
                e.data.html = $0T;
                if (e.cache) {
                    e.cache.html = $0T;
                }
            }
        };
        this.client.html = this.client.innerHTML;
        this.client.header = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.header;
            } else {
                e.data.header = $0T;
            }
        };
        this.client.cssClass = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.cssClass;
            } else {
                e.data.cssClass = $0T;
            }
        };
        this.client.toolTip = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.toolTip !== "undefined") {
                    return e.cache.toolTip;
                };
                return typeof e.data.toolTip !== 'undefined' ? e.data.toolTip : e.data.text;
            } else {
                e.data.toolTip = $0T;
            }
        };
        this.client.backColor = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.backColor !== "undefined") {
                    return e.cache.backColor;
                };
                return typeof e.data.backColor !== "undefined" ? e.data.backColor : e.calendar.eventBackColor;
            } else {
                e.data.backColor = $0T;
            }
        };
        this.client.borderColor = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.borderColor !== "undefined") {
                    return e.cache.borderColor;
                };
                return typeof e.data.borderColor !== "undefined" ? e.data.borderColor : e.calendar.eventBorderColor;
            } else {
                e.data.borderColor = $0T;
            }
        };
        this.client.barColor = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.barColor !== "undefined") {
                    return e.cache.barColor;
                };
                return typeof e.data.barColor !== "undefined" ? e.data.barColor : e.calendar.durationBarColor;
            } else {
                e.data.barColor = $0T;
            }
        };
        this.client.barVisible = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.barHidden !== "undefined") {
                    return !e.cache.barHidden;
                };
                return e.calendar.durationBarVisible && !e.data.barHidden;
            } else {
                e.data.barHidden = !$0T;
            }
        };
        this.client.contextMenu = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.oContextMenu) {
                    return e.oContextMenu;
                };
                var cm = e.cache ? e.cache.contextMenu : e.data.contextMenu;
                return (cm) ? DayPilot.Util.evalVariable(cm) : null;
            } else {
                e.oContextMenu = $0T;
            }
        };
        this.client.moveEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.moveDisabled !== "undefined") {
                    return !e.cache.moveDisabled;
                };
                return e.calendar.eventMoveHandling !== 'Disabled' && !e.data.moveDisabled;
            } else {
                e.data.moveDisabled = !$0T;
            }
        };
        this.client.resizeEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.resizeDisabled !== "undefined") {
                    return !e.cache.resizeDisabled;
                };
                return e.calendar.eventResizeHandling !== 'Disabled' && !e.data.resizeDisabled;
            } else {
                e.data.resizeDisabled = !$0T;
            }
        };
        this.client.rightClickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.rightClickDisabled !== "undefined") {
                    return !e.cache.rightClickDisabled;
                };
                return e.calendar.rightClickHandling !== 'Disabled' && !e.data.rightClickDisabled;
            } else {
                e.data.rightClickDisabled = !$0T;
            }
        };
        this.client.clickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.clickDisabled !== "undefined") {
                    return !e.cache.clickDisabled;
                };
                return e.calendar.clickHandling !== 'Disabled' && !e.data.clickDisabled;
            } else {
                e.data.clickDisabled = !$0T;
            }
        };
        this.client.deleteEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return !e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$0T;
            }
        };
        this.client.doubleClickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.doubleClickDisabled !== "undefined") {
                    return !e.cache.doubleClickDisabled;
                };
                return e.calendar.eventDoubleClickHandling !== 'Disabled' && !e.data.doubleClickDisabled;
            } else {
                e.data.doubleClickDisabled = !$0T;
            }
        };
        this.client.deleteClickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return !e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$0T;
            }
        };
        this.toJSON = function($1l) {
            var $1i = {};
            $1i.value = this.id();
            $1i.id = this.id();
            $1i.text = this.text();
            $1i.start = this.start().toJSON();
            $1i.end = this.end().toJSON();
            $1i.resource = this.resource();
            $1i.isAllDay = false;
            $1i.recurrentMasterId = this.recurrentMasterId();
            $1i.join = this.data.join;
            $1i.tag = {};
            if (e.data.tags) {
                for (var name in e.data.tags) {
                    if (e.data.tags.hasOwnProperty(name)) {
                        $1i.tag[name] = "" + e.data.tags[name];
                    }
                }
            } else {
                if (e.calendar && e.calendar.tagFields) {
                    var $p = e.calendar.tagFields;
                    for (var i = 0; i < $p.length; i++) {
                        $1i.tag[$p[i]] = this.tag($p[i]);
                    }
                }
            };
            return $1i;
        };
    };
    DayPilot.Task = function($1g, $Z) {
        if (!$1g) {
            throw "Trying to initialize DayPilot.Task with null data parameter";
        };
        var e = this;
        var event = null;
        if ($1g instanceof DayPilot.Event) {
            event = $1g;
            this.data = $1g.data.task;
        } else if ($1g instanceof DayPilot.Task) {
            return $1g;
        } else if ($1g.isTaskWrapper) {
            this.data = $1g.data;
        } else {
            this.data = $1g;
        };
        var $1n = {};
        var $1o = ["id", "text", "start", "end", "complete", "type"];
        this.isTask = true;
        this.calendar = $Z;
        this.temp = function() {
            if ($1n.dirty) {
                return $1n;
            };
            for (var i = 0; i < $1o.length; i++) {
                $1n[$1o[i]] = e.data[$1o[i]];
            };
            $1n.dirty = true;
            return $1n;
        };
        this.copy = function() {
            var $b = {};
            DayPilot.Util.copyProps(e.data, $b);
            return $b;
        };
        this.commit = function() {
            if (!$1n.dirty) {
                return;
            };
            for (var i = 0; i < $1o.length; i++) {
                e.data[$1o[i]] = $1n[$1o[i]];
            };
            $1n.dirty = false;
        };
        this.dirty = function() {
            return $1n.dirty;
        };
        this.id = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $0T;
            }
        };
        this.text = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $0T;
                this.client.innerHTML($0T);
            }
        };
        this.start = function($0T) {
            if (typeof $0T === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($0T);
            }
        };
        this.duration = function() {
            return new DayPilot.Duration(this.start(), this.end());
        };
        this.end = function($0T) {
            if (typeof $0T === 'undefined') {
                if ($Z && $Z.eventEndSpec === "Date") {
                    return new DayPilot.Date(e.data.end).getDatePart().addDays(1);
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0T);
            }
        };
        this.type = function($0T) {
            if (typeof $0T === 'undefined') {
                if (event) {
                    return event.data.type;
                };
                return e.data.type;
            } else {
                this.temp().type = $0T;
            }
        };
        this.complete = function($0T) {
            if (typeof $0T === 'undefined') {
                if (!e.data.complete) {
                    return 0;
                };
                return e.data.complete;
            } else {
                this.temp().complete = $0T;
            }
        };
        this.children = function() {
            var $n = [];
            $n.add = function($1g) {
                var $1r = new DayPilot.Task($1g);
                if (!this.data.children) {
                    this.data.children = [];
                };
                this.children.push($1r.data);
            };
            for (var i = 0; this.data.children && i < this.data.children.length; i++) {
                $n.push(new DayPilot.Task(this.data.children[i], $Z));
            };
            return $n;
        };
        this.toJSON = function($1l) {
            var $1i = {};
            $1i.id = this.id();
            $1i.text = this.text();
            $1i.start = this.start().toJSON();
            $1i.end = this.end().toJSON();
            $1i.type = this.type();
            $1i.tags = {};
            DayPilot.Util.copyProps(this.data.tags, $1i.tags);
            return $1i;
        };
        this.row = {};
        var $1b = this.row;
        $1b.expanded = function($0T) {
            if (typeof $0T === 'undefined') {
                if (!e.data.row) {
                    return true;
                };
                return !e.data.row.collapsed;
            } else {
                if (!e.data.row) {
                    e.data.row = {};
                };
                if (!!e.data.row.collapsed !== !$0T) {
                    $Z.internal.rowObjectForTaskData(e.data).toggle();
                };
                e.data.row.collapsed = !$0T;
            }
        };
        $1b.expand = function() {
            $1b.expanded(true);
        };
        $1b.collapse = function() {
            $1b.expanded(false);
        };
        $1b.toggle = function() {
            $1b.expanded(!$1b.expanded());
        };
    };
    DayPilot.request = function($1s, $1t, $1u, $1v) {
        var $1w = DayPilot.createXmlHttp();
        if (!$1w) {
            return;
        };
        $1w.open("POST", $1s, true);
        $1w.setRequestHeader('Content-type', 'text/plain');
        $1w.onreadystatechange = function() {
            if ($1w.readyState !== 4) return;
            if ($1w.status !== 200 && $1w.status !== 304) {
                if ($1v) {
                    $1v($1w);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1w.status);
                    }
                };
                return;
            };
            $1t($1w);
        };
        if ($1w.readyState === 4) {
            return;
        };
        if (typeof $1u === 'object') {
            $1u = DayPilot.JSON.stringify($1u);
        };
        $1w.send($1u);
    };
    DayPilot.ajax = function($Q) {
        var $1w = DayPilot.createXmlHttp();
        if (!$1w) {
            return;
        };
        var $1x = $Q.method || "GET";
        var $1y = $Q.success || function() {};
        var $1z = $Q.error || function() {};
        var $1g = $Q.data;
        var $1s = $Q.url;
        $1w.open($1x, $1s, true);
        $1w.setRequestHeader('Content-type', 'text/plain');
        $1w.onreadystatechange = function() {
            if ($1w.readyState !== 4) return;
            if ($1w.status !== 200 && $1w.status !== 304) {
                if ($1z) {
                    var $Y = {};
                    $Y.request = $1w;
                    $1z($Y);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1w.status);
                    }
                };
                return;
            };
            var $Y = {};
            $Y.request = $1w;
            $1y($Y);
        };
        if ($1w.readyState === 4) {
            return;
        };
        if (typeof $1g === 'object') {
            $1g = DayPilot.JSON.stringify($1g);
        };
        $1w.send($1g);
    };
    DayPilot.createXmlHttp = function() {
        return new XMLHttpRequest();
    };
    DayPilot.Duration = function($1A) {
        var d = this;
        var $1B = 1000 * 60 * 60 * 24;
        var $1C = 1000 * 60 * 60;
        var $1D = 1000 * 60;
        var $1E = 1000;
        if (arguments.length === 2) {
            var $s = arguments[0];
            var end = arguments[1];
            if (!($s instanceof DayPilot.Date)) {
                throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
            };
            if (!(end instanceof DayPilot.Date)) {
                throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
            };
            this.ticks = end.getTime() - $s.getTime();
        } else {
            this.ticks = $1A;
        };
        this.toString = function($1F) {
            if (!$1F) {
                return d.days() + "." + d.hours() + ":" + d.minutes() + ":" + d.seconds() + "." + d.milliseconds();
            };
            var $1G = d.minutes();
            $1G = ($1G < 10 ? "0" : "") + $1G;
            var $b = $1F;
            $b = $b.replace("mm", $1G);
            $b = $b.replace("m", d.minutes());
            $b = $b.replace("H", d.hours());
            $b = $b.replace("h", d.hours());
            $b = $b.replace("d", d.days());
            $b = $b.replace("s", d.seconds());
            return $b;
        };
        this.totalHours = function() {
            return d.ticks / $1C;
        };
        this.totalDays = function() {
            return d.ticks / $1B;
        };
        this.totalHours = function() {
            return d.ticks / $1C;
        };
        this.totalMinutes = function() {
            return d.ticks / $1D;
        };
        this.totalSeconds = function() {
            return d.ticks / $1E;
        };
        this.days = function() {
            return Math.floor(d.totalDays());
        };
        this.hours = function() {
            var $1H = d.ticks - d.days() * $1B;
            return Math.floor($1H / $1C);
        };
        this.minutes = function() {
            var $1I = d.ticks - Math.floor(d.totalHours()) * $1C;
            return Math.floor($1I / $1D);
        };
        this.seconds = function() {
            var $1J = d.ticks - Math.floor(d.totalMinutes()) * $1D;
            return Math.floor($1J / $1E);
        };
        this.milliseconds = function() {
            return d.ticks % $1E;
        };
    };
    DayPilot.TimeSpan = function() {
        DayPilot.Duration.apply(this, arguments);
    };
    try {
        DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);
    } catch (e) {};
    DayPilot.Date = function($1K, $1L) {
        if ($1K instanceof DayPilot.Date) {
            return $1K;
        };
        var $1A;
        if (DayPilot.Util.isNullOrUndefined($1K)) {
            $1A = DayPilot.DateUtil.fromLocal().getTime();
            $1K = $1A;
        };
        var $1M = DayPilot.Date.Cache.Ctor;
        if ($1M[$1K]) {
            DayPilot.Stats.cacheHitsCtor += 1;
            return $1M[$1K];
        };
        var $1N = false;
        if (typeof $1K === "string") {
            $1A = DayPilot.DateUtil.fromStringSortable($1K, $1L).getTime();
            $1N = true;
        } else if (typeof $1K === "number") {
            if (isNaN($1K)) {
                throw "Cannot create DayPilot.Date from NaN";
            };
            $1A = $1K;
        } else if ($1K instanceof Date) {
            if ($1L) {
                $1A = DayPilot.DateUtil.fromLocal($1K).getTime();
            } else {
                $1A = $1K.getTime();
            }
        } else {
            throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
        };
        var $1O = ticksToSortable($1A);
        if ($1M[$1O]) {
            return $1M[$1O];
        };
        $1M[$1O] = this;
        $1M[$1A] = this;
        if ($1N && $1O !== $1K && DayPilot.DateUtil.hasTzSpec($1K)) {
            $1M[$1K] = this;
        };
        if (Object.defineProperty && !DayPilot.browser.ielt9) {
            Object.defineProperty(this, "ticks", {
                get: function() {
                    return $1A;
                }
            });
            Object.defineProperty(this, "value", {
                "value": $1O,
                "writable": false,
                "enumerable": true
            });
        } else {
            this.ticks = $1A;
            this.value = $1O;
        };
        if (DayPilot.Date.Config.legacyShowD) {
            this.d = new Date($1A);
        };
        DayPilot.Stats.dateObjects += 1;
    };
    DayPilot.Date.Config = {};
    DayPilot.Date.Config.legacyShowD = false;
    DayPilot.Date.Cache = {};
    DayPilot.Date.Cache.Parsing = {};
    DayPilot.Date.Cache.Ctor = {};
    DayPilot.Date.Cache.Ticks = {};
    DayPilot.Date.Cache.clear = function() {
        DayPilot.Date.Cache.Parsing = {};
        DayPilot.Date.Cache.Ctor = {};
        DayPilot.Date.Cache.Ticks = {};
    };
    DayPilot.Date.prototype.addDays = function($1P) {
        return new DayPilot.Date(this.ticks + $1P * 24 * 60 * 60 * 1000);
    };
    DayPilot.Date.prototype.addHours = function($1Q) {
        return this.addTime($1Q * 60 * 60 * 1000);
    };
    DayPilot.Date.prototype.addMilliseconds = function($1R) {
        return this.addTime($1R);
    };
    DayPilot.Date.prototype.addMinutes = function($1G) {
        return this.addTime($1G * 60 * 1000);
    };
    DayPilot.Date.prototype.addMonths = function($1S) {
        var $1K = new Date(this.ticks);
        if ($1S === 0) return this;
        var y = $1K.getUTCFullYear();
        var m = $1K.getUTCMonth() + 1;
        if ($1S > 0) {
            while ($1S >= 12) {
                $1S -= 12;
                y++;
            };
            if ($1S > 12 - m) {
                y++;
                m = $1S - (12 - m);
            } else {
                m += $1S;
            }
        } else {
            while ($1S <= -12) {
                $1S += 12;
                y--;
            };
            if (m + $1S <= 0) {
                y--;
                m = 12 + m + $1S;
            } else {
                m = m + $1S;
            }
        };
        var d = new Date($1K.getTime());
        d.setUTCDate(1);
        d.setUTCFullYear(y);
        d.setUTCMonth(m - 1);
        var $1T = new DayPilot.Date(d).daysInMonth();
        d.setUTCDate(Math.min($1T, $1K.getUTCDate()));
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.addSeconds = function($1U) {
        return this.addTime($1U * 1000);
    };
    DayPilot.Date.prototype.addTime = function($1A) {
        return new DayPilot.Date(this.ticks + $1A);
    };
    DayPilot.Date.prototype.addYears = function($1V) {
        var $11 = new Date(this.ticks);
        var d = new Date(this.ticks);
        var y = this.getYear() + $1V;
        var m = this.getMonth();
        d.setUTCDate(1);
        d.setUTCFullYear(y);
        d.setUTCMonth(m);
        var $1T = new DayPilot.Date(d).daysInMonth();
        d.setUTCDate(Math.min($1T, $11.getUTCDate()));
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.dayOfWeek = function() {
        return new Date(this.ticks).getUTCDay();
    };
    DayPilot.Date.prototype.getDayOfWeek = function() {
        return new Date(this.ticks).getUTCDay();
    };
    DayPilot.Date.prototype.daysInMonth = function() {
        var $1K = new Date(this.ticks);
        var $1W = $1K.getUTCMonth() + 1;
        var $1X = $1K.getUTCFullYear();
        var m = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        if ($1W !== 2) return m[$1W - 1];
        if ($1X % 4 !== 0) return m[1];
        if ($1X % 100 === 0 && $1X % 400 !== 0) return m[1];
        return m[1] + 1;
    };
    DayPilot.Date.prototype.daysInYear = function() {
        var $1X = this.getYear();
        if ($1X % 4 !== 0) {
            return 365;
        };
        if ($1X % 100 === 0 && $1X % 400 !== 0) {
            return 365;
        };
        return 366;
    };
    DayPilot.Date.prototype.dayOfYear = function() {
        return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 86400000) + 1;
    };
    DayPilot.Date.prototype.equals = function($q) {
        if ($q === null) {
            return false;
        };
        if ($q instanceof DayPilot.Date) {
            return this === $q;
        } else {
            throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
        }
    };
    DayPilot.Date.prototype.firstDayOfMonth = function() {
        var d = new Date();
        d.setUTCFullYear(this.getYear(), this.getMonth(), 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.firstDayOfYear = function() {
        var $1X = this.getYear();
        var d = new Date();
        d.setUTCFullYear($1X, 0, 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.firstDayOfWeek = function($1Y) {
        var d = this;
        var $1Y = $1Y || 0;
        var $1B = d.dayOfWeek();
        while ($1B !== $1Y) {
            d = d.addDays(-1);
            $1B = d.dayOfWeek();
        };
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.getDay = function() {
        return new Date(this.ticks).getUTCDate();
    };
    DayPilot.Date.prototype.getDatePart = function() {
        var d = new Date(this.ticks);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.getYear = function() {
        return new Date(this.ticks).getUTCFullYear();
    };
    DayPilot.Date.prototype.getHours = function() {
        return new Date(this.ticks).getUTCHours();
    };
    DayPilot.Date.prototype.getMilliseconds = function() {
        return new Date(this.ticks).getUTCMilliseconds();
    };
    DayPilot.Date.prototype.getMinutes = function() {
        return new Date(this.ticks).getUTCMinutes();
    };
    DayPilot.Date.prototype.getMonth = function() {
        return new Date(this.ticks).getUTCMonth();
    };
    DayPilot.Date.prototype.getSeconds = function() {
        return new Date(this.ticks).getUTCSeconds();
    };
    DayPilot.Date.prototype.getTotalTicks = function() {
        return this.getTime();
    };
    DayPilot.Date.prototype.getTime = function() {
        return this.ticks;
    };
    DayPilot.Date.prototype.getTimePart = function() {
        var $1Z = this.getDatePart();
        return DayPilot.DateUtil.diff(this, $1Z);
    };
    DayPilot.Date.prototype.lastDayOfMonth = function() {
        var d = new Date(this.firstDayOfMonth().getTime());
        var length = this.daysInMonth();
        d.setUTCDate(length);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.weekNumber = function() {
        var $20 = this.firstDayOfYear();
        var $1P = (this.getTime() - $20.getTime()) / 86400000;
        return Math.ceil(($1P + $20.dayOfWeek() + 1) / 7);
    };
    DayPilot.Date.prototype.weekNumberISO = function() {
        var $21 = false;
        var $22 = this.dayOfYear();
        var $23 = this.firstDayOfYear().dayOfWeek();
        var $24 = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
        if ($23 === 0) {
            $23 = 7;
        };
        if ($24 === 0) {
            $24 = 7;
        };
        var $25 = 8 - ($23);
        if ($23 === 4 || $24 === 4) {
            $21 = true;
        };
        var $26 = Math.ceil(($22 - ($25)) / 7.0);
        var $27 = $26;
        if ($25 >= 4) {
            $27 = $27 + 1;
        };
        if ($27 > 52 && !$21) {
            $27 = 1;
        };
        if ($27 === 0) {
            $27 = this.firstDayOfYear().addDays(-1).weekNumberISO();
        };
        return $27;
    };
    DayPilot.Date.prototype.toDateLocal = function() {
        var $1K = new Date(this.ticks);
        var d = new Date();
        d.setFullYear($1K.getUTCFullYear(), $1K.getUTCMonth(), $1K.getUTCDate());
        d.setHours($1K.getUTCHours());
        d.setMinutes($1K.getUTCMinutes());
        d.setSeconds($1K.getUTCSeconds());
        d.setMilliseconds($1K.getUTCMilliseconds());
        return d;
    };
    DayPilot.Date.prototype.toDate = function() {
        return new Date(this.ticks);
    };
    DayPilot.Date.prototype.toJSON = function() {
        return this.value;
    };
    DayPilot.Date.prototype.toString = function($1F, $28) {
        if (typeof $1F === 'undefined') {
            return this.toStringSortable();
        };
        return new $29($1F, $28).print(this);
    };
    DayPilot.Date.prototype.toStringSortable = function() {
        return ticksToSortable(this.ticks);
    };

    function ticksToSortable($1A) {
        var $1M = DayPilot.Date.Cache.Ticks;
        if ($1M[$1A]) {
            DayPilot.Stats.cacheHitsTicks += 1;
            return $1M[$1A];
        };
        var d = new Date($1A);
        var $2a;
        var ms = d.getUTCMilliseconds();
        if (ms === 0) {
            $2a = "";
        } else if (ms < 10) {
            $2a = ".00" + ms;
        } else if (ms < 100) {
            $2a = ".0" + ms;
        } else {
            $2a = "." + ms
        };
        var $1E = d.getUTCSeconds();
        if ($1E < 10) $1E = "0" + $1E;
        var $1D = d.getUTCMinutes();
        if ($1D < 10) $1D = "0" + $1D;
        var $1C = d.getUTCHours();
        if ($1C < 10) $1C = "0" + $1C;
        var $1B = d.getUTCDate();
        if ($1B < 10) $1B = "0" + $1B;
        var $1W = d.getUTCMonth() + 1;
        if ($1W < 10) $1W = "0" + $1W;
        var $1X = d.getUTCFullYear();
        if ($1X <= 0) {
            throw "The minimum year supported is 1.";
        };
        if ($1X < 10) {
            $1X = "000" + $1X;
        } else if ($1X < 100) {
            $1X = "00" + $1X;
        } else if ($1X < 1000) {
            $1X = "0" + $1X;
        };
        var $b = $1X + "-" + $1W + "-" + $1B + 'T' + $1C + ":" + $1D + ":" + $1E + $2a;
        $1M[$1A] = $b;
        return $b;
    };
    DayPilot.Date.parse = function(str, $1F, $28) {
        var p = new $29($1F, $28);
        return p.parse(str);
    };
    var $2b = 0;
    DayPilot.Date.today = function() {
        return new DayPilot.Date(DayPilot.DateUtil.localToday());
    };
    DayPilot.Date.fromYearMonthDay = function($1X, $1W, $1B) {
        $1W = $1W || 1;
        $1B = $1B || 1;
        var d = new Date(0);
        d.setUTCFullYear($1X);
        d.setUTCMonth($1W - 1);
        d.setUTCDate($1B);
        return new DayPilot.Date(d);
    };
    DayPilot.DateUtil = {};
    DayPilot.DateUtil.fromStringSortable = function($07, $1L) {
        if (!$07) {
            throw "Can't create DayPilot.Date from an empty string";
        };
        var $2c = $07.length;
        var $1K = $2c === 10;
        var $2d = $2c === 19;
        var long = $2c > 19;
        if (!$1K && !$2d && !long) {
            throw "Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): " + $07;
        };
        if (DayPilot.Date.Cache.Parsing[$07] && !$1L) {
            DayPilot.Stats.cacheHitsParsing += 1;
            return DayPilot.Date.Cache.Parsing[$07];
        };
        var $1X = $07.substring(0, 4);
        var $1W = $07.substring(5, 7);
        var $1B = $07.substring(8, 10);
        var d = new Date(0);
        d.setUTCFullYear($1X, $1W - 1, $1B);
        if ($1K) {
            DayPilot.Date.Cache.Parsing[$07] = d;
            return d;
        };
        var $1Q = $07.substring(11, 13);
        var $1G = $07.substring(14, 16);
        var $1U = $07.substring(17, 19);
        d.setUTCHours($1Q);
        d.setUTCMinutes($1G);
        d.setUTCSeconds($1U);
        if ($2d) {
            DayPilot.Date.Cache.Parsing[$07] = d;
            return d;
        };
        var $2e = $07[19];
        var $2f = 0;
        if ($2e === ".") {
            var ms = parseInt($07.substring(20, 23));
            d.setUTCMilliseconds(ms);
            $2f = DayPilot.DateUtil.getTzOffsetMinutes($07.substring(23));
        } else {
            $2f = DayPilot.DateUtil.getTzOffsetMinutes($07.substring(19));
        };
        var dd = new DayPilot.Date(d);
        if (!$1L) {
            dd = dd.addMinutes(-$2f);
        };
        d = dd.toDate();
        DayPilot.Date.Cache.Parsing[$07] = d;
        return d;
    };
    DayPilot.DateUtil.getTzOffsetMinutes = function($07) {
        if (DayPilot.Util.isNullOrUndefined($07) || $07 === "") {
            return 0;
        };
        if ($07 === "Z") {
            return 0;
        };
        var $2e = $07[0];
        var $2g = parseInt($07.substring(1, 3));
        var $2h = parseInt($07.substring(4));
        var $2f = $2g * 60 + $2h;
        if ($2e === "-") {
            return -$2f;
        } else if ($2e === "+") {
            return $2f;
        } else {
            throw "Invalid timezone spec: " + $07;
        }
    };
    DayPilot.DateUtil.hasTzSpec = function($07) {
        if ($07.indexOf("+")) {
            return true;
        };
        if ($07.indexOf("-")) {
            return true;
        };
        return false;
    };
    DayPilot.DateUtil.daysDiff = function($20, $1E) {
        ($20 && $1E) || (function() {
            throw "two parameters required";
        })();
        $20 = new DayPilot.Date($20);
        $1E = new DayPilot.Date($1E);
        if ($20.getTime() > $1E.getTime()) {
            return null;
        };
        var i = 0;
        var $2i = $20.getDatePart();
        var $2j = $1E.getDatePart();
        while ($2i < $2j) {
            $2i = $2i.addDays(1);
            i++;
        };
        return i;
    };
    DayPilot.DateUtil.daysSpan = function($20, $1E) {
        ($20 && $1E) || (function() {
            throw "two parameters required";
        })();
        $20 = new DayPilot.Date($20);
        $1E = new DayPilot.Date($1E);
        if ($20 === $1E) {
            return 0;
        };
        var $2k = DayPilot.DateUtil.daysDiff($20, $1E);
        if ($1E == $1E.getDatePart()) {
            $2k--;
        };
        return $2k;
    };
    DayPilot.DateUtil.diff = function($20, $1E) {
        if (!($20 && $1E && $20.getTime && $1E.getTime)) {
            throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
        };
        return $20.getTime() - $1E.getTime();
    };
    DayPilot.DateUtil.fromLocal = function($2l) {
        if (!$2l) {
            $2l = new Date();
        };
        var d = new Date();
        d.setUTCFullYear($2l.getFullYear(), $2l.getMonth(), $2l.getDate());
        d.setUTCHours($2l.getHours());
        d.setUTCMinutes($2l.getMinutes());
        d.setUTCSeconds($2l.getSeconds());
        d.setUTCMilliseconds($2l.getMilliseconds());
        return d;
    };
    DayPilot.DateUtil.localToday = function() {
        var d = new Date();
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return d;
    };
    DayPilot.DateUtil.hours = function($1K, $2m) {
        var $1D = $1K.getUTCMinutes();
        if ($1D < 10) $1D = "0" + $1D;
        var $1C = $1K.getUTCHours();
        if ($2m) {
            var am = $1C < 12;
            var $1C = $1C % 12;
            if ($1C === 0) {
                $1C = 12;
            };
            var $2n = am ? "AM" : "PM";
            return $1C + ':' + $1D + ' ' + $2n;
        } else {
            return $1C + ':' + $1D;
        }
    };
    DayPilot.DateUtil.max = function($20, $1E) {
        if ($20.getTime() > $1E.getTime()) {
            return $20;
        } else {
            return $1E;
        }
    };
    DayPilot.DateUtil.min = function($20, $1E) {
        if ($20.getTime() < $1E.getTime()) {
            return $20;
        } else {
            return $1E;
        }
    };
    var $29 = function($1F, $28) {
        if (typeof $28 === "string") {
            $28 = DayPilot.Locale.find($28);
        };
        var $28 = $28 || DayPilot.Locale.US;
        var $2o = [{
            "seq": "yyyy",
            "expr": "[0-9]{4,4\u007d",
            "str": function(d) {
                return d.getYear();
            }
        }, {
            "seq": "yy",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                return d.getYear() % 100;
            }
        }, {
            "seq": "mm",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getMinutes();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "m",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getMinutes();
                return r;
            }
        }, {
            "seq": "HH",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getHours();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "H",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getHours();
                return r;
            }
        }, {
            "seq": "hh",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var $1C = d.getHours();
                var $1C = $1C % 12;
                if ($1C === 0) {
                    $1C = 12;
                };
                var r = $1C;
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "h",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var $1C = d.getHours();
                var $1C = $1C % 12;
                if ($1C === 0) {
                    $1C = 12;
                };
                return $1C;
            }
        }, {
            "seq": "tt",
            "expr": "(AM|PM)",
            "str": function(d) {
                var $1C = d.getHours();
                var am = $1C < 12;
                return am ? "AM" : "PM";
            }
        }, {
            "seq": "ss",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getSeconds();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "s",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getSeconds();
                return r;
            }
        }, {
            "seq": "MMMM",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $28.monthNames[d.getMonth()];
                return r;
            },
            "transform": function($0y) {
                var $W = DayPilot.indexOf($28.monthNames, $0y, equalsIgnoreCase);
                if ($W < 0) {
                    return null;
                };
                return $W + 1;
            }
        }, {
            "seq": "MMM",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $28.monthNamesShort[d.getMonth()];
                return r;
            },
            "transform": function($0y) {
                var $W = DayPilot.indexOf($28.monthNamesShort, $0y, equalsIgnoreCase);
                if ($W < 0) {
                    return null;
                };
                return $W + 1;
            }
        }, {
            "seq": "MM",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getMonth() + 1;
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "M",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getMonth() + 1;
                return r;
            }
        }, {
            "seq": "dddd",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $28.dayNames[d.getDayOfWeek()];
                return r;
            }
        }, {
            "seq": "ddd",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $28.dayNamesShort[d.getDayOfWeek()];
                return r;
            }
        }, {
            "seq": "dd",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "%d",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r;
            }
        }, {
            "seq": "d",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r;
            }
        }, ];
        var $2p = function($02) {
            return $02.replace(/[-[\]{};()*+?.,\\^$|#\s]/g, "\\$&");
        };
        this.init = function() {
            this.year = this.findSequence("yyyy");
            this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M");
            this.day = this.findSequence("dd") || this.findSequence("d");
            this.hours = this.findSequence("HH") || this.findSequence("H");
            this.minutes = this.findSequence("mm") || this.findSequence("m");
            this.seconds = this.findSequence("ss") || this.findSequence("s");
        };
        this.findSequence = function($2q) {
            function defaultTransform($1O) {
                return parseInt($1O);
            };
            var $W = $1F.indexOf($2q);
            if ($W === -1) {
                return null;
            };
            return {
                "findValue": function($0y) {
                    var $2r = $2p($1F);
                    var $2s = null;
                    for (var i = 0; i < $2o.length; i++) {
                        var $2c = $2o[i].length;
                        var $2t = ($2q === $2o[i].seq);
                        var $2u = $2o[i].expr;
                        if ($2t) {
                            $2u = "(" + $2u + ")";
                            $2s = $2o[i].transform;
                        };
                        $2r = $2r.replace($2o[i].seq, $2u);
                    };
                    $2r = "^" + $2r + "$";
                    try {
                        var r = new RegExp($2r);
                        var $j = r.exec($0y);
                        if (!$j) {
                            return null;
                        };
                        $2s = $2s || defaultTransform;
                        return $2s($j[1]);
                    } catch (e) {
                        throw "unable to create regex from: " + $2r;
                    }
                }
            };
        };
        this.print = function($1K) {
            var find = function(t) {
                for (var i = 0; i < $2o.length; i++) {
                    if ($2o[i] && $2o[i].seq === t) {
                        return $2o[i];
                    }
                };
                return null;
            };
            var $2v = $1F.length <= 0;
            var $2w = 0;
            var $2x = [];
            while (!$2v) {
                var $2y = $1F.substring($2w);
                var $2z = /%?(.)\1*/.exec($2y);
                if ($2z && $2z.length > 0) {
                    var $2A = $2z[0];
                    var q = find($2A);
                    if (q) {
                        $2x.push(q);
                    } else {
                        $2x.push($2A);
                    };
                    $2w += $2A.length;
                    $2v = $1F.length <= $2w;
                } else {
                    $2v = true;
                }
            };
            for (var i = 0; i < $2x.length; i++) {
                var c = $2x[i];
                if (typeof c !== 'string') {
                    $2x[i] = c.str($1K);
                }
            };
            return $2x.join("");
        };
        this.parse = function($0y) {
            var $1X = this.year.findValue($0y);
            if (!$1X) {
                return null;
            };
            var $1W = this.month.findValue($0y);
            if (DayPilot.Util.isNullOrUndefined($1W)) {
                return null;
            };
            if ($1W > 12 || $1W < 1) {
                return null;
            };
            var $1B = this.day.findValue($0y);
            var $2B = DayPilot.Date.fromYearMonthDay($1X, $1W).daysInMonth();
            if ($1B < 1 || $1B > $2B) {
                return null;
            };
            var $1Q = this.hours ? this.hours.findValue($0y) : 0;
            var $1G = this.minutes ? this.minutes.findValue($0y) : 0;
            var $1U = this.seconds ? this.seconds.findValue($0y) : 0;
            var d = new Date();
            d.setUTCFullYear($1X, $1W - 1, $1B);
            d.setUTCHours($1Q);
            d.setUTCMinutes($1G);
            d.setUTCSeconds($1U);
            d.setUTCMilliseconds(0);
            return new DayPilot.Date(d);
        };
        this.init();
    };

    function equalsIgnoreCase($2C, $2D) {
        if (DayPilot.Util.isNullOrUndefined($2C)) {
            return false;
        };
        if (DayPilot.Util.isNullOrUndefined($2D)) {
            return false;
        };
        return $2C.toLocaleLowerCase() === $2D.toLocaleLowerCase();
    };
    DayPilot.Canvas = function($x, $0u, $2E, $2F) {
        var $2F = $2F || 1;
        var $2G = document.createElement("canvas");
        $2G.width = $x * $2F;
        $2G.height = $0u * $2F;
        var $2H = $2G.getContext("2d");
        $2H.scale($2F, $2F);
        this.defaultFileName = "image.png";
        if ($2E === "image/jpeg") {
            this.defaultFileName = "image.jpg";
        };
        this.fillRect = function($2I, $2J) {
            $2H.save();
            $2H.strokeStyle = "rgb(0,0,0,0)";
            $2H.fillStyle = $2J;
            $2H.fillRect($2I.x + .5, $2I.y + .5, $2I.w - .5, $2I.h - .5);
            $2H.restore();
        };
        this.rect = function($2I, $2J) {
            $2H.save();
            $2H.strokeStyle = $2J;
            $2H.beginPath();
            $2H.rect($2I.x + .5, $2I.y + .5, $2I.w - 1, $2I.h - 1);
            $2H.stroke();
            $2H.restore();
        };
        this.text = function($2I, $02, $2K, $2J, $2L, $2M) {
            $2L = $2L || "left";
            $2M = $2M || 0;
            $2J = $2J || "#000";
            $2H.save();
            var $2N = DayPilot.browser.ff ? 3 : 0;
            var $2O = parseInt($2K.size);
            $2N += $2O * 0.2;
            $2N += DayPilot.browser.chrome ? 1 : 0;
            $2N += DayPilot.browser.ie ? 1 : 0;
            $2H.rect($2I.x + .5 + $2M, $2I.y + .5 + $2M, $2I.w - 1 - $2M, $2I.h - 1 - $2M);
            $2H.clip();
            $2H.fillStyle = $2J;
            $2H.font = $2K.style + " " + $2K.size + " " + $2K.family;
            $2H.textBaseline = "top";
            $2H.textAlign = $2L;
            var x = $2I.x;
            switch ($2L) {
                case "center":
                    x += $2I.w / 2;
                    break;
                case "right":
                    x += $2I.w;
                    break;
            };
            var $2P = 0;
            x += $2P;
            $2H.fillText($02, x + $2M, $2I.y + $2P + $2M + $2N);
            $2H.restore();
        };
        this.line = function(x1, y1, x2, y2, $2J) {
            $2H.save();
            $2H.lineWidth = 1;
            $2H.strokeStyle = $2J;
            $2H.beginPath();
            $2H.moveTo(x1 + .5, y1 + .5);
            $2H.lineTo(x2 + .5, y2 + .5);
            $2H.stroke();
            $2H.restore();
        };
        this.image = function($2I, $2Q) {
            if (!$2Q) {
                return;
            };
            if (typeof $2Q === "string") {
                var $2R = $2Q;
                var $2Q = document.createElement("img");
                if ($2R.indexOf("data:") !== 0) {
                    $2Q.onload = function() {
                        $2H.save();
                        $2H.drawImage($2Q, $2I.x, $2I.y);
                        $2H.restore();
                    };
                    $2Q.src = $2R;
                    return;
                };
                $2Q.src = $2R;
            };
            $2H.save();
            $2H.drawImage($2Q, $2I.x, $2I.y);
            $2H.restore();
        };
        this.getWidth = function() {
            return $2G.width;
        };
        this.getHeight = function() {
            return $2G.height;
        };
        this.getElement = function() {
            return $2G;
        };
        this.getSource = function() {
            return "<img src='" + $2G.toDataURL($2E) + "' />";
        };
        this.getDataUri = function() {
            return $2G.toDataURL($2E);
        };
        this.getDefaultFileName = function() {
            return this.defaultFileName;
        };
        this.getBlob = function() {
            if ($2G.msToBlob) {
                return $2G.msToBlob();
            };
            return new $0X([this.getSource($2E)]);
        };
    };
    DayPilot.Svg = function($x, $0u) {
        var ns = "http://www.w3.org/2000/svg";
        var $2S = document.createElementNS(ns, "svg");
        if ($2S.outerHTML) {
            $2S.setAttribute("xmlns", ns);
        };
        $2S.setAttribute("viewBox", "0 0 " + $x + " " + $0u);
        this.defaultFileName = "image.svg";
        this.fillRect = function($2I, $2J) {
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2I.x + 0.5);
            r.setAttribute('y', $2I.y + 0.5);
            r.setAttribute('width', $2I.w - 1);
            r.setAttribute('height', $2I.h - 1);
            r.setAttribute('fill', $2J);
            $2S.appendChild(r);
        };
        this.rect = function($2I, $2J) {
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2I.x + 0.5);
            r.setAttribute('y', $2I.y + 0.5);
            r.setAttribute('width', $2I.w - 1);
            r.setAttribute('height', $2I.h - 1);
            r.setAttribute('stroke', $2J);
            r.setAttribute("stroke-width", "1");
            r.setAttribute("fill", "transparent");
            $2S.appendChild(r);
        };
        this.text = function($2I, $02, $2K, $2J, $2L, $2M) {
            var $2L = $2L || "left";
            var $2M = $2M || 0;
            var $2N = 3;
            var x = $2I.x;
            var $2T = "start";
            switch ($2L) {
                case "center":
                    x += $2I.w / 2;
                    $2T = "middle";
                    break;
                case "right":
                    x += $2I.w;
                    $2T = "end";
                    break;
            };
            var $2U = document.createElementNS(ns, "clipPath");
            $2U.id = "clip" + DayPilot.guid();
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2I.x);
            r.setAttribute('y', $2I.y);
            r.setAttribute('width', $2I.w);
            r.setAttribute('height', $2I.h);
            $2U.appendChild(r);
            $2S.appendChild($2U);
            var $2V = document.createElementNS(ns, "text");
            $2V.setAttribute("fill", $2J);
            $2V.setAttribute("font-family", $2K.family);
            $2V.setAttribute("font-size", $2K.size);
            $2V.setAttribute("font-style", $2K.style);
            $2V.setAttribute("x", x + $2M);
            $2V.setAttribute("y", $2I.y + $2M + $2N);
            $2V.setAttribute("dy", "1em");
            $2V.setAttribute("text-anchor", $2T);
            $2V.setAttribute("clip-path", "url(#" + $2U.id + ")");
            var $0i = document.createTextNode($02);
            $2V.appendChild($0i);
            $2S.appendChild($2V);
        };
        this.line = function(x1, y1, x2, y2, $2J) {
            var $01 = document.createElementNS(ns, "line");
            $01.setAttribute("x1", x1 + 0.5);
            $01.setAttribute("y1", y1 + 0.5);
            $01.setAttribute("x2", x2 + 0.5);
            $01.setAttribute("y2", y2 + 0.5);
            $01.setAttribute("stroke", $2J);
            $2S.appendChild($01);
        };
        this.image = function($2I, $2Q) {
            function doit($Y) {
                var $2W = 'http://www.w3.org/1999/xlink';
                var $2X = document.createElementNS(ns, "image");
                $2X.setAttributeNS($2W, "href", $Y.dataUri);
                $2X.setAttribute("x", $2I.x);
                $2X.setAttribute("y", $2I.y);
                $2X.setAttribute("width", $2I.w);
                $2X.setAttribute("height", $2I.h);
                $2S.appendChild($2X);
            };
            getDataUri($2Q, doit);
        };

        function getDataUri($2Q, $2Y) {
            var $2R = null;
            if (typeof $2Q === "string") {
                if ($2Q.indexOf("data:") === 0) {
                    var $Y = {};
                    $Y.dataUri = $2Q;
                    $2Y($Y);
                };
                $2R = $2Q;
            } else {
                $2R = $2Q.src;
            };
            var $2Q = document.createElement("img");
            $2Q.onload = function() {
                var $2G = document.createElement("canvas");
                $2G.width = this.naturalWidth;
                $2G.height = this.naturalHeight;
                $2G.getContext("2d").drawImage(this, 0, 0);
                var $Y = {};
                $Y.dataUri = $2G.toDataURL('image/png');
                $2Y($Y);
            };
            $2Q.src = $2R;
        };
        this.getWidth = function() {
            return $x;
        };
        this.getHeight = function() {
            return $0u;
        };
        this.getElement = function() {
            return $2S;
        };
        this.getSource = function() {
            if ($2S.outerHTML) {
                return $2S.outerHTML;
            } else {
                var $a = document.createElement('div');
                var $2Z = $2S.cloneNode(true);
                $a.appendChild($2Z);
                return $a.innerHTML;
            }
        };
        this.getDataUri = function() {
            return 'data:application/octet-stream,' + encodeURIComponent(this.getSource());
        };
        this.getDefaultFileName = function() {
            return this.defaultFileName;
        };
        this.getBlob = function() {
            return new $0X([this.getSource()]);
        };
    };
    DayPilot.Excel = function() {
        var $30 = this;
        var $31 = null;
        var $32 = null;
        var $33 = null;
        var ns = {};
        ns.xmlns = 'urn:schemas-microsoft-com:office:spreadsheet';
        ns.o = "urn:schemas-microsoft-com:office:office";
        ns.x = "urn:schemas-microsoft-com:office:excel";
        ns.ss = "urn:schemas-microsoft-com:office:spreadsheet";
        ns.html = "http://www.w3.org/TR/REC-html40";
        this.init = function() {
            $31 = document.implementation.createDocument(ns.xmlns, 'Workbook', null);
            $31.documentElement.setAttribute("xmlns:o", ns.o);
            $31.documentElement.setAttribute("xmlns:x", ns.x);
            $31.documentElement.setAttribute("xmlns:ss", ns.ss);
            $31.documentElement.setAttribute("xmlns:html", ns.html);
            var $34 = $31.createElement("x:ExcelWorkbook");
            $31.documentElement.appendChild($34);
            $32 = $31.createElement("ss:Styles");
            $31.documentElement.appendChild($32);
            $33 = $30.styles.create();
            $33.setId("Default");
            $33.setName("Normal");
        };
        this.worksheets = [];
        this.worksheets.create = function(name) {
            var element = $30.el(ns.ss, "Worksheet");
            var ws = new $35(element);
            ws.setName(name);
            this.push(ws);
            return ws;
        };
        this.styles = [];
        this.styles.create = function($0j) {
            var style = $31.createElement("ss:Style");
            $32.appendChild(style);
            var s = new $36(style);
            this.push(s);
            return s;
        };
        this.styles.getDefault = function() {
            return $33;
        };
        this.el = function(ns, element) {
            var e = $31.createElementNS(ns, element);
            $31.documentElement.appendChild(e);
            return e;
        };
        this.getSource = function() {
            var $37 = new XMLSerializer();
            var $38 = $37.serializeToString($31);
            return "<?xml version=\"1.0\"?>" + $38;
        };
        this.getDataUri = function() {
            return 'data:application/vnd.ms-excel,' + encodeURIComponent(this.getSource());
        };
        this.getElement = function() {
            return $31;
        };
        this.getDefaultFileName = function() {
            return "spreadsheet.xls";
        };
        this.getBlob = function() {
            return new $0X([this.getSource()]);
        };
        var $35 = function(element) {
            var $39 = $31.createElement("Table");
            element.appendChild($39);
            var $0j = $31.createElement("x:WorksheetOptions");
            element.appendChild($0j);
            this.rows = [];
            this.setName = function(name) {
                element.setAttribute("ss:Name", name);
            };
            this.cell = function(x, y) {
                while (y >= this.rows.length) {
                    var $1b = $31.createElement("Row");
                    $39.appendChild($1b);
                    this.rows.push(new $3a($1b));
                };
                var r = this.rows[y];
                return r.cell(x);
            };
            this.enableGridlines = function($1O) {
                var $3b = DayPilot.list($0j.childNodes).find(function($3c) {
                    return $3c.tagName === "x:DoNotDisplayGridlines";
                });
                if (!$3b && !$1O) {
                    var $3d = $31.createElement("x:DoNotDisplayGridlines");
                    $0j.appendChild($3d);
                };
                if ($3b && $1O) {
                    $0j.removeChild($3b);
                }
            };
            var $3a = function(element) {
                this.cells = [];
                this.getElement = function() {
                    return element;
                };
                this.cell = function(x) {
                    while (x >= this.cells.length) {
                        var $3e = $31.createElement("Cell");
                        element.appendChild($3e);
                        this.cells.push(new $3f($3e));
                    };
                    return this.cells[x];
                };
                var $3f = function(element) {
                    this.setText = function($02) {
                        var $1g = $31.createElement("Data");
                        $1g.setAttribute("ss:Type", "String");
                        var $0i = $31.createTextNode($02);
                        $1g.appendChild($0i);
                        while (element.firstChild) {
                            element.removeChild(element.firstChild);
                        };
                        element.appendChild($1g);
                        return this;
                    };
                    this.setColspan = function(i) {
                        if (i > 1) {
                            element.setAttribute("ss:MergeAcross", i - 1);
                        } else {
                            element.removeAttribute("ss:MergeAcross");
                        };
                        return this;
                    };
                    this.setRowspan = function(i) {
                        if (i > 1) {
                            element.setAttribute("ss:MergeDown", i - 1);
                        } else {
                            element.removeAttribute("ss:MergeDown");
                        };
                        return this;
                    };
                    this.setStyle = function(style) {
                        if (!(style instanceof $36)) {
                            throw "Invalid argument, Style expected";
                        };
                        element.setAttribute("ss:StyleID", style.getId());
                        return this;
                    }
                };
            };
        };
        var $36 = function(element) {
            var id = DayPilot.guid();
            element.setAttribute("ss:ID", id);
            var $3g = $31.createElement("ss:Alignment");
            element.appendChild($3g);
            var $3h = $31.createElement("ss:Interior");
            element.appendChild($3h);
            var $3i = $31.createElement("ss:Borders");
            element.appendChild($3i);
            this.setHorizontalAlignment = function($1O) {
                $3g.setAttribute("ss:Horizontal", $1O);
            };
            this.setVerticalAlignment = function($1O) {
                $3g.setAttribute("ss:Vertical", $1O);
            };
            this.setBackColor = function($1O) {
                var $3j = DayPilot.Util.normalizeColor($1O);
                $3h.setAttribute("ss:Color", $3j);
                $3h.setAttribute("ss:Pattern", "Solid");
            };
            this.setBorderColor = function($2J) {
                this.clearBorders();
                var $3k = createBorder("Left", $2J);
                $3i.appendChild($3k);
                var $3l = createBorder("Right", $2J);
                $3i.appendChild($3l);
                var $3m = createBorder("Top", $2J);
                $3i.appendChild($3m);
                var $3n = createBorder("Bottom", $2J);
                $3i.appendChild($3n);

                function createBorder($3o, $2J) {
                    var $3p = $31.createElement("ss:Border");
                    $3p.setAttribute("ss:Position", $3o);
                    $3p.setAttribute("ss:LineStyle", "Continuous");
                    $3p.setAttribute("ss:Color", DayPilot.Util.normalizeColor($2J));
                    return $3p;
                }
            };
            this.clearBorders = function() {
                while ($3i.firstChild) {
                    $3i.removeChild($3i.firstChild);
                }
            };
            this.getId = function() {
                return id;
            };
            this.setId = function($1O) {
                id = $1O;
                element.setAttribute("ss:ID", id);
            };
            this.setName = function($1O) {
                element.setAttribute("ss:Name", $1O);
            };
        };
        this.init();
    };
    DayPilot.Locale = function(id, $0k) {
        this.id = id;
        this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
        this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        this.monthNamesShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        this.datePattern = "M/d/yyyy";
        this.timePattern = "H:mm";
        this.dateTimePattern = "M/d/yyyy H:mm";
        this.timeFormat = "Clock12Hours";
        this.weekStarts = 0;
        if ($0k) {
            for (var name in $0k) {
                this[name] = $0k[name];
            }
        }
    };
    DayPilot.Locale.all = {};
    DayPilot.Locale.find = function(id) {
        if (!id) {
            return null;
        };
        var $3j = id.toLowerCase();
        if ($3j.length > 2) {
            $3j = DayPilot.Util.replaceCharAt($3j, 2, '-');
        };
        return DayPilot.Locale.all[$3j];
    };
    DayPilot.Locale.register = function($28) {
        DayPilot.Locale.all[$28.id] = $28;
    };
    DayPilot.Locale.register(new DayPilot.Locale('ca-es', {
        'dayNames': ['diumenge', 'dilluns', 'dimarts', 'dimecres', 'dijous', 'divendres', 'dissabte'],
        'dayNamesShort': ['dg', 'dl', 'dt', 'dc', 'dj', 'dv', 'ds'],
        'monthNames': ['gener', 'febrer', 'mar', 'abril', 'maig', 'juny', 'juliol', 'agost', 'setembre', 'octubre', 'novembre', 'desembre', ''],
        'monthNamesShort': ['gen.', 'febr.', 'mar', 'abr.', 'maig', 'juny', 'jul.', 'ag.', 'set.', 'oct.', 'nov.', 'des.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('cs-cz', {
        'dayNames': ['nedle', 'pondl', 'ter', 'steda', 'tvrtek', 'ptek', 'sobota'],
        'dayNamesShort': ['ne', 'po', 't', 'st', 't', 'p', 'so'],
        'monthNames': ['leden', 'nor', 'bezen', 'duben', 'kvten', 'erven', 'ervenec', 'srpen', 'z', 'jen', 'listopad', 'prosinec', ''],
        'monthNamesShort': ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', 'XII', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd. M. yyyy',
        'dateTimePattern': 'd. M. yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('da-dk', {
        'dayNames': ['sndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lrdag'],
        'dayNamesShort': ['s', 'ma', 'ti', 'on', 'to', 'fr', 'l'],
        'monthNames': ['januar', 'februar', 'marts', 'april', 'maj', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yyyy',
        'dateTimePattern': 'dd-MM-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-at', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Jnner', 'Februar', 'Mrz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jn', 'Feb', 'Mr', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-ch', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'Mrz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-de', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'Mrz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-lu', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'Mrz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-au', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-ca', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-gb', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-us', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'M/d/yyyy',
        'dateTimePattern': 'M/d/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-es', {
        'dayNames': ['domingo', 'lunes', 'martes', 'mircoles', 'jueves', 'viernes', 'sbado'],
        'dayNamesShort': ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-mx', {
        'dayNames': ['domingo', 'lunes', 'martes', 'mircoles', 'jueves', 'viernes', 'sbado'],
        'dayNamesShort': ['do.', 'lu.', 'ma.', 'mi.', 'ju.', 'vi.', 's.'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'hh:mm tt',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy hh:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('eu-es', {
        'dayNames': ['igandea', 'astelehena', 'asteartea', 'asteazkena', 'osteguna', 'ostirala', 'larunbata'],
        'dayNamesShort': ['ig', 'al', 'as', 'az', 'og', 'or', 'lr'],
        'monthNames': ['urtarrila', 'otsaila', 'martxoa', 'apirila', 'maiatza', 'ekaina', 'uztaila', 'abuztua', 'iraila', 'urria', 'azaroa', 'abendua', ''],
        'monthNamesShort': ['urt.', 'ots.', 'mar.', 'api.', 'mai.', 'eka.', 'uzt.', 'abu.', 'ira.', 'urr.', 'aza.', 'abe.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fi-fi', {
        'dayNames': ['sunnuntai', 'maanantai', 'tiistai', 'keskiviikko', 'torstai', 'perjantai', 'lauantai'],
        'dayNamesShort': ['su', 'ma', 'ti', 'ke', 'to', 'pe', 'la'],
        'monthNames': ['tammikuu', 'helmikuu', 'maaliskuu', 'huhtikuu', 'toukokuu', 'keskuu', 'heinkuu', 'elokuu', 'syyskuu', 'lokakuu', 'marraskuu', 'joulukuu', ''],
        'monthNamesShort': ['tammi', 'helmi', 'maalis', 'huhti', 'touko', 'kes', 'hein', 'elo', 'syys', 'loka', 'marras', 'joulu', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-be', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'fvrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aot', 'septembre', 'octobre', 'novembre', 'dcembre', ''],
        'monthNamesShort': ['janv.', 'fvr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'aot', 'sept.', 'oct.', 'nov.', 'dc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yy',
        'dateTimePattern': 'dd-MM-yy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-ca', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'fvrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aot', 'septembre', 'octobre', 'novembre', 'dcembre', ''],
        'monthNamesShort': ['janv.', 'fvr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'aot', 'sept.', 'oct.', 'nov.', 'dc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-ch', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'fvrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aot', 'septembre', 'octobre', 'novembre', 'dcembre', ''],
        'monthNamesShort': ['janv.', 'fvr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'aot', 'sept.', 'oct.', 'nov.', 'dc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-fr', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'fvrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aot', 'septembre', 'octobre', 'novembre', 'dcembre', ''],
        'monthNamesShort': ['janv.', 'fvr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'aot', 'sept.', 'oct.', 'nov.', 'dc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-lu', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'fvrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aot', 'septembre', 'octobre', 'novembre', 'dcembre', ''],
        'monthNamesShort': ['janv.', 'fvr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'aot', 'sept.', 'oct.', 'nov.', 'dc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('gl-es', {
        'dayNames': ['domingo', 'luns', 'martes', 'mrcores', 'xoves', 'venres', 'sbado'],
        'dayNamesShort': ['do', 'lu', 'ma', 'm', 'xo', 've', 's'],
        'monthNames': ['xaneiro', 'febreiro', 'marzo', 'abril', 'maio', 'xuo', 'xullo', 'agosto', 'setembro', 'outubro', 'novembro', 'decembro', ''],
        'monthNamesShort': ['xan', 'feb', 'mar', 'abr', 'maio', 'xuo', 'xul', 'ago', 'set', 'out', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-it', {
        'dayNames': ['domenica', 'luned', 'marted', 'mercoled', 'gioved', 'venerd', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-ch', {
        'dayNames': ['domenica', 'luned', 'marted', 'mercoled', 'gioved', 'venerd', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ja-jp', {
        'dayNames': ['', '', '', '', '', '', ''],
        'dayNamesShort': ['', '', '', '', '', '', ''],
        'monthNames': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nb-no', {
        'dayNames': ['sndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lrdag'],
        'dayNamesShort': ['s', 'ma', 'ti', 'on', 'to', 'fr', 'l'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-nl', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'd-M-yyyy',
        'dateTimePattern': 'd-M-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-be', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nn-no', {
        'dayNames': ['sndag', 'mndag', 'tysdag', 'onsdag', 'torsdag', 'fredag', 'laurdag'],
        'dayNamesShort': ['s', 'm', 'ty', 'on', 'to', 'fr', 'la'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-br', {
        'dayNames': ['domingo', 'segunda-feira', 'tera-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sbado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'maro', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pl-pl', {
        'dayNames': ['niedziela', 'poniedziaek', 'wtorek', 'roda', 'czwartek', 'pitek', 'sobota'],
        'dayNamesShort': ['N', 'Pn', 'Wt', 'r', 'Cz', 'Pt', 'So'],
        'monthNames': ['stycze', 'luty', 'marzec', 'kwiecie', 'maj', 'czerwiec', 'lipiec', 'sierpie', 'wrzesie', 'padziernik', 'listopad', 'grudzie', ''],
        'monthNamesShort': ['sty', 'lut', 'mar', 'kwi', 'maj', 'cze', 'lip', 'sie', 'wrz', 'pa', 'lis', 'gru', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-pt', {
        'dayNames': ['domingo', 'segunda-feira', 'tera-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sbado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'maro', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ro-ro', {
        'dayNames': ['duminic', 'luni', 'mari', 'miercuri', 'joi', 'vineri', 'smbt'],
        'dayNamesShort': ['D', 'L', 'Ma', 'Mi', 'J', 'V', 'S'],
        'monthNames': ['ianuarie', 'februarie', 'martie', 'aprilie', 'mai', 'iunie', 'iulie', 'august', 'septembrie', 'octombrie', 'noiembrie', 'decembrie', ''],
        'monthNamesShort': ['ian.', 'feb.', 'mar.', 'apr.', 'mai.', 'iun.', 'iul.', 'aug.', 'sep.', 'oct.', 'nov.', 'dec.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ru-ru', {
        'dayNames': ['', '', '', '', '', '', ''],
        'dayNamesShort': ['', '', '', '', '', '', ''],
        'monthNames': ['', '', '', '', '', '', '', '', '', '', '', '', ''],
        'monthNamesShort': ['', '', '', '', '', '', '', '', '', '', '', '', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sk-sk', {
        'dayNames': ['nedea', 'pondelok', 'utorok', 'streda', 'tvrtok', 'piatok', 'sobota'],
        'dayNamesShort': ['ne', 'po', 'ut', 'st', 't', 'pi', 'so'],
        'monthNames': ['janur', 'februr', 'marec', 'aprl', 'mj', 'jn', 'jl', 'august', 'september', 'oktber', 'november', 'december', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sv-se', {
        'dayNames': ['sndag', 'mndag', 'tisdag', 'onsdag', 'torsdag', 'fredag', 'lrdag'],
        'dayNamesShort': ['s', 'm', 'ti', 'on', 'to', 'fr', 'l'],
        'monthNames': ['januari', 'februari', 'mars', 'april', 'maj', 'juni', 'juli', 'augusti', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('tr-tr', {
        'dayNames': ['Pazar', 'Pazartesi', 'Sal', 'aramba', 'Perembe', 'Cuma', 'Cumartesi'],
        'dayNamesShort': ['Pz', 'Pt', 'Sa', 'a', 'Pe', 'Cu', 'Ct'],
        'monthNames': ['Ocak', 'ubat', 'Mart', 'Nisan', 'Mays', 'Haziran', 'Temmuz', 'Austos', 'Eyll', 'Ekim', 'Kasm', 'Aralk', ''],
        'monthNamesShort': ['Oca', 'ub', 'Mar', 'Nis', 'May', 'Haz', 'Tem', 'Au', 'Eyl', 'Eki', 'Kas', 'Ara', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('zh-cn', {
        'dayNames': ['', '', '', '', '', '', ''],
        'dayNamesShort': ['', '', '', '', '', '', ''],
        'monthNames': ['', '', '', '', '', '', '', '', '', '', '', '', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/M/d',
        'dateTimePattern': 'yyyy/M/d H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.US = DayPilot.Locale.find("en-us");
    DayPilot.Switcher = function($0j) {
        var $3q = this;
        this.views = [];
        this.triggers = [];
        this.navigator = {};
        this.selectedClass = null;
        this.active = null;
        this.day = new DayPilot.Date();
        this.onChange = null;
        this.onChanged = null;
        this.navigator.updateMode = function($3r) {
            var $3s = $3q.navigator.control;
            if (!$3s) {
                return;
            };
            $3s.selectMode = $3r;
            $3s.select($3q.day);
        };
        this.addView = function($3t, $0j) {
            var element;
            if (typeof $3t === 'string') {
                element = document.getElementById($3t);
                if (!element) {
                    throw "Element not found: " + $3t;
                }
            } else {
                element = $3t;
            };
            var $3s = element;
            var $3u = {};
            $3u.isView = true;
            $3u.id = $3s.id;
            $3u.control = $3s;
            $3u.options = $0j || {};
            $3u.hide = function() {
                if ($3s.hide) {
                    $3s.hide();
                } else if ($3s.nav && $3s.nav.top) {
                    $3s.nav.top.style.display = 'none';
                } else {
                    $3s.style.display = 'none';
                }
            };
            $3u.sendNavigate = function($1K) {
                var $3v = (function() {
                    if ($3s.backendUrl) {
                        return true;
                    };
                    if (typeof WebForm_DoCallback === 'function' && $3s.uniqueID) {
                        return true;
                    };
                    return false;
                })();
                if ($3v) {
                    if ($3s.commandCallBack) {
                        $3s.commandCallBack("navigate", {
                            "day": $1K
                        });
                    }
                } else {
                    $3s.startDate = $1K;
                    $3s.update();
                }
            };
            $3u.show = function() {
                $3q.$3V();
                if ($3s.show) {
                    $3s.show();
                } else if ($3s.nav && $3s.nav.top) {
                    $3s.nav.top.style.display = '';
                } else {
                    $3s.style.display = '';
                }
            };
            $3u.selectMode = function() {
                if ($3u.options.navigatorSelectMode) {
                    return $3u.options.navigatorSelectMode;
                };
                if ($3s.isCalendar) {
                    switch ($3s.viewType) {
                        case "Day":
                            return "day";
                        case "Week":
                            return "week";
                        case "WorkWeek":
                            return "week";
                        default:
                            return "day";
                    }
                } else if ($3s.isMonth) {
                    switch ($3s.viewType) {
                        case "Month":
                            return "month";
                        case "Weeks":
                            return "week";
                        default:
                            return "day";
                    }
                };
                return "day";
            };
            this.views.push($3u);
            return $3u;
        };
        this.addTrigger = function(id, $3s) {
            var element;
            if (typeof id === 'string') {
                element = document.getElementById(id);
                if (!element) {
                    throw "Element not found: " + id;
                }
            } else {
                element = id;
            };
            var $3u = this.$3W($3s);
            if (!$3u) {
                $3u = this.addView($3s);
            };
            var $3w = {};
            $3w.isTrigger = true;
            $3w.element = element;
            $3w.id = element.id;
            $3w.view = $3u;
            $3w.onClick = function(ev) {
                $3q.show($3w);
                $3q.$3X($3w);
                ev = ev || window.event;
                if (ev) {
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                }
            };
            DayPilot.re(element, 'click', $3w.onClick);
            this.triggers.push($3w);
            return $3w;
        };
        this.addButton = this.addTrigger;
        this.select = function(id) {
            var $3w = this.$3Y(id);
            if ($3w) {
                $3w.onClick();
            } else if (this.triggers.length > 0) {
                this.triggers[0].onClick();
            }
        };
        this.$3Y = function(id) {
            for (var i = 0; i < this.triggers.length; i++) {
                var $3w = this.triggers[i];
                if ($3w.id === id) {
                    return $3w;
                }
            };
            return null;
        };
        this.$3X = function($3w) {
            if (!this.selectedClass) {
                return;
            };
            for (var i = 0; i < this.triggers.length; i++) {
                var s = this.triggers[i];
                DayPilot.Util.removeClass(s.element, this.selectedClass);
            };
            DayPilot.Util.addClass($3w.element, this.selectedClass);
        };
        this.addNavigator = function($3s) {
            $3q.navigator.control = $3s;
            $3s.timeRangeSelectedHandling = "JavaScript";
            $3s.onTimeRangeSelected = function() {
                var $s, end, $1B;
                if ($3s.api === 1) {
                    $s = arguments[0];
                    end = arguments[1];
                    $1B = arguments[2];
                } else {
                    var $Y = arguments[0];
                    $s = $Y.start;
                    end = $Y.end;
                    $1B = $Y.day;
                };
                $3q.day = $1B;
                navigate($s, end, $1B);
            };
        };
        this.show = function(el) {
            var $3u, $3w;
            if (el.isTrigger) {
                $3w = el;
                $3u = $3w.view;
            } else {
                $3u = el.isView ? el : this.$3W(el);
                if (this.active === $3u) {
                    return;
                }
            };
            if ($3q.onSelect) {
                var $Y = {};
                $Y.source = $3w ? $3w.element : null;
                $Y.target = $3u.control;
                $3q.onSelect($Y);
            };
            this.active = $3u;
            $3u.show();
            var $3r = $3u.selectMode();
            $3q.navigator.updateMode($3r);
        };
        this.$3W = function($3s) {
            for (var i = 0; i < this.views.length; i++) {
                if (this.views[i].control === $3s) {
                    return this.views[i];
                }
            };
            return null;
        };
        this.$3V = function() {
            for (var i = 0; i < this.views.length; i++) {
                this.views[i].hide();
            }
        };
        this.events = {};
        this.events.load = function($1s, $1y, $1z) {
            if ($3q.active && $3q.active.control) {
                $3q.active.control.events.load($1s, $1y, $1z);
            } else {
                throw "DayPilot.Switcher.events.load(): Active view not found";
            }
        };
        this.$3Z = null;
        this.$40 = function() {
            if (!$0j) {
                return;
            };
            for (var name in $0j) {
                if (name === "triggers") {
                    DayPilot.list($0j.triggers).each(function($o) {
                        $3q.addTrigger($o.id, $o.view);
                    });
                } else if (name === "navigator") {
                    $3q.addNavigator($0j.navigator);
                } else {
                    $3q[name] = $0j[name];
                }
            }
        };
        this.$40();

        function navigate($s, end, $1B) {
            var $Y = {};
            $Y.start = $s;
            $Y.end = end;
            $Y.day = $1B;
            $Y.target = $3q.active.control;
            $Y.preventDefault = function() {
                this.preventDefault.value = true;
            };
            var $0b = $3q.$3Z;
            if ($0b) {
                if ($0b.start === $Y.start && $0b.end === $Y.end && $0b.day === $Y.day && $0b.target === $Y.target) {
                    return;
                }
            };
            $3q.$3Z = $Y;
            if (typeof $3q.onChange === "function") {
                $3q.onChange($Y);
                if ($Y.preventDefault.value) {
                    return;
                }
            };
            if (typeof $3q.onTimeRangeSelect === "function") {
                $3q.onTimeRangeSelect($Y);
                if ($Y.preventDefault.value) {
                    return;
                }
            };
            $3q.active.sendNavigate($3q.day);
            if (typeof $3q.onChanged === "function") {
                $3q.onChanged($Y);
            };
            if (typeof $3q.onTimeRangeSelected === "function") {
                $3q.onTimeRangeSelected($Y);
            }
        }
    };
    (function() {
        if (DayPilot.Global.defaultCss) {
            return;
        };
        var $T = DayPilot.sheet();
        $T.add(".bubble_default_main", "cursor: default;");
        $T.add(".bubble_default_main_inner", 'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);');
        $T.add(".calendar_default_main", "border: 1px solid #999; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;");
        $T.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #666;background: #eee;");
        $T.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #999;");
        $T.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $T.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $T.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;");
        $T.add(".calendar_default_colheader_inner", "text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $T.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;");
        $T.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff");
        $T.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $T.add(".calendar_default_message", "opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'color: #666; border: 1px solid #999;');
        $T.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;");
        $T.add(".calendar_default_event_bar_inner", "position: absolute;width: 4px;background-color: #1066a8;");
        $T.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;");
        $T.add(".calendar_default_alldayevent_inner", "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;");
        $T.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;");
        $T.add(".calendar_default_event", "cursor: default;");
        $T.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;");
        $T.add(".calendar_default_shadow_inner", "background-color: #666666;	opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;");
        $T.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);");
        $T.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);");
        $T.add(".calendar_default_now", "background-color: red;");
        $T.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);");
        $T.add(".menu_default_main", "font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);");
        $T.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;");
        $T.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;");
        $T.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;");
        $T.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;");
        $T.add(".menu_default_main a span", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;");
        $T.add(".menu_default_main a:hover", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");');
        $T.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;");
        $T.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc");
        $T.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");');
        $T.add(".menu_default_item_haschildren a:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;");
        $T.add(".month_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #666;");
        $T.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;");
        $T.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;");
        $T.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;");
        $T.add(".month_default_cell_header", "text-align: right;padding-right: 2px;");
        $T.add(".month_default_header_inner", 'text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;');
        $T.add(".month_default_message", 'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");');
        $T.add(".month_default_event_inner", 'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;');
        $T.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;");
        $T.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;");
        $T.add(".month_default_event_hover .month_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");');
        $T.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner", "background: #ddd;");
        $T.add(".month_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".month_default_event_timeleft", "color: #ccc; font-size: 8pt");
        $T.add(".month_default_event_timeright", "color: #ccc; font-size: 8pt; text-align: right;");
        $T.add(".navigator_default_main", "border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;");
        $T.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;");
        $T.add(".navigator_default_month", "font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;");
        $T.add(".navigator_default_day", "color: black;");
        $T.add(".navigator_default_weekend", "background-color: #f0f0f0;");
        $T.add(".navigator_default_dayheader", "color: black;");
        $T.add(".navigator_default_line", "border-bottom: 1px solid #A0A0A0;");
        $T.add(".navigator_default_dayother", "color: gray;");
        $T.add(".navigator_default_todaybox", "border: 1px solid red;");
        $T.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", 'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");');
        $T.add(".navigator_default_busy", "font-weight: bold;");
        $T.add(".navigator_default_cell", "text-align: center;");
        $T.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;");
        $T.add(".navigator_default_title", "text-align: center;");
        $T.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;");
        $T.add(".navigator_default_dayheader", "text-align: center;");
        $T.add(".navigator_default_weeknumber", "text-align: center;");
        $T.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;");
        $T.add(".scheduler_default_main", "box-sizing: content-box; border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;");
        $T.add(".scheduler_default_timeheader", "cursor: default;color: #666;");
        $T.add(".scheduler_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #666;background: #eee;");
        $T.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #666;background: #eee;");
        $T.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
        $T.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol", "text-align: center;");
        $T.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
        $T.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
        $T.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #aaa;");
        $T.add(".scheduler_default_divider_horizontal", "background-color: #aaa;");
        $T.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".scheduler_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".scheduler_default_resourcedivider", "background-color: #aaa;");
        $T.add(".scheduler_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".scheduler_default_event", "font-size:12px;color:#666;");
        $T.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $T.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $T.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $T.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $T.add(".scheduler_default_columnheader_inner", "font-weight: bold;");
        $T.add(".scheduler_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $T.add(".scheduler_default_columnheader_cell_inner", "padding: 2px;");
        $T.add(".scheduler_default_cell", "background-color: #f9f9f9;");
        $T.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;");
        $T.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".scheduler_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".scheduler_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".scheduler_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $T.add(".scheduler_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $T.add(".scheduler_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".scheduler_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red");
        $T.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: red");
        $T.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "background-color: red;");
        $T.add(".scheduler_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".scheduler_default_main .scheduler_default_event_group", "box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;");
        $T.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $T.add(".scheduler_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white;");
        $T.add(".scheduler_default_rowheader textarea", "padding: 3px;");
        $T.add(".scheduler_default_rowheader_scroll", "cursor: default;");
        $T.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner", "background-color: red;");
        $T.add(".scheduler_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;");
        $T.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;");
        $T.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;");
        $T.add(".gantt_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;");
        $T.add(".gantt_default_timeheader", "cursor: default;color: #666;");
        $T.add(".gantt_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #666;background: #eee;");
        $T.add(".gantt_default_rowheader,.gantt_default_corner", "color: #666;background: #eee;");
        $T.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
        $T.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol", "text-align: center;");
        $T.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
        $T.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
        $T.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #aaa;");
        $T.add(".gantt_default_divider_horizontal", "background-color: #aaa;");
        $T.add(".gantt_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".gantt_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".gantt_default_resourcedivider", "background-color: #aaa;");
        $T.add(".gantt_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".gantt_default_event", "font-size:12px;color:#666;");
        $T.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $T.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $T.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $T.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $T.add(".gantt_default_columnheader_inner", "font-weight: bold;");
        $T.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $T.add(".gantt_default_columnheader_cell_inner", "padding: 2px;");
        $T.add(".gantt_default_cell", "background-color: #f9f9f9;");
        $T.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;");
        $T.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".gantt_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $T.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $T.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;");
        $T.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
        $T.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
        $T.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
        $T.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:$3x.Microsoft.Matrix($3y='auto expand',$3z=0.7071067811865476,$3A=-0.7071067811865475,$3B=0.7071067811865475,$3C=0.7071067811865476);\"");
        $T.add(".gantt_default_event_left", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $T.add(".gantt_default_event_right", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $T.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red;");
        $T.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: red;");
        $T.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: red;");
        $T.add(".gantt_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)");
        $T.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $T.add(".gantt_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".gantt_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;");
        $T.add(".gantt_default_rowheader textarea", "padding: 5px;");
        $T.add(".gantt_default_rowheader_scroll", "cursor: default;");
        $T.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "background-color: red;");
        $T.add(".gantt_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;');
        $T.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;");
        $T.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;');
        $T.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;');
        $T.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;");
        $T.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;');
        $T.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;");
        $T.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;");
        $T.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;");
        $T.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;");
        $T.add(".kanban_default_timeheader", "cursor: default;color: #666;");
        $T.add(".kanban_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".kanban_default_colheadercell", "color: #666;background: #eee;");
        $T.add(".kanban_default_rowheader,.kanban_default_corner", "color: #666;background: #eee;");
        $T.add(".kanban_default_rowheader.kanban_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
        $T.add(".kanban_default_colheadercell", "text-align: center;");
        $T.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
        $T.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #aaa;");
        $T.add(".kanban_default_divider_horizontal", "background-color: #aaa;");
        $T.add(".kanban_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".kanban_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".kanban_default_rowheaderdivider", "background-color: #aaa;");
        $T.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".kanban_default_card", "font-size:12px;color:#666;");
        $T.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".kanban_default_card_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".kanban_default_cell", "background-color: #fff;");
        $T.add(".kanban_default_cell.kanban_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".kanban_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".kanban_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".kanban_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".kanban_default_card_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".kanban_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $T.add(".kanban_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".kanban_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".kanban_default_row_new .kanban_default_rowheader_inner", "cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;");
        $T.add(".kanban_default_rowheader textarea", "padding: 3px;");
        $T.add(".kanban_default_rowheader_scroll", "cursor: default;");
        $T.add(".kanban_default_card_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;");
        $T.add(".kanban_default_cell", "background-color: #fff;");
        $T.add(".kanban_default_rowmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;");
        $T.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;");
        $T.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;");
        $T.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;");
        $T.add(".kanban_default_swimlane_collapse:before", "content: '^';");
        $T.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;");
        $T.add(".kanban_default_swimlane_expand:before", "content: '>';");
        $T.add(".kanban_default_columnmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".kanban_default_columnmove_position", "background-color: #333;");
        $T.commit();
        DayPilot.Global.defaultCss = true;
    })();
    var $3D = function(id) {
        var $3q = this;
        this.id = id;
        this.widths = [];
        this.titles = [];
        this.height = null;
        this.splitterWidth = 3;
        this.css = {};
        this.css.title = null;
        this.css.titleInner = null;
        this.css.splitter = null;
        this.blocks = [];
        this.drag = {};
        this.updated = function() {};
        this.updating = function() {};
        this.init = function() {
            var $a;
            if (!id) {
                throw "error: id not provided";
            } else if (typeof id === 'string') {
                $a = document.getElementById(id);
            } else if (id.appendChild) {
                $a = id;
            } else {
                throw "error: invalid object provided";
            };
            this.div = $a;
            this.blocks = [];
            for (var i = 0; i < this.widths.length; i++) {
                var s = document.createElement("div");
                s.style.display = "inline-block";
                if ($3q.height !== null) {
                    s.style.height = $3q.height + "px";
                } else {
                    s.style.height = "100%";
                };
                s.style.width = (this.widths[i] - this.splitterWidth) + "px";
                s.style.overflow = 'hidden';
                s.style.verticalAlign = "top";
                s.style.position = "relative";
                s.setAttribute("unselectable", "on");
                s.className = this.css.title;
                $a.appendChild(s);
                var $0i = document.createElement("div");
                $0i.innerHTML = this.titles[i];
                $0i.setAttribute("unselectable", "on");
                $0i.className = this.css.titleInner;
                s.appendChild($0i);
                var $3E = document.createElement("div");
                $3E.style.display = "inline-block";
                if ($3q.height !== null) {
                    $3E.style.height = $3q.height + "px";
                } else {
                    $3E.style.height = "100%";
                };
                $3E.style.width = this.splitterWidth + "px";
                $3E.style.position = "relative";
                $3E.appendChild(document.createElement("div"));
                $3E.style.cursor = "col-resize";
                $3E.setAttribute("unselectable", "on");
                $3E.className = this.css.splitter;
                var $1g = {};
                $1g.index = i;
                $1g.width = this.widths[i];
                $3E.data = $1g;
                $3E.onmousedown = function(ev) {
                    $3q.drag.start = DayPilot.page(ev);
                    $3q.drag.data = this.data;
                    $3q.div.style.cursor = "col-resize";
                    ev = ev || window.event;
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                };
                $a.appendChild($3E);
                var $3F = {};
                $3F.section = s;
                $3F.handle = $3E;
                this.blocks.push($3F);
            };
            this.registerGlobalHandlers();
        };
        this.updateWidths = function() {
            for (var i = 0; i < this.blocks.length; i++) {
                var $3F = this.blocks[i];
                var $x = this.widths[i];
                $3F.handle.data.width = $x;
                this.$41(i);
            }
        };
        this.$41 = function(i) {
            var $3F = this.blocks[i];
            var $x = this.widths[i];
            $3F.section.style.width = ($x - this.splitterWidth) + "px";
        };
        this.totalWidth = function() {
            var t = 0;
            for (var i = 0; i < this.widths.length; i++) {
                t += this.widths[i];
            };
            return t;
        };
        this.gMouseMove = function(ev) {
            if (!$3q.drag.start) {
                return;
            };
            var $1g = $3q.drag.data;
            var $3G = DayPilot.page(ev);
            var $3H = $3G.x - $3q.drag.start.x;
            var i = $1g.index;
            $3q.widths[i] = Math.max(5, $1g.width + $3H);
            $3q.$41(i);
            var $1f = {};
            $1f.widths = this.widths;
            $1f.index = $1g.index;
            $3q.updating($1f);
        };
        this.gMouseUp = function(ev) {
            if (!$3q.drag.start) {
                return;
            };
            $3q.drag.start = null;
            document.body.style.cursor = "";
            $3q.div.style.cursor = "";
            var $1g = $3q.drag.data;
            $1g.width = $3q.widths[$1g.index];
            var $1f = {};
            $1f.widths = this.widths;
            $1f.index = $1g.index;
            $3q.updated($1f);
        };
        this.registerGlobalHandlers = function() {
            DayPilot.re(document, 'mousemove', this.gMouseMove);
            DayPilot.re(document, 'mouseup', this.gMouseUp);
        };
    };
    DayPilot.Splitter = $3D;
})();
DayPilot.JSON = {};
(function() {
    function f(n) {
        return n < 10 ? '0' + n : n;
    };
    if (typeof Date.prototype.toJSON !== 'function') {
        Date.prototype.toJSON = function() {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z' : null;
        };
    };
    if (typeof String.prototype.toJSON !== 'function') {
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function($1l) {
            return this.valueOf();
        };
    };
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $3I = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $3J, $3K, $3L = {
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"': '\\"',
            '\\': '\\\\'
        },
        $3M;

    function quote($07) {
        $3I.lastIndex = 0;
        return $3I.test($07) ? '"' + $07.replace($3I, function(a) {
            var c = $3L[a];
            if (typeof c === 'string') {
                return c;
            };
            return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
        }) + '"' : '"' + $07 + '"';
    };

    function str($1l, $3N) {
        var i, k, v, length, $3O = $3J,
            $3P, $1O = $3N[$1l];
        if ($1O && typeof $1O === 'object' && typeof $1O.toJSON === 'function' && !$1O.ignoreToJSON) {
            $1O = $1O.toJSON($1l);
        };
        if (typeof $3M === 'function') {
            $1O = $3M.call($3N, $1l, $1O);
        };
        switch (typeof $1O) {
            case 'string':
                return quote($1O);
            case 'number':
                return isFinite($1O) ? String($1O) : 'null';
            case 'boolean':
            case 'null':
                return String($1O);
            case 'object':
                if (!$1O) {
                    return 'null';
                };
                $3J += $3K;
                $3P = [];
                if (typeof $1O.length === 'number' && !$1O.propertyIsEnumerable('length')) {
                    length = $1O.length;
                    for (i = 0; i < length; i += 1) {
                        $3P[i] = str(i, $1O) || 'null';
                    };
                    v = $3P.length === 0 ? '[]' : $3J ? '[\n' + $3J + $3P.join(',\n' + $3J) + '\n' + $3O + ']' : '[' + $3P.join(',') + ']';
                    $3J = $3O;
                    return v;
                };
                if ($3M && typeof $3M === 'object') {
                    length = $3M.length;
                    for (i = 0; i < length; i += 1) {
                        k = $3M[i];
                        if (typeof k === 'string') {
                            v = str(k, $1O);
                            if (v) {
                                $3P.push(quote(k) + ($3J ? ': ' : ':') + v);
                            }
                        }
                    }
                } else {
                    for (k in $1O) {
                        if (Object.hasOwnProperty.call($1O, k)) {
                            v = str(k, $1O);
                            if (v) {
                                $3P.push(quote(k) + ($3J ? ': ' : ':') + v);
                            }
                        }
                    }
                };
                v = ($3P.length === 0) ? '{\u007D' : $3J ? '{\n' + $3J + $3P.join(',\n' + $3J) + '\n' + $3O + '\u007D' : '{' + $3P.join(',') + '\u007D';
                $3J = $3O;
                return v;
        }
    };
    DayPilot.JSON.stringify = function($1O, $3Q, $3R) {
        if (typeof JSON !== "undefined" && JSON.stringify) {
            return JSON.stringify($1O, $3Q, $3R);
        };
        var i;
        $3J = '';
        $3K = '';
        if (typeof $3R === 'number') {
            for (i = 0; i < $3R; i += 1) {
                $3K += ' ';
            }
        } else if (typeof $3R === 'string') {
            $3K = $3R;
        };
        $3M = $3Q;
        if ($3Q && typeof $3Q !== 'function' && (typeof $3Q !== 'object' || typeof $3Q.length !== 'number')) {
            throw new Error('JSON.stringify');
        };
        return str('', {
            '': $1O
        });
    };
    DayPilot.JSON.parse = function($02, $3S) {
        var j;

        function walk($3N, $1l) {
            var k, v, $1O = $3N[$1l];
            if ($1O && typeof $1O === 'object') {
                for (k in $1O) {
                    if (Object.prototype.hasOwnProperty.call($1O, k)) {
                        v = walk($1O, k);
                        if (v !== undefined) {
                            $1O[k] = v;
                        } else {
                            delete $1O[k];
                        }
                    }
                }
            };
            return $3S.call($3N, $1l, $1O);
        };
        $02 = String($02);
        cx.lastIndex = 0;
        if (cx.test($02)) {
            $02 = $02.replace(cx, function(a) {
                return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
            });
        };
        if (/^[\],:{};\s]*$/
            .test($02.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
            j = eval('(' + $02 + ')');
            return typeof $3S === 'function' ? walk({
                '': j
            }, '') : j;
        };
        throw new SyntaxError('JSON.parse');
    };
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotBubble === 'undefined') {
    var DayPilotBubble = DayPilot.BubbleVisible = {};
};
(function() {
    if (typeof DayPilot.Bubble !== 'undefined') {
        return;
    };
    var DayPilotBubble = {};
    DayPilotBubble.mouseMove = function(ev) {
        if (typeof(DayPilotBubble) === 'undefined') {
            return;
        };
        DayPilotBubble.mouse = DayPilotBubble.mousePosition(ev);
        var b = DayPilotBubble.active;
        if (b && b.$T.showPosition) {
            var $a = b.$T.showPosition;
            var $b = DayPilotBubble.mouse;
            if ($a.clientX !== $b.clientX || $a.clientY !== $b.clientY) {}
        }
    };
    DayPilotBubble.touchPosition = function(ev) {
        if (!ev || !ev.touches) {
            return null;
        };
        var $c = ev.touches[0];
        var $d = {};
        $d.x = $c.pageX;
        $d.y = $c.pageY;
        $d.clientX = $c.clientX;
        $d.clientY = $c.clientY;
        return $d;
    };
    DayPilotBubble.mousePosition = function(e) {
        var $e = DayPilot.page(e);
        if (e) {
            $e.clientY = e.clientY;
            $e.clientX = e.clientX;
        };
        return $e;
    };
    DayPilot.Bubble = function($f) {
        this.v = '2130';
        var $g = this;
        var $h = {};
        this.cssOnly = true;
        this.hideAfter = 500;
        this.loadingText = "Loading...";
        this.animated = true;
        this.animation = "fast";
        this.position = "EventTop";
        this.hideOnClick = true;
        this.showAfter = 500;
        this.showLoadingLabel = true;
        this.zIndex = 10;
        this.theme = "bubble_default";
        this.$T = function() {};
        this.callBack = function($i) {
            if (this.aspnet()) {
                WebForm_DoCallback(this.uniqueID, DayPilot.JSON.stringify($i), this.updateView, this, this.callbackError, true);
            } else {
                if ($i.calendar.internal.bubbleCallBack) {
                    $i.calendar.internal.bubbleCallBack($i, this);
                } else {
                    $i.calendar.bubbleCallBack($i, this);
                }
            }
        };
        this.callbackError = function($e, $j) {
            alert($e);
        };
        this.updateView = function($e, $j) {
            if ($g !== $j) {
                throw "Callback object mismatch (internal error)";
            };
            if (!$e) {
                $g.removeDiv();
                $g.removeShadow();
                return;
            };
            DayPilotBubble.active = $g;
            if ($g) {
                if ($h.div) {
                    $h.div.firstChild.innerHTML = $e;
                };
                $g.adjustPosition();
                if (!$g.animated) {
                    $g.addShadow();
                }
            }
        };
        this.init = function() {};
        this.aspnet = function() {
            return (typeof WebForm_DoCallback !== 'undefined');
        };
        this.rounded = function() {
            return this.corners === 'Rounded';
        };
        this.showEvent = function(e, $k) {
            var a = new DayPilotBubble.CallBackArgs(e.calendar || e.root, 'Event', e, e.bubbleHtml ? e.bubbleHtml() : null);
            if ($k) {
                this.show(a);
            } else {
                this.showOnMouseOver(a);
            }
        };
        this.showCell = function($l) {
            var a = new DayPilotBubble.CallBackArgs($l.calendar || $l.root, 'Cell', $l, $l.staticBubbleHTML ? $l.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showTime = function($m) {
            var a = new DayPilotBubble.CallBackArgs($m.calendar || $m.root, 'Time', $m, $m.staticBubbleHTML ? $m.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showResource = function($n) {
            var a = new DayPilotBubble.CallBackArgs($n.calendar || $n.root, 'Resource', $n, $n.bubbleHtml ? $n.bubbleHtml() : null);
            this.showOnMouseOver(a);
        };
        this.showHtml = function($o, $p) {
            var a = new DayPilotBubble.CallBackArgs(null, 'Html', null, $o);
            a.div = $p;
            this.show(a);
        };
        this.show = function($q) {
            var $r = this.animated;
            this.$T.showPosition = DayPilotBubble.mouse;
            if (!DayPilotBubble.mouse) {
                setTimeout(function() {
                    $g.show($q);
                }, 100);
                return;
            };
            var id;
            try {
                id = DayPilot.JSON.stringify($q.object);
            } catch (e) {
                return;
            };
            if (DayPilotBubble.active === this && this.$T.sourceId === id) {
                return;
            };
            if (typeof DayPilot.Menu !== 'undefined' && DayPilot.Menu.active) {
                return;
            };
            if (!$g.cssOnly) {
                $g.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            DayPilotBubble.hideActive();
            DayPilotBubble.active = this;
            this.$T.sourceId = id;
            var $p = document.createElement("div");
            $p.setAttribute("unselectable", "on");
            $p.style.position = 'absolute';
            if (!this.showLoadingLabel) {
                $p.style.display = 'none';
            };
            if (!this.cssOnly) {
                if (this.width) {
                    $p.style.width = this.width;
                };
                $p.style.cursor = 'default';
            } else {
                $p.className = this.$U("_main");
            };
            $p.style.top = '0px';
            $p.style.left = '0px';
            $p.style.zIndex = this.zIndex + 1;
            if ($r) {
                $p.style.visibility = 'hidden';
            };
            if (this.hideOnClick) {
                $p.onclick = function() {
                    DayPilotBubble.hideActive();
                };
            };
            $p.onmousemove = function(e) {
                DayPilotBubble.cancelTimeout();
                var e = e || window.event;
                e.cancelBubble = true;
            };
            $p.oncontextmenu = function() {
                return false;
            };
            $p.onmouseout = this.delayedHide;
            var $s = document.createElement("div");
            $p.appendChild($s);
            if (this.cssOnly) {
                $s.className = this.$U("_main_inner");
            } else {
                $s.style.padding = '4px';
                if (this.border) {
                    $s.style.border = this.border;
                };
                if (this.rounded()) {
                    $s.style.MozBorderRadius = "5px";
                    $s.style.webkitBorderRadius = "5px";
                    $s.style.borderRadius = "5px";
                };
                $s.style.backgroundColor = this.backgroundColor;
            };
            $s.innerHTML = this.loadingText;
            document.body.appendChild($p);
            $h.div = $p;
            var $p = this.getDiv($q);
            if (this.position === "EventTop" && $p) {
                var $t = 2;
                var $u = DayPilot.abs($p, true);
                this.$T.mouse = DayPilotBubble.mouse;
                this.$T.mouse.x = $u.x;
                this.$T.mouse.y = $u.y;
                this.$T.mouse.h = $u.h + $t;
                this.$T.mouse.w = $u.w;
            } else {
                this.$T.mouse = DayPilotBubble.mouse;
            };
            if (this.showLoadingLabel && !$r) {
                this.adjustPosition();
                this.addShadow();
            };
            if ($q.staticHTML) {
                this.updateView($q.staticHTML, this);
            } else if (typeof this.onLoad === 'function') {
                var $i = {};
                $i.source = $q.object;
                $i.async = false;
                $i.loaded = function() {
                    if (this.async) {
                        $g.updateView($i.html, $g);
                    }
                };
                this.onLoad($i);
                if (!$i.async) {
                    $g.updateView($i.html, $g);
                }
            } else if (this.$V($q)) {
                this.callBack($q);
            }
        };
        this.getDiv = function($q) {
            if ($q.div) {
                return $q.div;
            };
            if ($q.type === 'Event' && $q.calendar && $q.calendar.internal.findEventDiv) {
                return $q.calendar.internal.findEventDiv($q.object);
            }
        };
        this.$U = function($v) {
            var $w = this.theme || this.cssClassPrefix;
            if ($w) {
                return $w + $v;
            } else {
                return "";
            }
        };
        this.loadingElement = null;
        this.loadingStart = function($u) {};
        this.loadingStop = function() {};
        this.adjustPosition = function() {
            var $r = this.animated;
            var $x = this.position;
            var $y = 10;
            if (!$h.div) {
                return;
            };
            if (!this.$T.mouse) {
                return;
            };
            if (!this.$T.mouse.x || !this.$T.mouse.y) {
                DayPilotBubble.hideActive();
                return;
            };
            var $p = $h.div;
            $p.style.display = '';
            var $z = $p.offsetHeight;
            var $A = $p.offsetWidth;
            $p.style.display = 'none';
            var wd = DayPilot.wd();
            var $B = wd.width;
            var $C = wd.height;
            if ($x === 'Mouse') {
                var $D = 22;
                var $E = 10;
                var top = 0;
                if (this.$T.mouse.clientY > $C - $z + $y) {
                    var $F = this.$T.mouse.clientY - ($C - $z) + $y;
                    top = (this.$T.mouse.y - $z - $E);
                } else {
                    top = this.$T.mouse.y + $D;
                };
                if (typeof top === 'number') {
                    $p.style.top = Math.max(top, 0) + "px";
                };
                if (this.$T.mouse.clientX > $B - $A + $y) {
                    var $G = this.$T.mouse.clientX - ($B - $A) + $y;
                    $p.style.left = (this.$T.mouse.x - $G) + 'px';
                } else {
                    $p.style.left = this.$T.mouse.x + 'px';
                }
            } else if ($x === 'EventTop') {
                var $H = 2;
                var top = this.$T.mouse.y - $z - $H;
                var $I = wd.scrollTop;
                if (top < $I) {
                    top = this.$T.mouse.y + this.$T.mouse.h + $H;
                };
                if (typeof top === 'number') {
                    $p.style.top = Math.max(top, 0) + 'px';
                };
                var $J = this.$T.mouse.x;
                if (this.$T.mouse.x + $A + $y > $B) {
                    $J = $B - $A - $y;
                };
                $p.style.left = $J + 'px';
            };
            $p.style.display = '';
            if ($r) {
                $p.style.display = '';
                var $K = {};
                $K.color = $p.firstChild.style.color;
                $K.overflow = $p.style.overflow;
                $p.firstChild.style.color = "transparent";
                $p.style.overflow = 'hidden';
                this.removeShadow();
                DayPilot.pop($p, {
                    "finished": function() {
                        $p.firstChild.style.color = $K.color;
                        $p.style.overflow = $K.overflow;
                        $g.addShadow();
                    },
                    "vertical": "bottom",
                    "horizontal": "left",
                    "animation": $g.animation
                });
            }
        };
        this.delayedHide = function() {
            DayPilotBubble.cancelTimeout();
            if ($g.hideAfter > 0) {
                DayPilotBubble.timeout = window.setTimeout(DayPilotBubble.hideActive, $g.hideAfter);
            }
        };
        this.showOnMouseOver = function($q) {
            DayPilotBubble.cancelTimeout();
            var $L = function($M) {
                return function() {
                    $g.show($M);
                };
            };
            DayPilotBubble.timeout = window.setTimeout($L($q), this.showAfter);
        };
        this.hideOnMouseOut = function() {
            this.delayedHide();
        };
        this.$V = function($i) {
            if ($i.calendar.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.addShadow = function() {
            if (!this.useShadow) {
                return;
            };
            if (this.cssOnly) {
                return;
            };
            if (!$h.div) {
                return;
            };
            var $p = $h.div;
            if (this.shadows && this.shadows.length > 0) {
                this.removeShadow();
            };
            this.shadows = [];
            for (var i = 0; i < 5; i++) {
                var $N = document.createElement('div');
                $N.setAttribute("unselectable", "on");
                $N.style.position = 'absolute';
                $N.style.width = $p.offsetWidth + 'px';
                $N.style.height = $p.offsetHeight + 'px';
                $N.style.top = $p.offsetTop + i + 'px';
                $N.style.left = $p.offsetLeft + i + 'px';
                $N.style.zIndex = this.zIndex;
                $N.style.filter = 'alpha(opacity:10)';
                $N.style.opacity = 0.1;
                $N.style.backgroundColor = '#000000';
                if (this.rounded()) {
                    $N.style.MozBorderRadius = "5px";
                    $N.style.webkitBorderRadius = "5px";
                    $N.style.borderRadius = "5px";
                };
                document.body.appendChild($N);
                this.shadows.push($N);
            }
        };
        this.removeShadow = function() {
            if (!this.shadows) {
                return;
            };
            for (var i = 0; i < this.shadows.length; i++) {
                document.body.removeChild(this.shadows[i]);
            };
            this.shadows = [];
        };
        this.removeDiv = function() {
            if (!$h.div) {
                return;
            };
            document.body.removeChild($h.div);
            $h.div = null;
        };
        if ($f) {
            for (var name in $f) {
                this[name] = $f[name];
            }
        };
        this.init();
    };
    DayPilot.Bubble.touchPosition = function(ev) {
        if (ev.touches) {
            DayPilotBubble.mouse = DayPilotBubble.touchPosition(ev);
        }
    };
    DayPilotBubble.cancelTimeout = function() {
        if (DayPilotBubble.timeout) {
            window.clearTimeout(DayPilotBubble.timeout);
        }
    };
    DayPilotBubble.hideActive = function() {
        DayPilotBubble.cancelTimeout();
        var $g = DayPilotBubble.active;
        if ($g) {
            $g.removeDiv();
            $g.removeShadow();
        };
        DayPilotBubble.active = null;
    };
    DayPilotBubble.CallBackArgs = function($O, $P, $Q, $R) {
        this.calendar = $O;
        this.type = $P;
        this.object = $Q;
        this.staticHTML = $R;
        this.toJSON = function() {
            var $S = {};
            $S.uid = this.calendar.uniqueID;
            $S.type = this.type;
            $S.object = $Q;
            return $S;
        };
    };
    DayPilot.re(document, 'mousemove', DayPilotBubble.mouseMove);
    DayPilot.BubbleVisible.Bubble = DayPilotBubble.Bubble;
    DayPilot.BubbleVisible.hideActive = DayPilotBubble.hideActive;
    DayPilot.BubbleVisible.cancelTimeout = DayPilotBubble.cancelTimeout;
    DayPilot.Bubble.hideActive = DayPilotBubble.hideActive;
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotCalendar === 'undefined') {
    var DayPilotCalendar = DayPilot.CalendarVisible = {};
};
(function() {
    if (typeof DayPilot.Calendar !== 'undefined') {
        return;
    };
    DayPilot.Calendar = function(id, $a) {
        this.v = '2130';
        var $b = false;
        if (this instanceof DayPilot.Calendar && !this.$4m) {
            $b = true;
            this.$4m = true;
        };
        if (!$b) {
            throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";
        };
        var $c = this;
        this.uniqueID = null;
        this.id = id;
        this.isCalendar = true;
        this.api = 2;
        this.clientName = id;
        this.clientState = {};
        this.$4n = {};
        this.$4n.pixels = {};
        this.$4n.events = [];
        this.elements = {};
        this.elements.events = [];
        this.elements.separators = [];
        this.nav = {};
        this.events = {};
        this.hideUntilInit = true;
        this.$4o = true;
        this.allDayEnd = "DateTime";
        this.allDayEventHeight = 25;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.backendUrl = null;
        this.borderColor = "#000000";
        this.bubble = null;
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.cellBackColor = "#FFFFD5";
        this.cellBackColorNonBusiness = "#FFF4BC";
        this.cellBorderColor = "#999999";
        this.cellHeight = 20;
        this.cellDuration = 30;
        this.columnBubble = null;
        this.columnMarginRight = 5;
        this.columns = null;
        this.columnWidth = 200;
        this.columnWidthSpec = "Auto";
        this.contextMenu = null;
        this.contextMenuSelection = null;
        this.cornerBackColor = "#ECE9D8";
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = "Header";
        this.cssOnly = true;
        this.dayBeginsHour = 0;
        this.dayEndsHour = 24;
        this.days = 1;
        this.durationBarColor = 'blue';
        this.durationBarVisible = true;
        this.durationBarWidth = 5;
        this.durationBarImageUrl = null;
        this.eventArrangement = "SideBySide";
        this.eventBackColor = '#ffffff';
        this.eventBorderColor = "#000000";
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '8pt';
        this.eventFontColor = "#000000";
        this.eventSelectColor = 'blue';
        this.headerFontSize = '10pt';
        this.headerFontFamily = 'Tahoma';
        this.headerFontColor = "#000000";
        this.headerHeight = 20;
        this.headerLevels = 1;
        this.height = 300;
        this.heightSpec = 'BusinessHours';
        this.hideFreeCells = false;
        this.headerDateFormat = null;
        this.hourHalfBorderColor = "#F3E4B1";
        this.hourBorderColor = "#EAD098";
        this.hourFontColor = "#000000";
        this.hourFontFamily = "Tahoma";
        this.hourFontSize = "16pt";
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.hourWidth = 45;
        this.initScrollPos = null;
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.loadingLabelBackColor = "orange";
        this.loadingLabelFontColor = "#ffffff";
        this.loadingLabelFontFamily = "Tahoma";
        this.loadingLabelFontSize = "10pt";
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.moveBy = "Full";
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.roundedCorners = false;
        this.rtl = false;
        this.scrollLabelsVisible = false;
        this.selectedColor = "#316AC5";
        this.shadow = 'Fill';
        this.showToolTip = true;
        this.showAllDayEvents = false;
        this.showAllDayEventStartEnd = true;
        this.showEventStartEnd = false;
        this.showHeader = true;
        this.showHours = true;
        this.showCurrentTime = true;
        this.showCurrentTimeMode = "Day";
        this.showCurrentTimeOffset = 0;
        this.startDate = DayPilot.Date.today();
        this.cssClassPrefix = "calendar_default";
        this.tapAndHoldTimeout = 300;
        this.theme = null;
        this.timeFormat = 'Auto';
        this.timeHeaderCellDuration = 60;
        this.useEventBoxes = 'Always';
        this.viewType = 'Days';
        this.visible = true;
        this.weekStarts = null;
        this.width = null;
        this.eventClickHandling = 'Enabled';
        this.eventDoubleClickHandling = 'Disabled';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventDeleteHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventHoverHandling = 'Bubble';
        this.eventResizeHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventSelectHandling = 'Update';
        this.eventTapAndHoldHandling = 'Move';
        this.headerClickHandling = 'Enabled';
        this.timeRangeTapAndHoldHandling = 'Select';
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = "Enabled";
        this.timeRangeRightClickHandling = "ContextMenu";
        this.onTimeRangeRightClick = null;
        this.onTimeRangeRightClicked = null;
        this.$4p = true;
        this.$4q = false;
        this.$4r = 0;
        this.doubleClickTimeout = 300;
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "cssOnly", "clientName", "uniqueID"];
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members"];
        this.members.noCssOnly = ["allDayEventBorderColor", "allDayEventFontColor", "allDayEventFontFamily", "allDayEventFontSize", "borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cornerBackColor", "durationBarColor", "durationBarImageUrl", "eventBackColor", "eventBorderColor", "eventFontColor", "eventFontFamily", "eventFontSize", "eventSelectColor", "headerFontColor", "headerFontFamily", "headerFontSize", "hourBorderColor", "hourFontColor", "hourFontFamily", "hourFontSize", "hourHalfBorderColor", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "roundedCorners", "selectedColor", "shadow", "useEventSelectionBars"];
        this.$4s = {};
        this.$4s.ie = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
        this.$4s.ie9 = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE 9") !== -1);
        this.$4s.ielt9 = (function() {
            var $d = document.createElement("div");
            $d.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
            var $e = ($d.getElementsByTagName("i").length === 1);
            return $e;
        })();
        this.$4s.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
        this.$4s.opera105 = (function() {
            if (/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 10.5;
            };
            return false;
        })();
        this.$4s.webkit522 = (function() {
            if (/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 522;
            };
            return false;
        })();
        this.clearSelection = function() {
            if (!this.selectedCells) {
                this.selectedCells = [];
                return;
            };
            this.$4t();
            this.selectedCells = [];
        };
        this.$4t = function() {
            if (!this.selectedCells) {
                return;
            };
            for (var j = 0; j < this.selectedCells.length; j++) {
                var $f = this.selectedCells[j];
                if ($f) {
                    if ($f.selected) {
                        $f.removeChild($f.selected);
                        $f.firstChild.style.display = '';
                        $f.selected = null;
                    }
                }
            }
        };
        this.cleanSelection = this.clearSelection;
        this.$4u = function($g, $h, $i) {
            var $j = {};
            $j.action = $g;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$4v();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            __doPostBack($c.uniqueID, $k);
        };
        this.$4w = function($g, $i, $h, $l) {
            if (!this.$4x()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            if (typeof $l === 'undefined') {
                $l = "CallBack";
            };
            this.callbackTimeout = window.setTimeout(function() {
                $c.$4y();
            }, 100);
            var $j = {};
            $j.action = $g;
            $j.type = $l;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$4v();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$4z, $k, this.$4A);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $k, this.$4B, this.clientName, this.onCallbackError, true);
            }
        };
        this.$4x = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$4A = function($m) {
            if (typeof $c.onAjaxError === 'function') {
                var $n = {};
                $n.request = $m;
                $c.onAjaxError($n);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($m);
            }
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$4C();
            c.$4D();
            if (c.nav.messageClose) {
                c.nav.messageClose.onclick = null;
            };
            if (c.nav.hourTable) c.nav.hourTable.oncontextmenu = null;
            if (c.nav.hourTable) c.nav.hourTable.onmousemove = null;
            if (c.nav.header) c.nav.header.oncontextmenu = null;
            if (c.nav.corner) c.nav.corner.oncontextmenu = null;
            c.nav.zoom.onmousemove = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            DayPilot.pu(c.nav.loading);
            c.$4E();
            c.$4F();
            c.nav.select = null;
            c.nav.cornerRight = null;
            c.nav.scrollable = null;
            c.nav.bottomLeft = null;
            c.nav.bottomRight = null;
            c.nav.allday = null;
            c.nav.zoom = null;
            c.nav.loading = null;
            c.nav.events = null;
            c.nav.header = null;
            c.nav.hourTable = null;
            c.nav.scrolltop = null;
            c.nav.scroll = null;
            c.nav.vsph = null;
            c.nav.main = null;
            c.nav.message = null;
            c.nav.messageClose = null;
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top = null;
            DayPilot.ue(window, 'resize', c.$4G);
            DayPilotCalendar.unregister(c);
        };
        this.$4H = function() {
            this.nav.top.dispose = this.dispose;
        };
        this.$4z = function($o) {
            $c.$4B($o.responseText);
        };
        this.$4v = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpc";
            h.id = this.id;
            h.clientState = $c.clientState;
            h.columns = this.$4I();
            h.days = $c.days;
            h.startDate = $c.startDate;
            h.cellDuration = $c.cellDuration;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.heightSpec = $c.heightSpec;
            h.businessBeginsHour = $c.businessBeginsHour;
            h.businessEndsHour = $c.businessEndsHour;
            h.viewType = $c.viewType;
            h.dayBeginsHour = $c.dayBeginsHour;
            h.dayEndsHour = $c.dayEndsHour;
            h.headerLevels = $c.headerLevels;
            h.backColor = $c.cellBackColor;
            h.nonBusinessBackColor = $c.cellBackColorNonBusiness;
            h.eventHeaderVisible = $c.eventHeaderVisible;
            h.timeFormat = $c.timeFormat;
            h.timeHeaderCellDuration = $c.timeHeaderCellDuration;
            h.locale = $c.locale;
            h.scrollY = $c.scrollPos;
            h.showAllDayEvents = $c.showAllDayEvents;
            h.tagFields = $c.tagFields;
            h.weekStarts = $c.weekStarts;
            h.hourNameBackColor = $c.hourNameBackColor;
            h.hourFontFamily = $c.hourFontFamily;
            h.hourFontSize = $c.hourFontSize;
            h.hourFontColor = $c.hourFontColor;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.$4J = function() {
            this.$4K();
            DayPilot.Areas.hideAll();
        };
        this.$4I = function() {
            var $p = [];
            $p.ignoreToJSON = true;
            if (!this.columns) {
                return $p;
            };
            for (var i = 0; i < this.columns.length; i++) {
                var $q = this.columns[i];
                var $r = this.$4L($q);
                $p.push($r);
            };
            return $p;
        };
        this.$4L = function($q) {
            var $r = {};
            $r.Value = $q.id;
            $r.Name = $q.name;
            $r.ToolTip = $q.toolTip;
            $r.Date = $q.start;
            $r.Children = this.$4M($q.children);
            return $r;
        };
        this.$4M = function($s) {
            var $t = [];
            $t.ignoreToJSON = true;
            if (!$s) {
                return $t;
            };
            for (var i = 0; i < $s.length; i++) {
                $t.push(this.$4L($s[i]));
            };
            return $t;
        };
        this.$4B = function($u, $v) {
            var $u = DayPilot.Util.parseJSON($u);
            if ($u.BubbleGuid) {
                var $w = $u.BubbleGuid;
                var $x = this.bubbles[$w];
                delete this.bubbles[$w];
                $c.$4N();
                if (typeof $u.Result.BubbleHTML !== 'undefined') {
                    $x.updateView($u.Result.BubbleHTML, $x);
                };
                return;
            };
            if ($u.CallBackRedirect) {
                document.location.href = $u.CallBackRedirect;
                return;
            };
            if (typeof $u.ClientState !== 'undefined') {
                $c.clientState = $u.ClientState;
            };
            if ($u.UpdateType === "None") {
                $c.$4N();
                $c.$4O($u.CallBackData, true);
                if ($u.Message) {
                    $c.message($u.Message);
                };
                return;
            };
            if ($u.VsUpdate) {
                var $y = document.createElement("input");
                $y.type = 'hidden';
                $y.name = $c.id + "_vsupdate";
                $y.id = $y.name;
                $y.value = $u.VsUpdate;
                $c.nav.vsph.innerHTML = '';
                $c.nav.vsph.appendChild($y);
            };
            $c.$4D();
            $c.multiselect.clear(true);
            $c.multiselect.$4P = $u.SelectedEvents;
            if (typeof $u.TagFields !== 'undefined') {
                $c.tagFields = $u.TagFields;
            };
            if (typeof $u.SortDirections !== 'undefined') {
                $c.sortDirections = $u.SortDirections;
            };
            if ($u.UpdateType === "Full") {
                $c.colors = $u.Colors;
                $c.palette = $u.Palette;
                $c.dirtyColors = $u.DirtyColors;
                $c.cellProperties = $u.CellProperties;
                $c.cellConfig = $u.CellConfig;
                $c.columns = $u.Columns;
                $c.days = $u.Days;
                $c.startDate = new DayPilot.Date($u.StartDate).getDatePart();
                $c.cellDuration = $u.CellDuration;
                $c.heightSpec = $u.HeightSpec ? $u.HeightSpec : $c.heightSpec;
                $c.businessBeginsHour = $u.BusinessBeginsHour ? $u.BusinessBeginsHour : $c.businessBeginsHour;
                $c.businessEndsHour = $u.BusinessEndsHour ? $u.BusinessEndsHour : $c.businessEndsHour;
                $c.viewType = $u.ViewType;
                $c.headerLevels = $u.HeaderLevels;
                $c.backColor = $u.BackColor ? $u.BackColor : $c.backColor;
                $c.nonBusinessBackColor = $u.NonBusinessBackColor ? $u.NonBusinessBackColor : $c.nonBusinessBackColor;
                $c.eventHeaderVisible = $u.EventHeaderVisible ? $u.EventHeaderVisible : $c.eventHeaderVisible;
                $c.timeFormat = $u.TimeFormat ? $u.TimeFormat : $c.timeFormat;
                $c.timeHeaderCellDuration = typeof $u.TimeHeaderCellDuration !== 'undefined' ? $u.TimeHeaderCellDuration : $c.timeHeaderCellDuration;
                $c.locale = $u.Locale ? $u.Locale : $c.locale;
                $c.dayBeginsHour = typeof $u.DayBeginsHour !== 'undefined' ? $u.DayBeginsHour : $c.dayBeginsHour;
                $c.dayEndsHour = typeof $u.DayEndsHour !== 'undefined' ? $u.DayEndsHour : $c.dayEndsHour;
                $c.cornerBackColor = $u.CornerBackColor;
                $c.cornerHtml = $u.CornerHTML;
                $c.hours = $u.Hours;
                $c.$4Q();
                $c.$4R();
            };
            if ($u.Hashes) {
                for (var $z in $u.Hashes) {
                    $c.hashes[$z] = $u.Hashes[$z];
                }
            };
            $c.$4S($u.Events);
            $c.$4T();
            if ($u.UpdateType === "Full" || $c.hideFreeCells) {
                $c.$4U();
                $c.$4V();
                $c.$4W();
                $c.$4X();
                $c.$4Y();
                $c.$4Z();
                $c.$50();
                $c.$51();
                $c.clearSelection();
                $c.$52();
                if (typeof $u.ScrollY !== "undefined") {
                    $c.scrollToY($u.ScrollY);
                } else {
                    $c.scrollToY($c.initScrollPos);
                }
            };
            $c.$53();
            $c.$54();
            $c.$55();
            $c.$56();
            if ($c.heightSpec === "Parent100Pct") {
                $c.$4G();
            };
            if ($c.timeRangeSelectedHandling !== "HoldForever") {
                $c.clearSelection();
            };
            $c.$57();
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            };
            $c.$4O($u.CallBackData, true);
            $c.$4N();
            $c.$58();
            if ($u.Message) {
                $c.message($u.Message);
            }
        };
        this.$4O = function($h, $B) {
            var $C = function($h, $D) {
                return function() {
                    if ($c.$59()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $n = {};
                            $n.isCallBack = $D;
                            $n.data = $h;
                            $c.onAfterRender($n);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($h, $D);
                        }
                    }
                };
            };
            window.setTimeout($C($h, $B), 0);
        };
        this.$5a = function($E, $F, $l) {
            var $G = $c.nav.events;
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var i = Math.floor($c.coords.x / $H);
            if (i < 0) {
                i = 0;
            };
            if ($c.rtl) {
                i = $c.$5b.length - i - 1;
            };
            var $q = $G.rows[0].cells[i];
            var $I = 0;
            var $J = 0;
            var top = 0;
            if (typeof $E.duration !== 'undefined') {
                var $K = $E.duration;
                top = Math.floor((($c.coords.y - $I) + $c.cellHeight / 2) / $c.cellHeight) * $c.cellHeight + $I;
                $J = $K * $c.cellHeight / (60 * $c.cellDuration);
                $J = Math.max($J, $c.cellHeight);
            } else {
                var e = $E.event;
                $J = e.part.height;
                top = e.part.top;
            };
            var $L = document.createElement('div');
            $L.setAttribute('unselectable', 'on');
            $L.style.position = 'absolute';
            $L.style.width = '100%';
            $L.style.height = $J + 'px';
            $L.style.left = '0px';
            $L.style.top = top + 'px';
            $L.style.zIndex = 101;
            $L.exclude = true;
            var $M = document.createElement("div");
            $L.appendChild($M);
            if (this.cssOnly) {
                $L.className = $c.$5c("_shadow");
                $M.className = this.$5c("_shadow_inner");
            };
            if (!this.cssOnly) {
                $M.style.position = "absolute";
                $M.style.top = "0px";
                $M.style.bottom = "0px";
                $M.style.left = "0px";
                $M.style.right = "0px";
                if ($l === 'Fill') {
                    $M.style.backgroundColor = "#aaaaaa";
                    $M.style.opacity = 0.5;
                    $M.style.filter = "alpha(opacity=50)";
                    $M.style.border = '2px solid #aaaaaa';
                } else {
                    $M.style.border = '2px dotted #666666';
                };
                if (this.roundedCorners) {
                    $M.style.MozBorderRadius = "5px";
                    $M.style.webkitBorderRadius = "5px";
                    $M.style.borderRadius = "5px";
                }
            };
            $q.events.appendChild($L);
            return $L;
        };
        this.$5d = function() {
            return this.$5e() / (3600 * 1000);
        };
        this.$5f = function() {
            if (this.businessBeginsHour > this.businessEndsHour) {
                return 24 - this.businessBeginsHour + this.businessEndsHour;
            } else {
                return this.businessEndsHour - this.businessBeginsHour;
            }
        };
        this.$5g = function() {
            if (this.dayBeginsHour >= this.dayEndsHour) {
                return 24 - this.dayBeginsHour + this.dayEndsHour;
            } else {
                return this.dayEndsHour - this.dayBeginsHour;
            }
        };
        this.$5e = function($N) {
            var $O = 0;
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                $O = this.$5f();
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$5h - 1) * this.cellDuration / this.cellHeight;
                var $Q = Math.ceil($P / 60);
                var $R = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                $O = Math.max(this.dayBeginsHour + $Q, $R) - this.$5i();
            } else {
                $O = this.$5g();
            };
            return $O * 60 * 60 * 1000;
        };
        this.message = function($S, $T, $U, $V) {
            if (!$S) {
                return;
            };
            var $T = $T || this.messageHideAfter || 2000;
            var $U = $U || "#ffffff";
            var $V = $V || "#000000";
            var $W = 0.8;
            var $d;
            var top = this.$5j();
            var $X = this.showHours ? this.hourWidth : 0;
            var $Y = DayPilot.sw($c.$5k());
            if (!this.cssOnly) {
                top += 1;
                $X += 2;
                $Y -= 2;
            };
            if ($c.rtl) {
                var $Z = $X;
                $X = $Y;
                $Y = $Z;
            };
            if (!this.nav.message) {
                $d = document.createElement("div");
                $d.style.position = "absolute";
                $d.style.left = ($X) + "px";
                $d.style.top = (top) + "px";
                $d.style.right = "0px";
                $d.style.display = 'none';
                $d.onmousemove = function() {
                    if ($d.messageTimeout && !$d.status) {
                        clearTimeout($d.messageTimeout);
                    }
                };
                $d.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $d.messageTimeout = setTimeout($c.$5l, 500);
                    }
                };
                var $M = document.createElement("div");
                $M.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.filter = "alpha(opacity=" + ($W * 100) + ")";
                } else {
                    $M.className = this.$5c("_message");
                };
                $d.appendChild($M);
                var close = document.createElement("div");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.$5k()) + 5) + "px";
                    close.style.color = $U;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$5c("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $d.appendChild(close);
                this.nav.top.insertBefore($d, this.nav.loading);
                this.nav.message = $d;
                this.nav.messageClose = close;
            } else {
                $d = $c.nav.message;
                this.nav.message.style.top = top + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.message.style.right = $Y + "px";
            } else {
                this.nav.message.style.right = "0px";
            };
            var $00 = function() {
                if (!$c.nav.message) {
                    return;
                };
                var $M = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.backgroundColor = $V;
                    $M.style.color = $U;
                };
                $M.innerHTML = $S;
                var end = function() {
                    $d.messageTimeout = setTimeout($c.$5l, $T);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($d.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $00);
            } else {
                $00();
            }
        };
        this.message.show = function($S) {
            $c.message($S);
        };
        this.message.hide = function() {
            $c.$5l();
        };
        this.$5l = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$4X = function() {
            if (this.nav.message) {
                this.nav.message.style.top = (this.$5j()) + "px";
            }
        };
        this.$5m = function() {
            return this.$5e() / (60 * 1000 * this.cellDuration);
        };
        this.eventClickPostBack = function(e, $h) {
            this.$4u('EventClick', $h, e);
        };
        this.eventClickCallBack = function(e, $h) {
            this.$4w('EventClick', e, $h);
        };
        this.$5n = function(e) {
            var $d = this;
            var e = e || window.event;
            var $01 = e.ctrlKey;
            var $02 = e.metaKey;
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$5o($d, $01, $02);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $03 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$03]);
                };
                $c.timeouts = [];
            };
            var $04 = function($d, $01, $02) {
                return function() {
                    $c.$5o($d, $01, $02);
                };
            };
            $c.timeouts.push(window.setTimeout($04(this, $01, $02), $c.doubleClickTimeout));
        };
        this.$5o = function($05, $01, $02) {
            var e = $05.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($c.$59()) {
                var $n = {};
                $n.e = e;
                $n.ctrl = $01;
                $n.meta = $02;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $c.$5p($05);
                        break;
                    case 'Select':
                        $c.$5q($05, e, $01, $02);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($n);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Edit':
                        $c.$5p($05);
                        break;
                    case 'Select':
                        $c.$5q($05, e, $01, $02);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventDoubleClickPostBack = function(e, $h) {
            this.$4u('EventDoubleClick', $h, e);
        };
        this.eventDoubleClickCallBack = function(e, $h) {
            this.$4w('EventDoubleClick', e, $h);
        };
        this.$5r = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $03 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$03]);
                };
                $c.timeouts = null;
            };
            var e = this.event;
            var ev = ev || window.event;
            if ($c.$59()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$5p(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$5q(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($n);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$5p(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$5q(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $h) {
            this.$4u('EventRightClick', $h, e);
        };
        this.eventRightClickCallBack = function(e, $h) {
            this.$4w('EventRightClick', e, $h);
        };
        this.$5s = function(ev) {
            var e = this.event;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$59()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($n);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            if (ev.preventDefault) {
                ev.preventDefault();
            };
            return false;
        };
        this.headerClickPostBack = function(c, $h) {
            this.$4u('HeaderClick', $h, c);
        };
        this.headerClickCallBack = function(c, $h) {
            this.$4w('HeaderClick', c, $h);
        };
        this.$5t = function($E) {
            var $h = this.data;
            var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
            if ($c.$59()) {
                var $n = {};
                $n.header = {};
                $n.header.id = $h.id;
                $n.header.name = $h.name;
                $n.header.start = $h.start;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($n);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.$5u = function() {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                if ($c.viewType === "Resources") {
                    var $07 = {};
                    $07.calendar = $c;
                    $07.id = this.data.id;
                    $07.toJSON = function() {
                        var $08 = {};
                        $08.id = this.id;
                        return $08;
                    };
                    $c.columnBubble.showResource($07);
                } else {
                    var $09 = new DayPilot.Date(this.data.start);
                    var end = $09.addDays(1);
                    var $0a = {};
                    $0a.calendar = $c;
                    $0a.start = $09;
                    $0a.end = end;
                    $0a.toJSON = function() {
                        var $08 = {};
                        $08.start = this.start;
                        $08.end = this.end;
                        return $08;
                    };
                    $c.columnBubble.showTime($0a);
                }
            };
            var $f = this;
            var $d = $f.firstChild;
            if (!$d.active) {
                var $h = $f.data;
                var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                c.areas = $f.data.areas;
                DayPilot.Areas.showAreas($d, c);
            }
        };
        this.$5v = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                $c.columnBubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this.firstChild, ev);
        };
        this.eventDeletePostBack = function(e, $h) {
            this.$4u('EventDelete', $h, e);
        };
        this.eventDeleteCallBack = function(e, $h) {
            this.$4w('EventDelete', e, $h);
        };
        this.$5w = function($E) {
            var e;
            if ($E && $E.isEvent) {
                e = $E;
            } else {
                e = $E.parentNode.parentNode.event;
            };
            if ($c.$59()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($n);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0b, $0c, $h) {
            if (!$0b) {
                throw 'newStart is null';
            };
            if (!$0c) {
                throw 'newEnd is null';
            };
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$4u('EventResize', $h, $0d);
        };
        this.eventResizeCallBack = function(e, $0b, $0c, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$4w('EventResize', $0d, $h);
        };
        this.$5x = function($l, $g, $0d, $h) {
            if ($l === 'PostBack') {
                $c.postBack2($g, $0d, $h);
            } else if ($l === 'CallBack') {
                $c.$4w($g, $0d, $h, "CallBack");
            } else if ($l === 'Immediate') {
                $c.$4w($g, $0d, $h, "Notify");
            } else if ($l === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $g, $0d, $h));
            } else if ($l === 'Notify') {
                if ($0e.notifyType() === 'Notify') {
                    $c.$4w($g, $0d, $h, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $g, $0d, $h));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$5i = function($N) {
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                return this.businessBeginsHour;
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$5y) * this.cellDuration / this.cellHeight;
                var $Q = Math.floor($P / 60);
                $Q = Math.max(0, $Q);
                return Math.min(this.dayBeginsHour + $Q, this.businessBeginsHour);
            } else {
                return this.dayBeginsHour;
            }
        };
        this.visibleStart = function() {
            return this.$5b[0].start;
        };
        this.visibleEnd = function() {
            var $0f = this.$5b;
            var $N = $0f.length - 1;
            return $0f[$N].start.addDays(1);
        };
        this.$59 = function() {
            return $c.api === 2;
        };
        this.$5z = function(e, $0g, $0h, $0i) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0b = new Date();
            var $0c = new Date();
            var $09 = e.start();
            var end = e.end();
            var $0j = $c.cellDuration;
            var $0k = $c.$5b[e.part.dayIndex].start;
            if ($0i === 'top') {
                var $0k = $09.getDatePart();
                var $0l = Math.floor(($0h - $I) / $c.cellHeight);
                var $0m = $0l * $0j;
                var ts = $0m * 60 * 1000;
                var $0n = $c.$5i() * 60 * 60 * 1000;
                $0b = $0k.addTime(ts + $0n);
                $0c = e.end();
            } else if ($0i === 'bottom') {
                var $0l = Math.floor(($0h + $0g - $I) / $c.cellHeight);
                var $0m = $0l * $0j;
                var ts = $0m * 60 * 1000;
                var $0n = $c.$5i() * 60 * 60 * 1000;
                $0b = $09;
                $0c = $0k.addTime(ts + $0n);
            };
            if ($c.$59()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0b;
                $n.newEnd = $0c;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0b, $0c);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0b, $0c);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0b, $0c);
                        break;
                    case 'Update':
                        e.start($0b);
                        e.end($0c);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($n);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0b, $0c);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0b, $0c);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $0b, $0c);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0b, $0c);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $0b, $0c, $h) {
            var $0o = new DayPilot.Event(e.copy(), this);
            e.start($0b);
            e.end($0c);
            e.commit();
            $c.update();
            this.$5A("Notify", $0o, $0b, $0c, $h);
        };
        this.$5A = function($l, e, $0b, $0c, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$5x($l, "EventResize", $0d, $h);
        };
        this.eventMovePostBack = function(e, $0b, $0c, $0p, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$4u('EventMove', $h, $0d);
        };
        this.eventMoveCallBack = function(e, $0b, $0c, $0p, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$4w('EventMove', $0d, $h);
        };
        this.$5B = function(e, $0q, $0h, ev, $0r) {
            if ($c.eventMoveHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0l = Math.floor(($0h - $I) / $c.cellHeight);
            var $0j = $c.cellDuration;
            var $0s = $0l * $0j * 60 * 1000;
            var $09 = e.start();
            var end = e.end();
            var $0k = new Date();
            if ($09 instanceof DayPilot.Date) {
                $09 = $09.toDate();
            };
            $0k.setTime(Date.UTC($09.getUTCFullYear(), $09.getUTCMonth(), $09.getUTCDate()));
            var $0t = ($c.useEventBoxes !== 'Never') ? $09.getTime() - ($0k.getTime() + $09.getUTCHours() * 3600 * 1000 + Math.floor($09.getUTCMinutes() / $0j) * $0j * 60 * 1000) : 0;
            var length = end.getTime() - $09.getTime();
            var $0n = $c.$5i() * 3600 * 1000;
            if (typeof $0q === "undefined") {
                $0q = e.part.dayIndex;
            };
            var $0u = this.$5b[$0q];
            var $0v = $0u.start.getTime();
            var $0w = new Date();
            $0w.setTime($0v + $0s + $0t + $0n);
            var $0b = new DayPilot.Date($0w);
            var $0c = $0b.addTime(length);
            var external = !!$0r;
            var $0p = $0u.id;
            if ($c.$59()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0b;
                $n.newEnd = $0c;
                $n.newResource = $0p;
                $n.external = external;
                $n.ctrl = false;
                if (ev) {
                    $n.ctrl = ev.ctrlKey;
                };
                $n.shift = false;
                if (ev) {
                    $n.shift = ev.shiftKey;
                };
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0b, $0c, $0p);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0b, $0c, $0p);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0b, $0c, $0p);
                        break;
                    case 'Update':
                        e.start($0b);
                        e.end($0c);
                        e.resource($0p);
                        if (external) {
                            e.commit();
                            $c.events.add(e);
                        } else {
                            $c.events.update(e);
                        };
                        $c.$5C();
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($n);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0b, $0c, $0p);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0b, $0c, $0p);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $0b, $0c, $0p, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0b, $0c, $0p, null);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $0b, $0c, $0p, $h) {
            var $0o = new DayPilot.Event(e.copy(), this);
            e.start($0b);
            e.end($0c);
            e.resource($0p);
            e.commit();
            $c.update();
            this.$5D("Notify", $0o, $0b, $0c, $0p, $h);
        };
        this.$5D = function($l, e, $0b, $0c, $0p, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$5x($l, "EventMove", $0d, $h);
        };
        this.$5C = function() {
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            }
        };
        this.$5E = function($n, $x) {
            var $w = $c.$5F($x);
            var $0d = {};
            $0d.args = $n;
            $0d.guid = $w;
            $c.$4w("Bubble", $0d);
        };
        this.$5F = function($x) {
            var $w = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$w] = $x;
            return $w;
        };
        this.eventMenuClickPostBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.command = $0x;
            this.$4u('EventMenuClick', $h, $0d);
        };
        this.eventMenuClickCallBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.command = $0x;
            this.$4w('EventMenuClick', $0d, $h);
        };
        this.$5G = function($0x, e, $0y) {
            switch ($0y) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $0x);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $0x);
                    break;
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.selection = e;
            $0d.command = $0x;
            this.$4u("TimeRangeMenuClick", $h, $0d);
        };
        this.timeRangeMenuClickCallBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.selection = e;
            $0d.command = $0x;
            this.$4w("TimeRangeMenuClick", $0d, $h);
        };
        this.$5H = function($0x, e, $0y) {
            switch ($0y) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $0x);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $0x);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($09, end, $0z, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $0z;
            this.$4u('TimeRangeSelected', $h, $0A);
        };
        this.timeRangeSelectedCallBack = function($09, end, $0z, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $0z;
            this.$4w('TimeRangeSelected', $0A, $h);
        };
        this.$5I = function($09, end, $q) {
            $09 = new DayPilot.Date($09);
            end = new DayPilot.Date(end);
            var $0z = $q;
            if ($c.$59()) {
                var $n = {};
                $n.start = $09;
                $n.end = end;
                $n.resource = $0z;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($09, end, $0z);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($09, end, $0z);
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($n);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($09, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($09, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($09, end, $q);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($09, end, $q, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $q;
            this.$4u('TimeRangeDoubleClick', $h, $0A);
        };
        this.timeRangeDoubleClickCallBack = function($09, end, $q, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $q;
            this.$4w('TimeRangeDoubleClick', $0A, $h);
        };
        this.$5J = function($09, end, $q) {
            if ($c.$59()) {
                var $0z = $q;
                var $n = {};
                $n.start = $09;
                $n.end = end;
                $n.resource = $0z;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($09, end, $0z);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($09, end, $0z);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($n);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($09, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($09, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($09, end, $q);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $0B, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newText = $0B;
            this.$4u("EventEdit", $h, $0d);
        };
        this.eventEditCallBack = function(e, $0B, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newText = $0B;
            this.$4w("EventEdit", $0d, $h);
        };
        this.$5K = function(e, $0B) {
            if ($c.$59()) {
                var $n = {};
                $n.e = e;
                $n.newText = $0B;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventEdit === 'function') {
                    $c.onEventEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0B);
                        break;
                    case 'Update':
                        e.text($0B);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventEdited === 'function') {
                    $c.onEventEdited($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                }
            } else {
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0B);
                        break;
                    case 'JavaScript':
                        $c.onEventEdit(e, $0B);
                        break;
                }
            }
        };
        this.eventSelectPostBack = function(e, $0C, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.change = $0C;
            this.$4u('EventSelect', $h, $0d);
        };
        this.eventSelectCallBack = function(e, $0C, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.change = $0C;
            this.$4w('EventSelect', $0d, $h);
        };
        this.$5L = function($d, e, $01, $02) {
            var m = $c.multiselect;
            var $0D = false;
            var $0E = m.isSelected(e);
            var $0F = $01 || $02;
            if (!$0F && $0E && !$0D && m.$5M.length === 1) {
                return;
            };
            if ($c.$59()) {
                m.previous = m.events();
                var $n = {};
                $n.e = e;
                $n.selected = m.isSelected(e);
                $n.ctrl = $01;
                $n.meta = $02;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0C);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0C);
                        break;
                    case 'Update':
                        m.$5N($d, $01);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $n.change = m.isSelected(e) ? "selected" : "deselected";
                    $n.selected = m.isSelected(e);
                    $c.onEventSelected($n);
                }
            } else {
                m.previous = m.events();
                m.$5N($d, $01);
                var $0C = m.isSelected(e) ? "selected" : "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0C);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0C);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $0C);
                        break;
                }
            }
        };
        this.commandCallBack = function($0x, $h) {
            this.$4C();
            var $0d = {};
            $0d.command = $0x;
            this.$4w('Command', $0d, $h);
        };
        this.$5O = function(ev) {
            if ($0G.active || $0G.using) {
                return;
            };
            clearTimeout(DayPilotCalendar.selectedTimeout);
            if (DayPilotCalendar.selecting) {
                return;
            };
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            if ($c.selectedCells && $c.timeRangeDoubleClickHandling !== 'Disabled') {
                for (var i = 0; i < $c.selectedCells.length; i++) {
                    if (this === $c.selectedCells[i]) {
                        return;
                    }
                }
            };
            if ($c.timeRangeSelectedHandling === "Disabled") {
                return;
            };
            var $0H = DayPilot.Util.mouseButton(ev);
            if (!$0H.left) {
                return;
            };
            DayPilotCalendar.firstMousePos = DayPilot.mc(ev || window.event);
            $c.clearSelection();
            DayPilotCalendar.topSelectedCell = this;
            DayPilotCalendar.bottomSelectedCell = this;
            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
            $c.selectedCells.push(this);
            DayPilotCalendar.firstSelected = this;
        };
        this.$5P = function() {
            var $0I = this.getSelection();
            if (!$0I) {
                return;
            };
            if (!$c.selectedCells) {
                return;
            };
            for (var j = 0; j < $c.selectedCells.length; j++) {
                var $f = $c.selectedCells[j];
                if ($f && !$f.selected) {
                    var $d = document.createElement("div");
                    $d.style.height = ($c.cellHeight - 1) + "px";
                    $d.style.backgroundColor = $c.selectedColor;
                    $f.firstChild.style.display = "none";
                    $f.insertBefore($d, $f.firstChild);
                    $f.selected = $d;
                }
            }
        };
        this.$5Q = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                $c.cellBubble.hideOnMouseOut();
            }
        };
        this.$5R = function(ev) {
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            if ($0G.active || $0G.using) {
                return;
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                var $q = DayPilotCalendar.getColumn(this);
                var $07 = $c.$5b[$q].id;
                var $f = {};
                $f.calendar = $c;
                $f.start = this.start;
                $f.end = this.end;
                $f.resource = $07;
                $f.toJSON = function() {
                    var $08 = {};
                    $08.start = this.start;
                    $08.end = this.end;
                    $08.resource = this.resource;
                    return $08;
                };
                $c.cellBubble.showCell($f);
            };
            if (DayPilotCalendar.firstMousePos) {
                var $0J = DayPilotCalendar.firstMousePos;
                var $0K = DayPilot.mc(ev || window.event);
                if ($0J.x !== $0K.x || $0J.y !== $0K.y) {
                    DayPilotCalendar.selecting = true;
                    $c.clearSelection();
                    $c.$5P();
                }
            };
            if (!DayPilotCalendar.selecting) {
                return;
            };
            var $0L = DayPilot.mc(ev || window.event);
            var $0M = DayPilotCalendar.getColumn(this);
            if ($0M !== DayPilotCalendar.column) {
                return;
            };
            $c.clearSelection();
            if ($0L.y < DayPilotCalendar.firstMousePos.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow(this);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove(this);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5P();
        };
        this.getSelection = function() {
            if (!DayPilotCalendar.topSelectedCell) {
                return null;
            };
            if (!DayPilotCalendar.bottomSelectedCell) {
                return null;
            };
            var $09 = DayPilotCalendar.topSelectedCell.start;
            var end = DayPilotCalendar.bottomSelectedCell.end;
            var $0N = DayPilotCalendar.topSelectedCell.resource;
            return new DayPilot.Selection($09, end, $0N, $c);
        };
        this.$5S = function(ev) {
            if (DayPilotCalendar.firstMousePos) {
                var $0O = function() {
                    DayPilotCalendar.selecting = true;
                    $c.$5P();
                    DayPilotCalendar.firstMousePos = null;
                    DayPilotCalendar.selecting = false;
                    var $0P = $c.getSelection();
                    $c.$5I($0P.start, $0P.end, $0P.resource);
                };
                if (DayPilotCalendar.selecting && DayPilotCalendar.topSelectedCell !== null) {
                    $0O();
                } else {
                    DayPilotCalendar.selectedTimeout = setTimeout($0O, 100);
                }
            } else {
                DayPilotCalendar.selecting = false;
            }
        };
        this.$5T = function(ev) {
            var $0Q = $c.columnWidthSpec === "Fixed";
            if ($0Q || $c.$5U) {
                if (!$c.nav.bottomLeft) {
                    return;
                };
                $c.nav.bottomLeft.scrollTop = $c.nav.bottomRight.scrollTop;
                if ($c.nav.upperRight) {
                    $c.nav.upperRight.scrollLeft = $c.nav.bottomRight.scrollLeft;
                };
                $c.nav.scrollLayer.scrollLeft = $c.nav.bottomRight.scrollLeft;
            };
            var scroll = $c.$5V();
            $c.scrollPos = scroll.scrollTop;
            $c.$5W = scroll.clientHeight;
            $c.nav.scrollpos.value = $c.scrollPos;
            $c.$57();
        };
        this.$57 = function() {
            if (!this.scrollLabelsVisible) {
                return;
            };
            if (!this.$5X) {
                return;
            };
            var $0R = this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0;
            if (!$0R) {
                return;
            };
            var $0f = this.$5b;
            var $0S = (this.showHours ? this.hourWidth : 0);
            var $H = this.nav.main.rows[0].cells[0].clientWidth;
            var iw = 10;
            var $0T = 1;
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var $0U = this.nav.scrollUp[i];
                var $0V = this.nav.scrollDown[i];
                var $X = Math.floor($0S + i * $H + $H / 2 - (iw / 2) + $0T);
                if ($X < 0) {
                    $X = 0;
                };
                $X -= $c.nav.bottomRight.scrollLeft;
                if ($0U && $0U.style) {
                    $0U.style.left = $X + "px";
                };
                if ($0V && $0V.style) {
                    $0V.style.left = $X + "px";
                }
            };
            var $0W = this.$5Y();
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var up = this.nav.scrollUp[i];
                var $0X = this.nav.scrollDown[i];
                var $0Y = this.$5X[i].minEnd - $0W;
                var $0Z = this.$5X[i].maxStart - $0W;
                if (up && $0X) {
                    if ($0Y <= $c.scrollPos && parseInt(up.style.left) >= $c.hourWidth) {
                        up.style.top = (this.$5j()) + "px";
                        up.style.display = '';
                    } else {
                        up.style.display = 'none';
                    };
                    if ($0Z >= $c.scrollPos + $c.$5W && parseInt($0X.style.left) >= $c.hourWidth) {
                        $0X.style.top = (this.$5j() + this.$5W - 10) + "px";
                        $0X.style.display = '';
                    } else {
                        $0X.style.display = 'none';
                    }
                }
            }
        };
        this.$5Z = function($E) {
            var $10 = $E.parentNode;
            var $X = 0;
            var top = $E.offsetTop;
            var $11 = $E.parentNode.offsetWidth;
            var $J = $E.offsetHeight;
            if ($E.event.allday()) {
                $X = $E.offsetLeft;
                $11 = $E.offsetWidth;
            };
            var $12 = document.createElement('textarea');
            $12.style.boxSizing = "border-box";
            $12.style.position = 'absolute';
            $12.style.width = $11 + 'px';
            $12.style.height = $J + 'px';
            var $13 = DayPilot.gs($E, 'fontFamily');
            if (!$13) $13 = DayPilot.gs($E, 'font-family');
            $12.style.fontFamily = $13;
            var $14 = DayPilot.gs($E, 'fontSize');
            if (!$14) $14 = DayPilot.gs($E, 'font-size');
            $12.style.fontSize = $14;
            $12.style.left = $X + 'px';
            $12.style.top = top + 'px';
            $12.style.border = '1px solid black';
            $12.style.padding = '0px';
            $12.style.marginTop = '0px';
            $12.style.backgroundColor = 'white';
            $12.value = DayPilot.tr($E.event.text());
            $12.event = $E.event;
            $10.appendChild($12);
            return $12;
        };
        this.$5q = function($d, e, $01, $02) {
            $c.$5L($d, e, $01, $02);
        };
        this.multiselect = {};
        this.multiselect.$4P = [];
        this.multiselect.$5M = [];
        this.multiselect.$60 = [];
        this.multiselect.$61 = [];
        this.multiselect.$62 = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $15 = [];
            $15.ignoreToJSON = true;
            for (var i = 0; i < m.$5M.length; i++) {
                $15.push(m.$5M[i]);
            };
            return $15;
        };
        this.multiselect.$63 = function() {
            var h = $c.nav.select;
            h.value = $c.multiselect.$62();
        };
        this.multiselect.$5N = function($d, $16) {
            var m = $c.multiselect;
            if (m.isSelected($d.event)) {
                if ($c.allowMultiSelect) {
                    if ($16) {
                        m.remove($d.event, true);
                    } else {
                        var $17 = m.$5M.length;
                        m.clear(true);
                        if ($17 > 1) {
                            m.add($d.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($16) {
                        m.add($d.event, true);
                    } else {
                        m.clear(true);
                        m.add($d.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($d.event, true);
                }
            };
            m.redraw();
            m.$63();
        };
        this.multiselect.$64 = function(ev) {
            var m = $c.multiselect;
            return m.$65(ev, m.$4P);
        };
        this.multiselect.$66 = function() {
            var m = $c.multiselect;
            var $18 = [];
            for (var i = 0; i < m.$5M.length; i++) {
                var event = m.$5M[i];
                $18.push(event.value());
            };
            alert($18.join("\n"));
        };
        this.multiselect.add = function(ev, $19) {
            var m = $c.multiselect;
            if (m.$67(ev) === -1) {
                m.$5M.push(ev);
            };
            m.$63();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $19) {
            var m = $c.multiselect;
            var i = m.$67(ev);
            if (i !== -1) {
                m.$5M.splice(i, 1);
            };
            m.$63();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.clear = function($19) {
            var m = $c.multiselect;
            m.$5M = [];
            m.$63();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if (m.isSelected($d.event)) {
                    m.$68($d);
                } else {
                    m.$69($d);
                }
            }
        };
        this.multiselect.$68 = function($d) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$5c("_selected") : $c.$5c("selected");
            var c = m.$6a($d);
            DayPilot.Util.addClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$6b($d);
            };
            m.$60.push($d);
        };
        this.multiselect.$6a = function($d) {
            if ($c.cssOnly) {
                return $d;
            };
            for (var i = 0; i < $d.childNodes.length; i++) {
                var c = $d.childNodes[i];
                if (c.getAttribute("c") === "1") {
                    return c;
                }
            };
            return null;
        };
        this.multiselect.$6c = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.$60.length; i++) {
                var $d = m.$60[i];
                m.$69($d, true);
            };
            m.$60 = [];
        };
        this.multiselect.$69 = function($d, $1a) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$5c("_selected") : $c.$5c("selected");
            var c = m.$6a($d);
            DayPilot.Util.removeClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$6d($d);
            };
            if ($1a) {
                return;
            };
            var i = DayPilot.indexOf(m.$60, $d);
            if (i !== -1) {
                m.$60.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$65(ev, $c.multiselect.$5M);
        };
        this.multiselect.$67 = function(ev) {
            return DayPilot.indexOf($c.multiselect.$5M, ev);
        };
        this.multiselect.$65 = function(e, $18) {
            if (!$18) {
                return false;
            };
            for (var i = 0; i < $18.length; i++) {
                var ei = $18[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.multiselect.$6b = function($1b) {
            var w = 5;
            if (!$1b.top) {
                var top = document.createElement("div");
                top.setAttribute("unselectable", "on");
                top.style.position = 'absolute';
                top.style.left = $1b.offsetLeft + 'px';
                top.style.width = $1b.offsetWidth + 'px';
                top.style.top = ($1b.offsetTop - w) + 'px';
                top.style.height = w + 'px';
                top.style.backgroundColor = $c.eventSelectColor;
                top.style.zIndex = 100;
                $1b.parentNode.appendChild(top);
                $1b.top = top;
            };
            if (!$1b.bottom) {
                var $1c = document.createElement("div");
                $1c.setAttribute("unselectable", "on");
                $1c.style.position = 'absolute';
                $1c.style.left = $1b.offsetLeft + 'px';
                $1c.style.width = $1b.offsetWidth + 'px';
                $1c.style.top = ($1b.offsetTop + $1b.offsetHeight) + 'px';
                $1c.style.height = w + 'px';
                $1c.style.backgroundColor = $c.eventSelectColor;
                $1c.style.zIndex = 100;
                $1b.parentNode.appendChild($1c);
                $1b.bottom = $1c;
            }
        };
        this.multiselect.$6d = function($1b) {
            if ($1b.top) {
                $1b.parentNode.removeChild($1b.top);
                $1b.top = null;
            };
            if ($1b.bottom) {
                $1b.parentNode.removeChild($1b.bottom);
                $1b.bottom = null;
            }
        };
        this.$5p = function($E) {
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            var $12 = this.$5Z($E);
            DayPilotCalendar.editing = $12;
            DayPilot.re($12, DayPilot.touch.start, function(ev) {
                ev.stopPropagation();
            });
            $12.onblur = function() {
                var id = $E.event.value();
                var $1d = $E.event.tag();
                var $1e = $E.event.text();
                var $0B = $12.value;
                DayPilotCalendar.editing = null;
                $12.onblur = null;
                DayPilot.de($12);
                if ($1e === $0B) {
                    return;
                };
                $E.style.display = 'none';
                $c.$5K($E.event, $0B);
            };
            $12.onkeypress = function(e) {
                var $1f = (window.event) ? event.keyCode : e.keyCode;
                if ($1f === 13) {
                    this.onblur();
                    return false;
                } else if ($1f === 27) {
                    $12.parentNode.removeChild($12);
                    DayPilotCalendar.editing = false;
                };
                return true;
            };
            $12.select();
            $12.focus();
        };
        this.$6e = function() {
            if ($c.viewType === "Resources") {
                return false;
            };
            if ($c.columns && $c.$4x()) {
                return false;
            };
            return true;
        };
        this.$4Q = function() {
            var $1g = $c.$6e();
            if ($1g) {
                this.$5b = this.$6f();
                this.$6g(this.$5b);
            } else {
                if (!this.columns) {
                    this.columns = [];
                };
                this.$6g(this.columns);
                this.$5b = this.$6h(this.headerLevels, true);
            }
        };
        this.$6i = function() {
            var $09 = this.startDate.getDatePart();
            var $1h = this.days;
            switch (this.viewType) {
                case "Day":
                    $1h = 1;
                    break;
                case "Week":
                    $1h = 7;
                    $09 = $09.firstDayOfWeek($0e.weekStarts());
                    break;
                case "WorkWeek":
                    $1h = 5;
                    $09 = $09.firstDayOfWeek(1);
                    break;
            };
            var end = $09.addDays($1h);
            var $u = {};
            $u.start = $09;
            $u.end = end;
            $u.days = $1h;
            return $u;
        };
        this.$6f = function() {
            var $0f = [];
            var $1i = this.$6i();
            var $09 = $1i.start;
            var $1h = $1i.days;
            for (var i = 0; i < $1h; i++) {
                var $q = {};
                $q.start = $09.addDays(i);
                var $1j = $0e.locale().datePattern;
                if ($c.headerDateFormat) {
                    $1j = $c.headerDateFormat;
                };
                $q.name = $q.start.toString($1j, $0e.locale());
                $q.html = $q.name;
                $0f.push($q);
            };
            return $0f;
        };
        this.$6j = function($q) {
            if ($q.Start) {
                $q.id = $q.Value;
                $q.start = $q.Start;
                $q.name = $q.Name;
                $q.html = $q.InnerHTML;
                $q.toolTip = $q.ToolTip;
                $q.backColor = $q.BackColor;
                $q.areas = $q.Areas;
                $q.children = $q.Children;
                delete $q.Value;
                delete $q.Start;
                delete $q.Name;
                delete $q.InnerHTML;
                delete $q.ToolTip;
                delete $q.BackColor;
                delete $q.Areas;
                delete $q.Children;
            };
            $q.start = $q.start || $c.startDate;
            $q.start = new DayPilot.Date($q.start);
            $q.html = $q.html || $q.name;
            $q.getChildren = function($1k, $1l) {
                var $18 = [];
                if ($1k <= 1) {
                    $18.push(this);
                    return $18;
                };
                if (!this.children || this.children.length === 0) {
                    if ($1l) {
                        $18.push(this);
                    } else {
                        $18.push("empty");
                    };
                    return $18;
                };
                for (var i = 0; i < this.children.length; i++) {
                    var $1m = this.children[i];
                    var $1n = $1m.getChildren($1k - 1, $1l);
                    for (var j = 0; j < $1n.length; j++) {
                        $18.push($1n[j]);
                    }
                };
                return $18;
            };
            $q.getChildrenCount = function($1k) {
                var $17 = 0;
                if (!this.children || this.children.length <= 0 || $1k <= 1) {
                    return 1;
                };
                for (var i = 0; i < this.children.length; i++) {
                    $17 += this.children[i].getChildrenCount($1k - 1);
                };
                return $17;
            };
            $q.putIntoBlock = function(ep) {
                for (var i = 0; i < this.blocks.length; i++) {
                    var $1o = this.blocks[i];
                    if ($1o.overlapsWith(ep.part.top, ep.part.height)) {
                        $1o.events.push(ep);
                        $1o.min = Math.min($1o.min, ep.part.top);
                        $1o.max = Math.max($1o.max, ep.part.top + ep.part.height);
                        return i;
                    }
                };
                var $1o = [];
                $1o.lines = [];
                $1o.events = [];
                $1o.overlapsWith = function($09, $11) {
                    var end = $09 + $11 - 1;
                    if (!(end < this.min || $09 > this.max - 1)) {
                        return true;
                    };
                    return false;
                };
                $1o.putIntoLine = function(ep) {
                    var $1p = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $1q = this.lines[i];
                        if ($1q.isFree(ep.part.top, ep.part.height)) {
                            $1q.push(ep);
                            return i;
                        }
                    };
                    var $1q = [];
                    $1q.isFree = function($09, $11) {
                        var end = $09 + $11 - 1;
                        var $N = this.length;
                        for (var i = 0; i < $N; i++) {
                            var e = this[i];
                            if (!(end < e.part.top || $09 > e.part.top + e.part.height - 1)) {
                                return false;
                            }
                        };
                        return true;
                    };
                    $1q.push(ep);
                    this.lines.push($1q);
                    return this.lines.length - 1;
                };
                $1o.events.push(ep);
                $1o.min = ep.part.top;
                $1o.max = ep.part.top + ep.part.height;
                this.blocks.push($1o);
                return this.blocks.length - 1;
            };
            $q.putIntoLine = function(ep) {
                var $1p = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1q = this.lines[i];
                    if ($1q.isFree(ep.part.top, ep.part.height)) {
                        $1q.push(ep);
                        return i;
                    }
                };
                var $1q = [];
                $1q.isFree = function($09, $11) {
                    var end = $09 + $11 - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (!(end < e.part.top || $09 > e.part.top + e.part.height - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1q.push(ep);
                this.lines.push($1q);
                return this.lines.length - 1;
            };
            if ($q.children) {
                this.$6g($q.children);
            }
        };
        this.$6g = function(cc) {
            DayPilot.list(cc).each(function($1r) {
                $c.$6j($1r);
            });
        };
        this.$6h = function($1k, $1l) {
            var $1s = this.$6e() ? this.$5b : this.columns;
            var $18 = [];
            for (var i = 0; i < $1s.length; i++) {
                var $t = $1s[i].getChildren($1k, $1l);
                for (var j = 0; j < $t.length; j++) {
                    $18.push($t[j]);
                }
            };
            return $18;
        };
        this.$56 = function() {
            if (!this.showAllDayEvents) {
                return;
            };
            var $1t = this.nav.header;
            if (!$1t) {
                return;
            };
            $1t.style.display = 'none';
            var $0f = this.$5b.length;
            for (var j = 0; j < this.$6k.lines.length; j++) {
                var $1q = this.$6k.lines[j];
                for (var i = 0; i < $1q.length; i++) {
                    var $h = $1q[i];
                    var $d = document.createElement("div");
                    $d.event = $h;
                    $d.setAttribute("unselectable", "on");
                    $d.style.position = 'absolute';
                    if ($c.rtl) {
                        $d.style.right = (100.0 * $h.part.colStart / $0f) + "%";
                    } else {
                        $d.style.left = (100.0 * $h.part.colStart / $0f) + "%";
                    };
                    $d.style.width = (100.0 * $h.part.colWidth / $0f) + "%";
                    $d.style.height = $0e.allDayEventHeight() + 'px';
                    if (!this.cssOnly) {
                        $d.style.top = (3 + this.headerLevels * $0e.headerHeight() + j * ($0e.allDayEventHeight() + 2)) + "px";
                    } else {
                        $d.className = this.$5c("_alldayevent");
                        $d.style.top = (this.headerLevels * $0e.headerHeight() + j * ($0e.allDayEventHeight())) + "px";
                    };
                    $d.style.textAlign = 'left';
                    $d.style.lineHeight = "1.2";
                    if ($h.client.clickEnabled()) {
                        $d.onclick = this.$5n;
                    };
                    if ($h.client.doubleClickEnabled()) {
                        $d.ondblclick = this.$5r;
                    };
                    if ($h.client.clickEnabled() || $h.client.doubleClickEnabled()) {
                        $d.style.cursor = "pointer";
                    } else {
                        $d.style.cursor = "default";
                    };
                    DayPilot.re($d, "contextmenu", this.$5s);
                    $d.onmousemove = function(ev) {
                        var $d = this;
                        if (!$d.active) {
                            var $1u = [];
                            if ($h.client.deleteEnabled()) {
                                $1u.push({
                                    "action": "JavaScript",
                                    "v": "Hover",
                                    "w": 17,
                                    "h": 17,
                                    "top": 3,
                                    "right": 3,
                                    "css": $c.$5c("_event_delete"),
                                    "js": function(e) {
                                        $c.$5w(e);
                                    }
                                });
                            };
                            var $18 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
                            if ($18 && $18.length > 0) {
                                $1u = $1u.concat($18);
                            };
                            DayPilot.Areas.showAreas($d, $d.event, null, $1u);
                            if ($c.cssOnly) {
                                DayPilot.Util.addClass($d, $c.$5c("_alldayevent_hover"));
                            }
                        };
                        if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                            $c.bubble.showEvent(this.event);
                        }
                    };
                    $d.onmouseout = function(ev) {
                        var $d = this;
                        if ($c.cssOnly) {
                            DayPilot.Util.removeClass($d, $c.$5c("_alldayevent_hover"));
                        };
                        DayPilot.Areas.hideAreas(this, ev);
                        if ($c.bubble) {
                            $c.bubble.hideOnMouseOut();
                        }
                    };
                    if (this.showToolTip && !this.bubble) {
                        $d.setAttribute("title", $h.client.toolTip());
                    };
                    var $1v = $h.start().getTime() === $h.part.start.getTime();
                    var $1w = $h.end().getTime() === $h.part.end.getTime();
                    var back = $h.data.backColor;
                    if (!this.cssOnly) {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.style.marginLeft = '2px';
                        $M.style.marginRight = '3px';
                        $M.style.paddingLeft = '2px';
                        $M.style.height = ($0e.allDayEventHeight() - 2) + 'px';
                        $M.style.border = '1px solid ' + this.allDayEventBorderColor;
                        $M.style.overflow = 'hidden';
                        $M.style.position = 'relative';
                        $M.style.backgroundColor = back;
                        $M.className = this.$5c("alldayevent");
                        if (this.roundedCorners) {
                            $M.style.MozBorderRadius = "5px";
                            $M.style.webkitBorderRadius = "5px";
                            $M.style.borderRadius = "5px";
                        };
                        var $1x = [];
                        var $1y = true;
                        var $1z = this.showAllDayEventStartEnd;
                        var $1A = this.showAllDayEventStartEnd;
                        var $1B = "Center";
                        var $1C = 0;
                        if ($1z) {
                            if ($1B === 'Left') {
                                $1x.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");
                                $1x.push("width:");
                                $1x.push($1C - 4);
                                $1x.push("px;");
                                $1x.push("><span style='background-color:");
                            } else {
                                $1x.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");
                            };
                            $1x.push('transparent');
                            $1x.push("' unselectable='on'>");
                            if ($1v) {
                                if ($h.start().getDatePart().getTime() !== $h.start().getTime()) {
                                    $1x.push(DayPilot.DateUtil.hours($h.start(), this.$6l.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1x.push("~");
                            };
                            $1x.push("</span></div></div>");
                        };
                        if ($1A) {
                            $1x.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");
                            $1x.push('transparent');
                            $1x.push("' unselectable='on'>");
                            if ($1w) {
                                if ($h.end().getDatePart().getTime() !== $h.end().getTime()) {
                                    $1x.push(DayPilot.DateUtil.hours($h.end(), this.$6l.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1x.push("~");
                            };
                            $1x.push("</span></div></div>");
                        };
                        if ($1B === 'Left') {
                            var $X = $1z ? $1C : 0;
                            $1x.push("<div style='margin-top:0px;height:");
                            $1x.push($0e.allDayEventHeight() - 2);
                            $1x.push("px;");
                            $1x.push(";overflow:hidden;text-align:left;padding-left:");
                            $1x.push($X);
                            $1x.push("px;font-size:");
                            $1x.push(this.allDayEventFontSize);
                            $1x.push(";color:");
                            $1x.push(this.allDayEventFontColor);
                            $1x.push(";font-family:");
                            $1x.push(this.eventFontFamily);
                            $1x.push("' unselectable='on'>");
                            if ($h.client.innerHTML()) {
                                $1x.push($h.client.innerHTML());
                            } else {
                                $1x.push($h.text());
                            };
                            $1x.push("</div>");
                        } else if ($1B === 'Center') {
                            if ($1y) {
                                $1x.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");
                                $1x.push("<span style='background-color:");
                                $1x.push('transparent');
                                $1x.push(";font-size:");
                                $1x.push(this.allDayEventFontSize);
                                $1x.push(";color:");
                                $1x.push(this.allDayEventFontColor);
                                $1x.push(";font-family:");
                                $1x.push(this.allDayEventFontFamily);
                                $1x.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1x.push($h.client.innerHTML());
                                } else {
                                    $1x.push($h.text());
                                };
                                $1x.push("</span>");
                                $1x.push("</div>");
                            } else {
                                $1x.push("<div style='margin-top:0px;height:");
                                $1x.push($0e.allDayEventHeight() - 2);
                                $1x.push("px;");
                                $1x.push(";overflow:hidden;text-align:center;font-size:");
                                $1x.push(this.allDayEventFontSize);
                                $1x.push(";color:");
                                $1x.push(this.allDayEventFontColor);
                                $1x.push(";font-family:");
                                $1x.push(this.allDayEventFontFamily);
                                $1x.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1x.push($h.client.innerHTML());
                                } else {
                                    $1x.push($h.text());
                                };
                                $1x.push("</div>");
                            }
                        };
                        $M.innerHTML = $1x.join('');
                        $d.appendChild($M);
                    } else {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.className = this.$5c("_alldayevent_inner");
                        if (back) {
                            $M.style.background = back;
                        };
                        if ($c.rtl) {
                            if (!$1v) {
                                DayPilot.Util.addClass($d, this.$5c("_alldayevent_continueright"));
                            };
                            if (!$1w) {
                                DayPilot.Util.addClass($d, this.$5c("_alldayevent_continueleft"));
                            }
                        } else {
                            if (!$1v) {
                                DayPilot.Util.addClass($d, this.$5c("_alldayevent_continueleft"));
                            };
                            if (!$1w) {
                                DayPilot.Util.addClass($d, this.$5c("_alldayevent_continueright"));
                            }
                        };
                        if ($h.client.innerHTML()) {
                            $M.innerHTML = $h.client.innerHTML();
                        } else {
                            $M.innerHTML = $h.text();
                        };
                        $d.appendChild($M);
                    };
                    if ($c.$59()) {
                        if (typeof $c.onAfterEventRender === 'function') {
                            var $n = {};
                            $n.e = $d.event;
                            $n.div = $d;
                            $c.onAfterEventRender($n);
                        }
                    } else {
                        if ($c.afterEventRender) {
                            $c.afterEventRender($d.event, $d);
                        }
                    };
                    this.nav.allday.appendChild($d);
                    this.elements.events.push($d);
                }
            };
            $1t.style.display = '';
        };
        this.$4D = function($1D) {
            $c.multiselect.$6c();
            if (this.elements.events) {
                for (var i = 0; i < this.elements.events.length; i++) {
                    var $d = this.elements.events[i];
                    var $E = $d.event;
                    if ($E && $1D && !$E.allday()) {
                        continue;
                    };
                    if ($E) {
                        $E.div = null;
                        $E.root = null;
                    };
                    $d.onclick = null;
                    $d.onclickSave = null;
                    $d.ondblclick = null;
                    $d.oncontextmenu = null;
                    $d.onmouseover = null;
                    $d.onmouseout = null;
                    $d.onmousemove = null;
                    $d.onmousedown = null;
                    if ($d.firstChild && $d.firstChild.firstChild && $d.firstChild.firstChild.tagName && $d.firstChild.firstChild.tagName.toUpperCase() === 'IMG') {
                        var $1E = $d.firstChild.firstChild;
                        $1E.onmousedown = null;
                        $1E.onmousemove = null;
                        $1E.onclick = null;
                    };
                    $d.helper = null;
                    $d.event = null;
                    DayPilot.de($d);
                }
            };
            this.elements.events = [];
        };
        this.$6m = function($h) {
            var $G = this.nav.events;
            var $1F = this.roundedCorners;
            var $1G = this.roundedCorners && (this.$4s.ff || this.$4s.opera105 || this.$4s.webkit522 || !this.$4s.ielt9);
            var $1H = this.roundedCorners && !$1G;
            var $1I = $h.cache || $h.data;
            var $1J = $1I.borderColor || this.eventBorderColor;
            var $d = document.createElement("div");
            $d.setAttribute("unselectable", "on");
            $d.style.MozUserSelect = 'none';
            $d.style.KhtmlUserSelect = 'none';
            $d.style.WebkitUserSelect = 'none';
            $d.style.position = 'absolute';
            if (!this.cssOnly) {
                $d.style.fontFamily = this.eventFontFamily;
                $d.style.fontSize = this.eventFontSize;
                $d.style.color = $1I.fontColor || this.eventFontColor;
                if (!$1F) {
                    $d.style.backgroundColor = $1J;
                }
            } else {
                $d.className = this.$5c("_event");
            };
            $d.style.left = $h.part.left + '%';
            $d.style.top = ($h.part.top - this.$5Y()) + 'px';
            $d.style.width = $h.part.width + '%';
            $d.style.height = Math.max($h.part.height, 2) + 'px';
            $d.style.overflow = 'hidden';
            $d.isFirst = $h.part.start.getTime() === $h.start().getTime();
            $d.isLast = $h.part.end.getTime() === $h.end().getTime();
            if ($h.client.clickEnabled()) {
                $d.onclick = this.$5n;
            };
            if ($h.client.doubleClickEnabled()) {
                $d.ondblclick = this.$5r;
            };
            DayPilot.re($d, "contextmenu", this.$5s);
            $d.onmousemove = this.$6n;
            $d.onmouseout = this.$6o;
            $d.onmousedown = this.$6p;
            DayPilot.re($d, DayPilot.touch.start, this.$6q.onEventTouchStart);
            DayPilot.re($d, DayPilot.touch.move, this.$6q.onEventTouchMove);
            DayPilot.re($d, DayPilot.touch.end, this.$6q.onEventTouchEnd);
            var $1x = [];
            if ($1I.cssClass) {
                DayPilot.Util.addClass($d, $1I.cssClass);
            };
            if (this.showToolTip && !this.bubble) {
                $d.setAttribute("title", $h.client.toolTip());
            };
            var $M = document.createElement("div");
            $M.setAttribute("unselectable", "on");
            $M.className = $c.$5c("_event_inner");
            $M.innerHTML = $h.client.innerHTML();
            if ($1I.fontColor) {
                $M.style.color = $1I.fontColor;
            };
            if ($1I.backColor) {
                $M.style.background = $1I.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $M.style.filter = '';
                }
            };
            if ($1I.borderColor) {
                $M.style.borderColor = $1I.borderColor;
            };
            if ($1I.backgroundImage) {
                $M.style.backgroundImage = "url(" + $1I.backgroundImage + ")";
                if ($1I.backgroundRepeat) {
                    $M.style.backgroundRepeat = $1I.backgroundRepeat;
                }
            };
            $d.appendChild($M);
            if ($h.client.barVisible()) {
                var $J = $h.part.height - 2;
                var $1K = 100 * $h.part.barTop / $J;
                var $1L = Math.ceil(100 * $h.part.barHeight / $J);
                if (this.durationBarMode === "PercentComplete") {
                    $1K = 0;
                    $1L = $1I.complete;
                };
                var $1M = document.createElement("div");
                $1M.setAttribute("unselectable", "on");
                $1M.className = this.$5c("_event_bar");
                $1M.style.position = "absolute";
                if ($1I.barBackColor) {
                    $1M.style.backgroundColor = $1I.barBackColor;
                };
                var $1N = document.createElement("div");
                $1N.setAttribute("unselectable", "on");
                $1N.className = this.$5c("_event_bar_inner");
                $1N.style.top = $1K + "%";
                if (0 < $1L && $1L <= 1) {
                    $1N.style.height = "1px";
                } else {
                    $1N.style.height = $1L + "%";
                };
                if ($1I.barColor) {
                    $1N.style.backgroundColor = $1I.barColor;
                };
                $1M.appendChild($1N);
                $d.appendChild($1M);
            };
            if ($1I.areas) {
                for (var i = 0; i < $1I.areas.length; i++) {
                    var $1O = $1I.areas[i];
                    var v = $1O.v || "Visible";
                    if (v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($d, $h, $1O);
                    $d.appendChild(a);
                }
            };
            if ($G.rows[0].cells[$h.part.dayIndex]) {
                var $1P = $G.rows[0].cells[$h.part.dayIndex].events;
                $1P.appendChild($d);
                $c.$6r($d);
                $d.event = $h;
                if ($c.multiselect.$64($h)) {
                    $c.multiselect.add($d.event, true);
                };
                if ($c.$59()) {
                    if (typeof $c.onAfterEventRender === 'function') {
                        var $n = {};
                        $n.e = $d.event;
                        $n.div = $d;
                        $c.onAfterEventRender($n);
                    }
                } else {
                    if ($c.afterEventRender) {
                        $c.afterEventRender($d.event, $d);
                    }
                }
            };
            $c.elements.events.push($d);
        };
        this.$6r = function(el) {
            var c = (el && el.childNodes) ? el.childNodes.length : 0;
            for (var i = 0; i < c; i++) {
                try {
                    var $1m = el.childNodes[i];
                    if ($1m.nodeType === 1) {
                        $1m.setAttribute("unselectable", "on");
                        this.$6r($1m);
                    }
                } catch (e) {}
            }
        };
        this.$55 = function() {
            var $09 = new Date();
            for (var i = 0; i < this.$5b.length; i++) {
                var $1Q = this.$5b[i];
                if (!$1Q.blocks) {
                    continue;
                };
                for (var m = 0; m < $1Q.blocks.length; m++) {
                    var $1o = $1Q.blocks[m];
                    for (var j = 0; j < $1o.lines.length; j++) {
                        var $1q = $1o.lines[j];
                        for (var k = 0; k < $1q.length; k++) {
                            var e = $1q[k];
                            e.part.width = 100 / $1o.lines.length;
                            e.part.left = e.part.width * j;
                            if (this.eventArrangement === 'Cascade') {
                                var $1R = (j === $1o.lines.length - 1);
                                if (!$1R) {
                                    e.part.width = e.part.width * 1.5;
                                }
                            };
                            if (this.eventArrangement === 'Full') {
                                e.part.left = e.part.left / 2;
                                e.part.width = 100 - e.part.left;
                            };
                            if (!e.allday()) {
                                this.$6m(e);
                            }
                        }
                    }
                }
            };
            this.multiselect.redraw();
            var end = new Date();
            var $1S = end.getTime() - $09.getTime();
        };
        this.$6s = function() {
            this.multiselect.$5M = [];
            for (var i = 0; i < this.$5b.length; i++) {
                var $1Q = this.$5b[i];
                for (var j = 0; j < $1Q.lines.length; j++) {
                    var $1q = $1Q.lines[j];
                    for (var k = 0; k < $1q.length; k++) {
                        var e = $1q[k];
                        e.part.width = 100 / $1Q.lines.length;
                        e.part.left = e.Width * j;
                        if (!e.allday()) {
                            this.$6m(e);
                        }
                    }
                }
            }
        };
        this.$5c = function($1T) {
            var $1U = this.theme || this.cssClassPrefix;
            if ($1U) {
                return $1U + $1T;
            } else {
                return "";
            }
        };
        this.$54 = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$6t = function() {
            var $J = this.$5j() + this.$6u();
            $c.debug.message("Getting totalHeight, headerHeight: " + this.$5j() + " scrollable: " + this.$6u());
            if ($J < 0) {
                return 0;
            };
            return $J;
        };
        this.$6v = function() {
            this.nav.top.dp = this;
            this.nav.top.innerHTML = '';
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.WebkitUserSelect = 'none';
            this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            this.nav.top.style.WebkitTouchCallout = "none";
            this.nav.top.style.position = 'relative';
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.rtl) {
                this.nav.top.style.direction = "rtl";
            };
            if (!this.cssOnly) {
                this.nav.top.style.lineHeight = "1.2";
                this.nav.top.style.textAlign = "left";
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$6t() + "px";
            };
            if (this.hideUntilInit) {
                this.nav.top.style.visibility = 'hidden';
            };
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.scroll = document.createElement("div");
            this.nav.scroll.style.height = this.$6u() + "px";
            if (this.cssOnly) {
                DayPilot.Util.addClass(this.nav.top, this.$5c("_main"));
            };
            this.nav.scroll.style.position = "relative";
            if (!this.cssOnly) {
                this.nav.scroll.style.border = "1px solid " + this.borderColor;
                this.nav.scroll.style.backgroundColor = this.hourNameBackColor;
            };
            if (this.showHeader) {
                var $1t = this.$6w();
                this.nav.top.appendChild($1t);
            };
            this.nav.scroll.style.zoom = 1;
            this.nav.scroll.setAttribute("data-id", "nav.scroll");
            this.nav.scroll.style.position = "absolute";
            this.nav.scroll.style.left = "0px";
            this.nav.scroll.style.right = "0px";
            this.nav.scroll.style.top = this.$5j() + "px";
            var $1V = this.$6x();
            this.nav.scrollable = $1V.firstChild;
            this.nav.scroll.appendChild($1V);
            this.nav.top.appendChild(this.nav.scroll);
            this.nav.vsph = document.createElement("div");
            this.nav.vsph.style.display = "none";
            this.nav.top.appendChild(this.nav.vsph);
            this.nav.scrollpos = document.createElement("input");
            this.nav.scrollpos.type = "hidden";
            this.nav.scrollpos.id = $c.id + "_scrollpos";
            this.nav.scrollpos.name = this.nav.scrollpos.id;
            this.nav.top.appendChild(this.nav.scrollpos);
            this.nav.select = document.createElement("input");
            this.nav.select.type = "hidden";
            this.nav.select.id = $c.id + "_select";
            this.nav.select.name = this.nav.select.id;
            this.nav.select.value = null;
            this.nav.top.appendChild(this.nav.select);
            this.nav.scrollLayer = document.createElement("div");
            this.nav.scrollLayer.style.position = 'absolute';
            this.nav.scrollLayer.style.top = '0px';
            this.nav.scrollLayer.style.left = '0px';
            this.nav.top.appendChild(this.nav.scrollLayer);
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
            this.nav.loading = document.createElement("div");
            this.nav.loading.style.position = 'absolute';
            this.nav.loading.style.top = '0px';
            this.nav.loading.style.left = (this.hourWidth + 5) + "px";
            this.nav.loading.style.backgroundColor = this.loadingLabelBackColor;
            this.nav.loading.style.fontSize = this.loadingLabelFontSize;
            this.nav.loading.style.fontFamily = this.loadingLabelFontFamily;
            this.nav.loading.style.color = this.loadingLabelFontColor;
            this.nav.loading.style.padding = '2px';
            this.nav.loading.innerHTML = this.loadingLabelText;
            this.nav.loading.style.display = 'none';
            this.nav.top.appendChild(this.nav.loading);
        };
        this.$6y = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            var $1W = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1];
            var $1X = this.nav.events.rows[0];
            for (var i = 0; i < $c.$5b.length; i++) {
                var $1Y = $1W && $1W.cells[i];
                var $1Z = $1X.cells[i];
                var $20 = $1Y && $1Y.firstChild;
                var $h = $c.$5b[i];
                if ($0Q) {
                    var $11 = $h.width ? $h.width : $c.columnWidth;
                    $20 && ($20.style.width = $11 + "px");
                    if ($1Z) {
                        $1Z.style.width = $11 + "px";
                    }
                } else {
                    $20 && ($20.style.width = null);
                    if ($1Z) {
                        $1Z.style.width = null;
                    }
                }
            }
        };
        this.$5k = function() {
            return this.$5U ? $c.nav.bottomRight : $c.nav.scroll;
        };
        this.$52 = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                var element = $c.$5k();
                if (this.heightSpec === "Fixed") {
                    element.style.overflowY = "scroll";
                } else if (this.heightSpec === 'BusinessHours' && this.$5d() <= this.businessEndsHour - this.businessBeginsHour) {
                    element.style.overflow = "hidden";
                } else if (this.heightSpec !== "Full" && this.heightSpec !== "BusinessHoursNoScroll") {
                    element.style.overflow = "auto";
                } else {
                    element.style.overflow = "hidden";
                }
            };
            if ($0Q) {
                var $21 = 0;
                var w = this.$5b.length * this.columnWidth;
                var $22 = $c.$5V();
                if (w > $22.clientWidth) {
                    $21 = DayPilot.sw($c.nav.bottomRight);
                };
                $c.nav.headerParent && ($c.nav.headerParent.style.width = (w + $21) + "px");
                $c.nav.main.style.width = w + "px";
                $c.nav.events.style.width = w + "px";
                $c.nav.crosshair.style.width = w + "px";
            } else {
                $c.nav.headerParent && ($c.nav.headerParent.style.width = "100%");
                $c.nav.main.style.width = "100%";
                $c.nav.events.style.width = "100%";
                $c.nav.crosshair.style.width = "100%";
            };
            this.$6y();
        };
        this.$4Z = function() {
            if (!this.$4o) {
                DayPilot.pu(this.nav.hourTable);
            } else {
                this.$6z();
            };
            if (this.nav.hoursPlaceholder) {
                this.nav.hoursPlaceholder.innerHTML = '';
                this.nav.hourTable = this.$6A();
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);
            }
        };
        this.$6z = function() {
            if (!this.nav.hourTable) {
                return;
            };
            for (var i = 0; i < this.nav.hourTable.rows.length; i++) {
                var $23 = this.nav.hourTable.rows[i];
                var $d = $23.cells[0].firstChild;
                $d.data = null;
                $d.onmousemove = null;
                $d.onmouseout = null;
            }
        };
        this.$6x = function() {
            var $24 = document.createElement("div");
            $24.style.zoom = 1;
            $24.style.position = 'relative';
            $24.onmousemove = this.$6B;
            DayPilot.re($24, DayPilot.touch.start, this.$6q.onMainTouchStart);
            DayPilot.re($24, DayPilot.touch.move, this.$6q.onMainTouchMove);
            DayPilot.re($24, DayPilot.touch.end, this.$6q.onMainTouchEnd);
            DayPilot.re($24, "contextmenu", function(ev) {
                var ev = ev || window.event;
                ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
            });
            if (navigator.msPointerEnabled) {
                $24.style.msTouchAction = "none";
                $24.style.touchAction = "none";
            };
            $24.daypilotMainD = true;
            $24.calendar = this;
            var $25 = null;
            var $26 = null;
            var $27 = null;
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($0Q || this.$5U) {
                if (this.showHours) {
                    var $X = document.createElement("div");
                    $X.style.cssFloat = "left";
                    $X.style.styleFloat = "left";
                    $X.style.width = (this.hourWidth) + "px";
                    $X.style.height = this.$6u() + "px";
                    $X.style.overflow = "hidden";
                    $X.style.position = "relative";
                    $24.appendChild($X);
                    $25 = $X;
                    var $21 = 30;
                    var $J = (this.$5e() * this.cellHeight) / (60000 * this.cellDuration) + $21;
                    $27 = document.createElement("div");
                    $27.style.height = ($J) + "px";
                    $X.appendChild($27);
                };
                var $Y = document.createElement("div");
                $Y.style.height = this.$6u() + "px";
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "auto";
                $24.appendChild($Y);
                $26 = $Y;
            } else {
                var $28 = document.createElement("table");
                $28.cellSpacing = "0";
                $28.cellPadding = "0";
                $28.border = "0";
                $28.style.border = "0px none";
                $28.style.width = "100%";
                $28.style.position = 'relative';
                var r = $28.insertRow(-1);
                var c;
                if (this.showHours) {
                    c = r.insertCell(-1);
                    c.style.verticalAlign = "top";
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    $27 = c;
                };
                c = r.insertCell(-1);
                c.width = "100%";
                c.style.padding = '0px';
                c.style.border = '0px none';
                c.style.verticalAlign = "top";
                if (!this.cssOnly) {
                    c.style.borderLeft = "1px solid " + this.borderColor;
                };
                $26 = c;
                $24.appendChild($28);
            };
            if ($27) {
                this.nav.hourTable = this.$6A();
                $27.appendChild(this.nav.hourTable);
            };
            if (!this.cssOnly && !this.$4p) {
                $26.appendChild(this.$6C());
            } else {
                var parent = document.createElement("div");
                parent.style.height = "0px";
                parent.style.position = "relative";
                parent.appendChild(this.$6C());
                var $29 = document.createElement("div");
                $29.style.position = "absolute";
                $29.style.top = "0px";
                $29.style.left = "0px";
                $29.style.width = "100%";
                $29.style.height = "0px";
                parent.appendChild($29);
                this.nav.crosshair = $29;
                parent.appendChild(this.$6D());
                $26.appendChild(parent);
            };
            this.nav.zoom = $24;
            this.nav.bottomLeft = $25;
            this.nav.bottomRight = $26;
            this.nav.hoursPlaceholder = $27;
            return $24;
        };
        this.$6C = function() {
            var $28 = document.createElement("table");
            $28.cellPadding = "0";
            $28.cellSpacing = "0";
            $28.border = "0";
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                $28.style.width = "100%";
            };
            $28.style.border = "0px none";
            if (!this.cssOnly) {};
            $28.style.tableLayout = 'fixed';
            this.nav.main = $28;
            this.nav.events = $28;
            return $28;
        };
        this.$6E = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                return "100%";
            } else {
                var $2a = 0;
                for (var i = 0; i < $c.$5b.length; i++) {
                    var $q = $c.$5b[i];
                    if ($q.width) {
                        $2a += $q.width;
                    } else {
                        $2a += $c.columnWidth;
                    }
                };
                return $2a + "px";
            }
        };
        this.$6D = function() {
            var $28 = document.createElement("table");
            $28.style.position = "absolute";
            $28.style.top = "0px";
            $28.cellPadding = "0";
            $28.cellSpacing = "0";
            $28.border = "0";
            $28.style.width = $c.$6E();
            $28.style.border = "0px none";
            $28.style.tableLayout = 'fixed';
            this.nav.events = $28;
            var $2b = true;
            var $0f = this.$5b;
            var cl = $0f.length;
            var r = ($2b) ? $28.insertRow(-1) : $28.rows[0];
            for (var j = 0; j < cl; j++) {
                var c = ($2b) ? r.insertCell(-1) : r.cells[j];
                if ($2b) {
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    c.style.height = '0px';
                    c.style.overflow = 'visible';
                    if (!$c.rtl) {
                        c.style.textAlign = 'left';
                    };
                    $c.$6F(c);
                }
            };
            return $28;
        };
        this.$6A = function() {
            var $28 = document.createElement("table");
            $28.cellSpacing = "0";
            $28.cellPadding = "0";
            $28.border = "0";
            $28.style.border = '0px none';
            $28.style.width = this.hourWidth + "px";
            $28.oncontextmenu = function() {
                return false;
            };
            $28.onmousemove = function() {
                $c.$4K();
            };
            var $2c = this.$5e() / (this.timeHeaderCellDuration * 60 * 1000);
            for (var i = 0; i < $2c; i++) {
                this.$6G($28, i);
            };
            return $28;
        };
        this.$6H = function() {
            return (this.$5i() - this.$5i(true)) * (60 / this.cellDuration);
        };
        this.$6I = function() {
            return (this.$5i() - this.$5i(true));
        };
        this.$5Y = function() {
            return this.$6H() * this.cellHeight;
        };
        this.$6G = function($28, i) {
            var $J = (this.cellHeight * 60 / this.cellDuration) / (60 / this.timeHeaderCellDuration);
            var r = $28.insertRow(-1);
            r.style.height = $J + "px";
            var c = r.insertCell(-1);
            c.valign = "bottom";
            c.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                c.className = this.$5c("rowheader");
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.cursor = "default";
            };
            c.style.padding = '0px';
            c.style.border = '0px none';
            var $2d = document.createElement("div");
            if (this.cssOnly) {
                $2d.className = this.$5c("_rowheader");
            };
            $2d.style.position = "relative";
            $2d.style.width = this.hourWidth + "px";
            $2d.style.height = ($J) + "px";
            $2d.style.overflow = 'hidden';
            $2d.setAttribute("unselectable", "on");
            var $1o = document.createElement("div");
            if (this.cssOnly) {
                $1o.className = this.$5c("_rowheader_inner");
            };
            $1o.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                $1o.style.borderBottom = "1px solid " + this.hourNameBorderColor;
                $1o.style.textAlign = "right";
                $1o.style.height = ($J - 1) + "px";
            };
            var $S = null;
            var $h = null;
            if (this.hours) {
                var $2e = i + this.$6I();
                $h = this.hours[$2e];
                $S = $h.html;
            };
            var $2f = this.timeHeaderCellDuration;
            var $09 = this.startDate.addMinutes($2f * i + 60 * this.$5i());
            var $2g = $09.getHours();
            if (!$S) {
                var $2h = document.createElement("div");
                $2h.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $2h.style.padding = "2px";
                    $2h.style.fontFamily = this.hourFontFamily;
                    $2h.style.fontSize = this.hourFontSize;
                    $2h.style.color = this.hourFontColor;
                };
                var am = $2g < 12;
                if (this.$6l.timeFormat() === "Clock12Hours") {
                    $2g = $2g % 12;
                    if ($2g === 0) {
                        $2g = 12;
                    }
                };
                if (this.timeHeaderCellDuration !== 60) {
                    $2g += ":" + $09.toString("mm");
                };
                $2h.innerHTML = $2g;
                var $2i = document.createElement("span");
                $2i.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $2i.style.fontSize = "10px";
                    $2i.style.verticalAlign = "super";
                } else {
                    $2i.className = this.$5c("_rowheader_minutes");
                };
                var $2j;
                if (this.$6l.timeFormat() === "Clock12Hours") {
                    if (am) {
                        $2j = "AM";
                    } else {
                        $2j = "PM";
                    }
                } else {
                    $2j = "00";
                };
                if (!this.cssOnly) {
                    $2i.innerHTML = "&nbsp;" + $2j;
                } else {
                    $2i.innerHTML = $2j;
                };
                $2h.appendChild($2i);
                $S = $2h.outerHTML;
            };
            if (typeof $c.onBeforeTimeHeaderRender === 'function') {
                var $n = {};
                $n.header = {};
                $n.header.hours = $2g;
                $n.header.minutes = $09.getMinutes();
                $n.header.start = $09.toString("HH:mm");
                $n.header.html = $S;
                $n.header.areas = $h ? $h.areas : null;
                $c.onBeforeTimeHeaderRender($n);
                if ($n.header.html !== null) {
                    $S = $n.header.html;
                };
                $h = $n.header;
            };
            if ($h) {
                $2d.data = $h;
                $2d.onmousemove = $c.$6J;
                $2d.onmouseout = $c.$6K;
            };
            $1o.innerHTML = $S;
            $2d.appendChild($1o);
            c.appendChild($2d);
        };
        this.$6J = function(ev) {
            $c.$4K();
            var $d = this;
            if (!$d.active) {
                DayPilot.Areas.showAreas($d, $d.data);
            }
        };
        this.$6K = function(ev) {
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$6u = function() {
            switch (this.heightSpec) {
                case "Fixed":
                    return this.height;
                case "Parent100Pct":
                    return this.height;
                case "Full":
                    return (this.$5e() * this.cellHeight) / (60000 * this.cellDuration);
                case "BusinessHours":
                case "BusinessHoursNoScroll":
                    var $O = this.$5f();
                    return $O * this.cellHeight * 60 / this.cellDuration;
                default:
                    throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";
            }
        };
        this.$5j = function() {
            if (!this.showHeader) {
                return 0;
            };
            var $2k = this.headerLevels * $0e.headerHeight();
            if (this.showAllDayEvents && $0e.allDayHeaderHeight()) {
                return $2k + $0e.allDayHeaderHeight();
            } else {
                return $2k;
            }
        };
        this.$4V = function() {
            if (!this.headerHeightAutoFit) {
                return;
            };
            var $N = 0;
            for (var x = 0; x < this.nav.header.rows.length; x++) {
                var $23 = this.nav.header.rows[x];
                for (var i = 0; i < $23.cells.length; i++) {
                    var $f = $23.cells[i];
                    var $d = $f.firstChild;
                    var $M = $d.firstChild;
                    var $2l = $d.style.height;
                    $d.style.height = "auto";
                    $M.style.position = "static";
                    var h = $d.offsetHeight;
                    $d.style.height = $2l;
                    $M.style.position = '';
                    $N = Math.max($N, h);
                }
            };
            if ($N > this.headerHeight) {
                this.$4n.headerHeight = $N;
                this.$4T();
                this.$4U();
            }
        };
        this.$5U = true;
        this.$6L = function() {
            var element = this.$5U ? $c.nav.bottomRight : $c.nav.scroll;
            if (this.cssOnly) {
                return DayPilot.sw(element) > 0;
            } else {
                return DayPilot.sw(element) > 2;
            }
        };
        this.$6w = function() {
            var $1t = document.createElement("div");
            if (!this.cssOnly) {
                $1t.style.borderLeft = "1px solid " + this.borderColor;
                $1t.style.borderRight = "1px solid " + this.borderColor;
            };
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                $1t.style.overflow = "auto";
            };
            $1t.style.position = "absolute";
            $1t.style.left = "0px";
            $1t.style.right = "0px";
            var $24 = document.createElement("div");
            $24.style.position = "relative";
            $24.style.zoom = "1";
            var $2m = null;
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($0Q || this.$5U) {
                var $X = document.createElement("div");
                $X.style.cssFloat = "left";
                $X.style.styleFloat = "left";
                $X.style.width = (this.hourWidth) + "px";
                if (this.showHours) {
                    var $2n = this.$6M();
                    this.nav.corner = $2n;
                    $X.appendChild($2n);
                    $24.appendChild($X);
                    this.nav.upperLeft = $X;
                };
                var $Y = document.createElement("div");
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "hidden";
                $Y.style.height = this.$5j() + "px";
                $24.appendChild($Y);
                this.nav.upperRight = $Y;
                $2m = document.createElement("div");
                $2m.style.position = "relative";
                $Y.appendChild($2m);
            } else {
                var $28 = document.createElement("table");
                $28.cellPadding = "0";
                $28.cellSpacing = "0";
                $28.border = "0";
                $28.style.width = "100%";
                $28.style.borderCollapse = 'separate';
                $28.style.border = "0px none";
                var r = $28.insertRow(-1);
                this.nav.fullHeader = $28;
                if (this.showHours) {
                    var c = r.insertCell(-1);
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    var $2n = this.$6M();
                    c.appendChild($2n);
                    this.nav.corner = $2n;
                };
                c = r.insertCell(-1);
                c.style.width = "100%";
                if (!this.cssOnly) {
                    c.style.backgroundColor = this.hourNameBackColor;
                };
                c.valign = "top";
                c.style.position = 'relative';
                c.style.padding = '0px';
                c.style.border = '0px none';
                $2m = document.createElement("div");
                $2m.style.position = "relative";
                $2m.style.height = this.$5j() + "px";
                $2m.style.overflow = "hidden";
                c.appendChild($2m);
                this.nav.mid = $2m;
                $24.appendChild($28);
            };
            this.nav.headerParent = $2m;
            this.$6N();
            var $2o = this.$6L();
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($2o && !$0Q) {
                this.$6O();
            };
            $1t.appendChild($24);
            return $1t;
        };
        this.$6N = function() {
            this.nav.unifiedCornerRight = null;
            this.nav.header = document.createElement("table");
            this.nav.header.cellPadding = "0";
            this.nav.header.cellSpacing = "0";
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                this.nav.header.width = "100%";
            };
            this.nav.header.style.tableLayout = "fixed";
            if (!this.cssOnly) {
                this.nav.header.style.borderBottom = "0px none #000000";
                this.nav.header.style.borderLeft = "1px solid " + this.borderColor;
                this.nav.header.style.borderTop = "1px solid " + this.borderColor;
            };
            this.nav.header.oncontextmenu = function() {
                return false;
            };
            var $2o = this.$6L();
            if (!this.cssOnly) {
                if ($2o) {
                    this.nav.header.style.borderRight = "1px solid " + this.borderColor;
                }
            };
            this.nav.headerParent.appendChild(this.nav.header);
            if (this.nav.allday) {
                DayPilot.de(this.nav.allday);
            };
            if (this.showAllDayEvents) {
                var $2p = document.createElement("div");
                $2p.style.position = 'absolute';
                $2p.style.top = "0px";
                $2p.style.height = "0px";
                var $0Q = this.columnWidthSpec === 'Fixed';
                if (!$0Q) {
                    $2p.style.left = "0px";
                    $2p.style.right = "0px";
                } else {
                    $2p.style.width = (this.$5b.length * this.columnWidth) + "px";
                };
                this.nav.allday = $2p;
                this.nav.headerParent.appendChild($2p);
            }
        };
        this.$6O = function() {
            if (!this.nav.fullHeader) {
                return;
            };
            var r = this.nav.fullHeader.rows[0];
            var c = r.insertCell(-1);
            if (!this.cssOnly) {
                c.className = this.$5c('cornerright');
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.borderBottom = "0px none";
                c.style.borderLeft = "1px solid " + this.borderColor;
                c.style.borderRight = "0px none";
            };
            c.style.padding = '0px';
            c.style.verticalAlign = 'top';
            c.setAttribute("unselectable", "on");
            var $1x = document.createElement("div");
            $1x.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                $1x.className = this.$5c('_cornerright');
            };
            $1x.style.overflow = "hidden";
            $1x.style.position = "relative";
            $1x.style.width = "16px";
            $1x.style.height = this.$5j() + "px";
            var $M = document.createElement("div");
            if (this.cssOnly) {
                $M.className = this.$5c('_cornerright_inner');
            } else {
                $M.style.borderTop = "1px solid " + this.borderColor;
            };
            $1x.appendChild($M);
            c.appendChild($1x);
            this.nav.cornerRight = $1x;
        };
        this.$6M = function() {
            var $1V = document.createElement("div");
            $1V.style.position = 'relative';
            if (!this.cssOnly) {
                $1V.style.backgroundColor = this.cornerBackColor;
                $1V.style.fontFamily = this.headerFontFamily;
                $1V.style.fontSize = this.headerFontSize;
                $1V.style.color = this.headerFontColor;
                $1V.className = this.$5c("corner");
            } else {
                $1V.className = this.$5c("_corner");
            };
            $1V.style.width = this.hourWidth + "px";
            $1V.style.height = this.$5j() + "px";
            $1V.style.overflow = "hidden";
            $1V.oncontextmenu = function() {
                return false;
            };
            var $2n = document.createElement("div");
            if (this.cssOnly) {
                $2n.className = this.$5c("_corner_inner");
            } else {
                $2n.style.borderTop = "1px solid " + this.borderColor;
            };
            $2n.setAttribute("unselectable", "on");
            var $S = this.cornerHTML || this.cornerHtml;
            $2n.innerHTML = $S ? $S : '';
            $1V.appendChild($2n);
            if (!this.numberFormat) return $1V;
            var $2q = document.createElement("div");
            $2q.style.position = 'absolute';
            $2q.style.padding = '2px';
            $2q.style.top = '0px';
            $2q.style.left = '1px';
            $2q.style.backgroundColor = "#FF6600";
            $2q.style.color = "white";
            $2q.innerHTML = "\u0044\u0045\u004D\u004F";
            $2q.setAttribute("unselectable", "on");
            $1V.appendChild($2q);
            return $1V;
        };
        this.$4E = function() {
            var $28 = this.nav.main;
            $28.root = null;
            $28.onmouseup = null;
            for (var y = 0; y < $28.rows.length; y++) {
                var r = $28.rows[y];
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    c.root = null;
                    c.onmousedown = null;
                    c.onmousemove = null;
                    c.onmouseout = null;
                    c.onmouseup = null;
                    c.onclick = null;
                    c.ondblclick = null;
                    c.oncontextmenu = null;
                }
            };
            if (!this.$4o) DayPilot.pu($28);
        };
        this.$4W = function() {
            for (var i = 0; this.nav.scrollUp && i < this.nav.scrollUp.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);
            };
            for (var i = 0; this.nav.scrollDown && i < this.nav.scrollDown.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);
            };
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
        };
        this.$6F = function(c) {
            var $d = document.createElement("div");
            $d.style.marginRight = $c.columnMarginRight + "px";
            $d.style.position = 'relative';
            $d.style.height = '1px';
            if (!this.cssOnly) {
                $d.style.fontSize = '1px';
                $d.style.lineHeight = '1.2';
            };
            $d.style.marginTop = '-1px';
            c.events = $d;
            var $2r = document.createElement("div");
            $2r.style.position = "relative";
            $d.style.height = "1px";
            $d.style.marginTop = "-1px";
            c.separators = $2r;
            c.appendChild($2r);
            c.appendChild($d);
        };
        this.$4Y = function() {
            var $28 = this.nav.main;
            var $0l = this.cellDuration * 60 * 1000;
            var $2s = this.$5m();
            var $2t = this.$6I() * (60 / this.cellDuration);
            var $0f = $c.$5b;
            var $2b = true;
            var scrollY = 0;
            if ($28) {
                scrollY = $c.$5V().scrollTop;
                this.$4E();
                if ($c.$4s.ielt9 && $2b) {
                    DayPilot.de(this.nav.scrollable.parentNode);
                    var $1V = this.$6x();
                    this.$6P();
                    this.nav.scrollable = $1V.firstChild;
                    this.nav.scroll.appendChild($1V);
                    $28 = this.nav.main;
                }
            };
            this.nav.scrollable.daypilotMainD = true;
            this.nav.scrollable.calendar = this;
            while ($28 && $28.rows && $28.rows.length > 0 && $2b) {
                if (!this.$4o) DayPilot.pu($28.rows[0]);
                $28.deleteRow(0);
            };
            this.$6Q = true;
            if (this.scrollLabelsVisible) {
                var $0f = this.$5b;
                var $0S = (this.showHours ? this.hourWidth : 0);
                var $H = (this.nav.scroll.clientWidth - $0S) / $0f.length;
                for (var i = 0; i < $0f.length; i++) {
                    var $0U = document.createElement("div");
                    $0U.style.position = 'absolute';
                    $0U.style.top = '0px';
                    $0U.style.left = ($0S + 2 + i * $H + $H / 2) + "px";
                    $0U.style.display = 'none';
                    var $1E = document.createElement("div");
                    $1E.style.height = '10px';
                    $1E.style.width = '10px';
                    if (this.cssOnly) {
                        $1E.className = this.$5c("_scroll_up");
                    } else {
                        $1E.style.backgroundRepeat = "no-repeat";
                        if (this.scrollUpUrl) {
                            $1E.style.backgroundImage = "url('" + this.scrollUpUrl + "')";
                        };
                        $1E.className = this.$5c("scroll_up");
                    };
                    $0U.appendChild($1E);
                    this.nav.scrollLayer.appendChild($0U);
                    this.nav.scrollUp.push($0U);
                    var $0V = document.createElement("div");
                    $0V.style.position = 'absolute';
                    $0V.style.top = '0px';
                    $0V.style.left = ($0S + 2 + i * $H + $H / 2) + "px";
                    $0V.style.display = 'none';
                    var $1E = document.createElement("div");
                    $1E.style.height = '10px';
                    $1E.style.width = '10px';
                    if (this.cssOnly) {
                        $1E.className = this.$5c("_scroll_down");
                    } else {
                        $1E.style.backgroundRepeat = "no-repeat";
                        if (this.scrollDownUrl) {
                            $1E.style.backgroundImage = "url('" + this.scrollDownUrl + "')";
                        };
                        $1E.className = this.$5c("scroll_down");
                    };
                    $0V.appendChild($1E);
                    this.nav.scrollLayer.appendChild($0V);
                    this.nav.scrollDown.push($0V);
                }
            };
            var cl = $0f.length;
            if (this.cssOnly || this.$4p) {
                var $15 = this.nav.events;
                while ($15 && $15.rows && $15.rows.length > 0 && $2b) {
                    if (!this.$4o) DayPilot.pu($15.rows[0]);
                    $15.deleteRow(0);
                };
                var r = ($2b) ? $15.insertRow(-1) : $15.rows[0];
                for (var j = 0; j < cl; j++) {
                    var c = ($2b) ? r.insertCell(-1) : r.cells[j];
                    if ($2b) {
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.height = '1px';
                        c.style.overflow = 'visible';
                        var $0Q = this.columnWidthSpec === 'Fixed';
                        if ($0Q) {
                            if ($0f[j].width) {
                                c.style.width = $0f[j].width + "px";
                            } else {
                                c.style.width = this.columnWidth + "px";
                            }
                        };
                        if (!$c.rtl) {
                            c.style.textAlign = 'left';
                        };
                        $c.$6F(c);
                    }
                }
            };
            for (var i = 0; i < $2s; i++) {
                var r = ($2b) ? $28.insertRow(-1) : $28.rows[i];
                var y = i + $2t;
                if ($2b) {
                    r.style.MozUserSelect = 'none';
                    r.style.KhtmlUserSelect = 'none';
                    r.style.WebkitUserSelect = 'none';
                };
                for (var j = 0; j < cl; j++) {
                    var $1Q = this.$5b[j];
                    var c = ($2b) ? r.insertCell(-1) : r.cells[j];
                    c.start = $1Q.start.addTime(y * $0l).addHours(this.$5i());
                    c.end = c.start.addTime($0l);
                    c.resource = $1Q.id;
                    if (typeof this.onBeforeCellRender === 'function') {
                        if (!this.cellProperties) {
                            this.cellProperties = {};
                        };
                        var $f = {};
                        $f.resource = c.resource;
                        $f.start = c.start;
                        $f.end = c.end;
                        var $2e = j + "_" + y;
                        $f.cssClass = null;
                        $f.html = null;
                        $f.backImage = null;
                        $f.backRepeat = null;
                        $f.backColor = null;
                        $f.business = this.$6R(c.start, c.end);
                        if (this.cellProperties[$2e]) {
                            DayPilot.Util.copyProps(this.cellProperties[$2e], $f, ['cssClass', 'html', 'backImage', 'backRepeat', 'backColor', 'business']);
                        };
                        var $n = {};
                        $n.cell = $f;
                        this.onBeforeCellRender($n);
                        this.cellProperties[$2e] = $f;
                    };
                    var $2u = $c.$6S(j, y);
                    if ($2b) {
                        c.root = this;
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.verticalAlign = 'top';
                        c.style.height = $c.cellHeight + 'px';
                        c.style.overflow = 'hidden';
                        c.setAttribute("unselectable", "on");
                        if (!this.cssOnly) {
                            var $2v = document.createElement("div");
                            $2v.style.height = ($c.cellHeight - 1) + "px";
                            $2v.style.width = '100%';
                            $2v.style.overflow = 'hidden';
                            $2v.setAttribute("unselectable", "on");
                            c.appendChild($2v);
                            var $d = document.createElement("div");
                            $d.setAttribute("unselectable", "on");
                            $d.style.fontSize = '1px';
                            $d.style.height = '0px';
                            c.appendChild($d);
                            if ((!$c.rtl && j !== cl - 1) || $c.rtl) {
                                c.style.borderRight = '1px solid ' + $c.cellBorderColor;
                            };
                            var $2w = (c.end.getMinutes() + c.end.getSeconds() + c.end.getMilliseconds()) > 0;
                            if ($2w) {
                                if ($c.hourHalfBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourHalfBorderColor;
                                };
                                $d.className = $c.$5c("hourhalfcellborder");
                            } else {
                                if ($c.hourBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourBorderColor;
                                };
                                $d.className = $c.$5c("hourcellborder");
                            }
                        } else {
                            var $2v = document.createElement("div");
                            $2v.className = $c.$5c("_cell");
                            $2v.style.position = "relative";
                            $2v.style.height = ($c.cellHeight) + "px";
                            $2v.style.overflow = 'hidden';
                            $2v.setAttribute("unselectable", "on");
                            var $M = document.createElement("div");
                            $M.className = $c.$5c("_cell_inner");
                            $2v.appendChild($M);
                            c.appendChild($2v);
                        }
                    } else {
                        $2v = c.firstChild;
                        $2v.className = $c.$5c("_cell");
                    };
                    c.onmousedown = this.$5O;
                    c.onmousemove = this.$5R;
                    c.onmouseout = this.$5Q;
                    DayPilot.re(c, DayPilot.touch.end, this.$6q.onCellTouchEnd);
                    c.onmouseup = function() {
                        return false;
                    };
                    c.onclick = function() {
                        return false;
                    };
                    c.ondblclick = function() {
                        DayPilotCalendar.firstMousePos = null;
                        $c.$5P();
                        clearTimeout(DayPilotCalendar.selectedTimeout);
                        if ($c.timeRangeDoubleClickHandling === 'Disabled') {
                            return;
                        };
                        var $0P = $c.getSelection();
                        $c.$5J($0P.start, $0P.end, $0P.resource);
                    };
                    c.oncontextmenu = function() {
                        if (!this.selected) {
                            $c.clearSelection();
                            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
                            $c.selectedCells.push(this);
                            DayPilotCalendar.firstSelected = this;
                            DayPilotCalendar.topSelectedCell = this;
                            DayPilotCalendar.bottomSelectedCell = this;
                            $c.$5P();
                        };
                        if ($c.timeRangeRightClickHandling === "Disabled") {
                            return false;
                        };
                        var $0I = $c.getSelection();
                        var $n = {};
                        $n.start = $0I.start;
                        $n.end = $0I.end;
                        $n.resource = $0I.resource;
                        $n.preventDefault = function() {
                            this.preventDefault.value = true;
                        };
                        if (typeof $c.onTimeRangeRightClick === "function") {
                            $c.onTimeRangeRightClick($n);
                            if ($n.preventDefault.value) {
                                return false;
                            }
                        };
                        if ($c.timeRangeRightClickHandling === "ContextMenu" && $c.contextMenuSelection) {
                            $c.contextMenuSelection.show($c.getSelection());
                        };
                        if (typeof $c.onTimeRangeRightClicked === "function") {
                            $c.onTimeRangeRightClicked($n);
                        };
                        return false;
                    };
                    var $V = $c.$6T(j, y);
                    $2v = c.firstChild;
                    var $0Q = this.columnWidthSpec === 'Fixed';
                    if ($0Q) {
                        if ($1Q.width) {
                            $2v.style.width = $1Q.width + "px";
                        } else {
                            $2v.style.width = this.columnWidth + "px";
                        }
                    };
                    if ($V) {
                        if (this.cssOnly) {
                            $2v.firstChild.style.background = $V;
                        } else {
                            $2v.style.background = $V;
                        }
                    };
                    var $2x = $2u ? $2u.business : this.$6R(c.start, c.end);
                    if ($2x && this.cssOnly) {
                        DayPilot.Util.addClass($2v, $c.$5c("_cell_business"));
                    };
                    var $S = this.cssOnly ? $2v.firstChild : $2v;
                    if ($S) {
                        $S.innerHTML = '';
                    };
                    $2v.style.backgroundImage = "";
                    $2v.style.backgroundRepeat = "";
                    if ($2u) {
                        if ($2u.html) {
                            $S.innerHTML = $2u.html;
                        };
                        if ($2u.cssClass) {
                            if (this.cssOnly) {
                                DayPilot.Util.addClass($2v, $2u.cssClass);
                            } else {
                                DayPilot.Util.addClass(c, $c.$5c($2u.cssClass));
                            }
                        };
                        if ($2u.backImage) {
                            $2v.style.backgroundImage = "url('" + $2u.backImage + "')";
                        };
                        if ($2u.backRepeat) {
                            $2v.style.backgroundRepeat = $2u.backRepeat;
                        }
                    };
                    if (!this.cssOnly) {
                        DayPilot.Util.addClass(c, $c.$5c("cellbackground"));
                    }
                }
            };
            $28.onmouseup = this.$5S;
            $28.root = this;
            $c.nav.scrollable.style.display = '';
            $c.$5V().scrollTop = scrollY;
        };
        this.$6R = function($09, end) {
            if (this.businessBeginsHour < this.businessEndsHour) {
                return !($09.getHours() < this.businessBeginsHour || $09.getHours() >= this.businessEndsHour || $09.getDayOfWeek() === 6 || $09.getDayOfWeek() === 0);
            };
            if ($09.getHours() >= this.businessBeginsHour) {
                return true;
            };
            if ($09.getHours() < this.businessEndsHour) {
                return true;
            };
            return false;
        };
        this.$6B = function(ev) {
            ev = ev || window.event;
            ev.insideMainD = true;
            if (window.event) {
                window.event.srcElement.inside = true;
            };
            DayPilotCalendar.activeCalendar = this;
            var $2y = $c.nav.main;
            $c.coords = DayPilot.mo3($2y, ev);
            var $0L = DayPilot.mc(ev);
            var $29 = $c.crosshairType && $c.crosshairType !== "Disabled";
            var $2z = $c.coords.x < $c.hourWidth;
            if (DayPilot.Global.moving || DayPilot.Global.resizing || DayPilotCalendar.selecting || $2z) {
                $c.$4K();
            } else if ($29) {
                $c.$6U();
            };
            if (DayPilot.Global.resizing) {
                $c.$6V($0L);
            } else if (DayPilot.Global.moving) {
                if (!DayPilot.Global.moving.helper) {
                    DayPilotCalendar.movingShadow = null;
                    return;
                };
                if (!DayPilotCalendar.movingShadow) {
                    var $2A = 3;
                    if (DayPilot.distance($0L, DayPilotCalendar.originalMouse) > $2A) {
                        DayPilotCalendar.movingShadow = $c.$5a(DayPilot.Global.moving, !$c.$4s.ie, $c.shadow);
                        DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
                    } else {
                        return;
                    }
                };
                if (!$c.coords) {
                    return;
                };
                var $2B = $c.cellHeight;
                var $I = 0;
                var $0T = DayPilotCalendar.moveOffsetY;
                if (!$0T) {
                    $0T = $2B / 2;
                };
                if (this.moveBy === "Top") {
                    $0T = 0;
                };
                var $2C = Math.floor((($c.coords.y - $0T - $I) + $2B / 2) / $2B) * $2B + $I;
                if ($2C < $I) {
                    $2C = $I;
                };
                var $G = $c.nav.main;
                var $N = $G.clientHeight;
                var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
                if ($2C + $J > $N) {
                    $2C = $N - $J;
                };
                DayPilotCalendar.movingShadow.style.top = $2C + 'px';
                var $H = $G.clientWidth / $G.rows[0].cells.length;
                var $q = Math.floor(($c.coords.x) / $H);
                if ($q < 0) {
                    $q = 0;
                };
                if ($c.rtl) {
                    $q = $c.$5b.length - $q - 1;
                };
                var $15 = $c.nav.events;
                if ($q < $15.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                    DayPilotCalendar.movingShadow.column = $q;
                    DayPilotCalendar.moveShadow($15.rows[0].cells[$q]);
                }
            };
            if (DayPilotCalendar.drag) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$5a(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0K = DayPilot.Date.today();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0K,
                            'end': $0K.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                ev.cancelBubble = true;
            }
        };
        this.$6V = function($0L) {
            if (!DayPilot.Global.resizing.event) {
                DayPilot.Global.resizing = null;
                DayPilot.de(DayPilotCalendar.resizingShadow);
                DayPilotCalendar.resizingShadow = null;
                return;
            };
            if (!DayPilotCalendar.resizingShadow) {
                DayPilotCalendar.resizingShadow = $c.$5a(DayPilot.Global.resizing, false, $c.shadow);
            };
            var $2B = DayPilot.Global.resizing.event.calendar.cellHeight;
            var $I = 0;
            var $2D = ($0L.y - DayPilotCalendar.originalMouse.y);
            console.log(DayPilot.Global.resizing.dpBorder);
            if (DayPilot.Global.resizing.dpBorder === 'bottom') {
                var $2E = Math.floor(((DayPilotCalendar.originalHeight + DayPilotCalendar.originalTop + $2D) + $2B / 2) / $2B) * $2B - DayPilotCalendar.originalTop + $I;
                if ($2E < $2B) $2E = $2B;
                var $N = DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;
                if (DayPilotCalendar.originalTop + $2E > $N) {
                    $2E = $N - DayPilotCalendar.originalTop;
                };
                DayPilotCalendar.resizingShadow.style.height = ($2E) + 'px';
            } else if (DayPilot.Global.resizing.dpBorder === 'top') {
                var $2C = Math.floor(((DayPilotCalendar.originalTop + $2D - $I) + $2B / 2) / $2B) * $2B + $I;
                if ($2C < $I) {
                    $2C = $I;
                };
                if ($2C > DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2B) {
                    $2C = DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2B;
                };
                var $2E = DayPilotCalendar.originalHeight - ($2C - DayPilotCalendar.originalTop);
                if ($2E < $2B) {
                    $2E = $2B;
                } else {
                    DayPilotCalendar.resizingShadow.style.top = $2C + 'px';
                };
                DayPilotCalendar.resizingShadow.style.height = ($2E) + 'px';
            }
        };
        this.$6W = {};
        var $1E = this.$6W;
        $1E.getWidth = function() {
            return $c.nav.top.offsetWidth;
        };
        $1E.getHeight = function() {
            return $c.nav.top.offsetHeight - DayPilot.sh($c.nav.scroll) - 1;
        };
        $1E.download = function(name) {
            var $2F = $1E.canvas();
            var name = name || "image.png";
            if (window.navigator.msSaveBlob) {
                var $2G = $2F.msToBlob();
                window.navigator.msSaveBlob($2G, name);
            } else {
                var link = document.createElement("a");
                link.download = name;
                link.href = $2F.toDataURL();
                link.click();
            }
        };
        $1E.getCanvas = function() {
            return $1E.canvas();
        };
        $1E.getRectangles = function() {
            var $2H = ($c.showHours ? $c.hourWidth : 0);
            var $2I = $c.$5j();
            var $2J = {};
            $2J.main = {
                "x": 0,
                "y": 0,
                "w": $1E.getWidth(),
                "h": $1E.getHeight()
            };
            $2J.corner = {
                "x": 0,
                "y": 0,
                "w": $2H,
                "h": $2I
            };
            $2J.grid = {
                "x": $2H,
                "y": $2I,
                "w": $1E.getWidth() - $2H,
                "h": $1E.getHeight() - $2I
            };
            return $2J;
        };
        $1E.fakeDurationBar = function() {
            var $d = document.createElement("div");
            $d.style.display = "none";
            $d.className = $c.$5c("_event");
            var $1M = document.createElement("div");
            $1M.className = $c.$5c("_event_bar");
            var $M = document.createElement("div");
            $M.className = $c.$5c("_event_bar_inner");
            document.body.appendChild($d);
            $1M.appendChild($M);
            $d.appendChild($1M);
            return $d;
        };
        $1E.fakeCell = function() {
            var $d = document.createElement("div");
            $d.style.display = "none";
            $d.className = $c.$5c("_cell");
            var $M = document.createElement("div");
            $M.className = $c.$5c("_cell_inner");
            document.body.appendChild($d);
            $d.appendChild($M);
            return $d;
        };
        $1E.extractUrl = function($2K) {
            var $s = /url\((.*)\)/.exec($2K);
            return $s[1];
        };
        $1E.getImages = function() {
            var $u = {};
            var $r = $1E.fakeExpand();
            $u.expand = $1E.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            $r.className = $c.$5c("_tree_image_collapse");
            $u.collapse = $1E.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            $r.className = $c.$5c("_tree_image_no_children");
            $u.nochildren = $1E.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            DayPilot.de($r);
            return $u;
        };
        $1E.canvas = function() {
            var $2J = $1E.getRectangles();
            var $2F = new DayPilot.Canvas($2J.main.w, $2J.main.h);
            console.log($2J);
            var $1J = new DayPilot.StyleReader($c.nav.top).get("border-color");
            var $2L = new DayPilot.StyleReader($c.nav.header.rows[0].cells[0].firstChild.firstChild).get("border-bottom-color");
            $2F.rect($2J.main, $1J);
            $2F.line($2J.grid.x, 0, $2J.grid.x, $2J.main.h, $2L);
            $2F.line(0, $2J.grid.y, $2J.main.w, $2J.grid.y, $2L);
            return $2F.getCanvasElement();
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var $2M = $c.$6X.getCellCoords();
            if (!$2M) {
                return null;
            };
            var $q = $c.$5b[$2M.x];
            var $f = {};
            $f.resource = $q.id;
            $f.start = new DayPilot.Date($q.start).addHours($c.$5i(true)).addMinutes($2M.y * $c.cellDuration);
            $f.end = $f.start.addMinutes($c.cellDuration);
            return $f;
        };
        this.temp.img = $c.$6W;
        this.$6X = {};
        this.$6X.getCellCoords = function() {
            var $u = {};
            $u.x = 0;
            $u.y = 0;
            if (!$c.coords) {
                return null;
            };
            var $G = $c.nav.main;
            var $2N = $c.coords.x;
            var i = 0;
            var $1Q = this.col($G, i);
            while ($1Q && $2N > $1Q.left) {
                i += 1;
                $1Q = this.col($G, i);
            };
            $u.x = i - 1;
            var $I = 0;
            var $23 = Math.floor(($c.coords.y - $I) / $c.cellHeight);
            $u.y = $23;
            if ($u.x < 0) {
                return null;
            };
            return $u;
        };
        this.$6X.col = function($28, x) {
            var $u = {};
            $u.left = 0;
            $u.width = 0;
            if (!$28) {
                return null;
            };
            if (!$28.rows) {
                return null;
            };
            if ($28.rows.length === 0) {
                return null;
            };
            if ($28.rows[0].cells.length == 0) {
                return null;
            };
            var $f = $28.rows[0].cells[x];
            if (!$f) {
                return null;
            };
            var t = DayPilot.abs($28);
            var c = DayPilot.abs($f);
            $u.left = c.x - t.x;
            $u.width = $f.offsetWidth;
            return $u;
        };
        this.$6U = function() {
            this.$4K();
            if (!this.elements.crosshair) {
                this.elements.crosshair = [];
            };
            var $2O = this.$6X.getCellCoords();
            if (!$2O) {
                return;
            };
            var $q = $2O.x;
            var y = Math.floor($2O.y / (60 / $c.cellDuration) * (60 / $c.timeHeaderCellDuration));
            if (y < 0) {
                return;
            };
            if (this.nav.hourTable) {
                if (y >= this.nav.hourTable.rows.length) {
                    return;
                };
                var $2P = document.createElement("div");
                $2P.style.position = "absolute";
                $2P.style.left = "0px";
                $2P.style.right = "0px";
                $2P.style.top = "0px";
                $2P.style.bottom = "0px";
                $2P.style.opacity = .5;
                $2P.style.backgroundColor = this.crosshairColor;
                $2P.style.opacity = this.crosshairOpacity / 100;
                $2P.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2P);
                this.elements.crosshair.push($2P);
            };
            if (this.nav.header) {
                var $2Q = document.createElement("div");
                $2Q.style.position = "absolute";
                $2Q.style.left = "0px";
                $2Q.style.right = "0px";
                $2Q.style.top = "0px";
                $2Q.style.bottom = "0px";
                $2Q.style.opacity = .5;
                $2Q.style.backgroundColor = this.crosshairColor;
                $2Q.style.opacity = this.crosshairOpacity / 100;
                $2Q.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                var $23 = this.nav.header.rows[this.headerLevels - 1];
                if ($23.cells[$q]) {
                    $23.cells[$q].firstChild.appendChild($2Q);
                    this.elements.crosshair.push($2Q);
                }
            };
            if (this.crosshairType === "Header") {
                return;
            };
            var $2R = this.nav.crosshair;
            var $I = 0;
            var top = Math.floor((($c.coords.y - $I)) / $c.cellHeight) * $c.cellHeight + $I;
            var $J = $c.cellHeight;
            var $2S = document.createElement("div");
            $2S.style.position = "absolute";
            $2S.style.left = "0px";
            $2S.style.right = "0px";
            $2S.style.top = top + "px";
            $2S.style.height = $J + "px";
            $2S.style.backgroundColor = this.crosshairColor;
            $2S.style.opacity = this.crosshairOpacity / 100;
            $2S.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
            $2S.onmousedown = this.$6Y;
            $2R.appendChild($2S);
            this.elements.crosshair.push($2S);
            var $1Q = this.$6X.col(this.nav.main, $q);
            $J = this.nav.main.clientHeight;
            if ($1Q) {
                var $2T = document.createElement("div");
                $2T.style.position = "absolute";
                $2T.style.left = $1Q.left + "px";
                $2T.style.width = $1Q.width + "px";
                $2T.style.top = "0px";
                $2T.style.height = $J + "px";
                $2T.style.backgroundColor = this.crosshairColor;
                $2T.style.opacity = this.crosshairOpacity / 100;
                $2T.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                $2T.onmousedown = this.$6Y;
                $2R.appendChild($2T);
                this.elements.crosshair.push($2T);
            }
        };
        this.$6Y = function(ev) {
            $c.$4K();
            var $2O = $c.$6X.getCellCoords();
            var $2U = 0;
            var $f = $c.nav.main.rows[$2O.y + $2U].cells[$2O.x];
            $c.$5O.apply($f, [ev]);
        };
        this.$4K = function() {
            if (!this.elements.crosshair || this.elements.crosshair.length === 0) {
                return;
            };
            for (var i = 0; i < this.elements.crosshair.length; i++) {
                var e = this.elements.crosshair[i];
                if (e && e.parentNode) {
                    e.parentNode.removeChild(e);
                }
            };
            this.elements.crosshair = [];
        };
        this.$4R = function() {
            if (!this.cellConfig) {
                return;
            };
            var $2V = this.cellConfig;
            if ($2V.vertical) {
                for (var x = 0; x < $2V.x; x++) {
                    var $2W = this.cellProperties[x + "_0"];
                    for (var y = 1; y < $2V.y; y++) {
                        this.cellProperties[x + "_" + y] = $2W;
                    }
                }
            };
            if ($2V.horizontal) {
                for (var y = 0; y < $2V.y; y++) {
                    var $2W = this.cellProperties["0_" + y];
                    for (var x = 1; x < $2V.x; x++) {
                        this.cellProperties[x + "_" + y] = $2W;
                    }
                }
            };
            if ($2V["default"]) {
                var $2W = $2V["default"];
                for (var y = 0; y < $2V.y; y++) {
                    for (var x = 0; x < $2V.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.cellProperties[x + "_" + y] = $2W;
                        }
                    }
                }
            }
        };
        this.$6S = function(x, y) {
            if (!this.cellProperties) {
                return null;
            };
            return this.cellProperties[x + "_" + y];
        };
        this.$6Z = function(x, y) {
            var $2e = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$2e]) {
                return this.cellProperties[$2e].business;
            };
            return false;
        };
        this.$6T = function(x, y) {
            var $2e = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$2e]) {
                return this.cellProperties[$2e].backColor;
            };
            return null;
        };
        this.$4F = function() {
            var $28 = this.nav.header;
            if ($28 && $28.rows) {
                for (var y = 0; y < $28.rows.length; y++) {
                    var r = $28.rows[y];
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        c.onclick = null;
                        c.onmousemove = null;
                        c.onmouseout = null;
                    }
                }
            };
            if (!this.$4o) DayPilot.pu($28);
        };
        this.$70 = function($1k, $2b) {
            var r = ($2b) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$1k - 1];
            var $0f = this.$6h($1k);
            var $2X = $0f.length;
            var $2Y = ($1k === $c.headerLevels);
            for (var i = 0; i < $2X; i++) {
                var $h = $0f[i];
                if ($c.$59()) {
                    if (typeof $c.onBeforeHeaderRender === 'function') {
                        var $n = {};
                        $n.header = {};
                        DayPilot.Util.copyProps($h, $n.header, ['id', 'start', 'name', 'html', 'backColor', 'toolTip', 'areas', 'children']);
                        this.onBeforeHeaderRender($n);
                        DayPilot.Util.copyProps($n.header, $h, ['html', 'backColor', 'toolTip', 'areas']);
                    }
                };
                var $2Z = $h.getChildren ? true : false;
                var $f = ($2b) ? r.insertCell(-1) : r.cells[i];
                $f.data = $h;
                if ($2Y) {} else {
                    var $30 = 1;
                    if ($2Z) {
                        $30 = $h.getChildrenCount($c.headerLevels - $1k + 1);
                    };
                    $f.colSpan = $30;
                };
                if ($2Z) {
                    $f.onclick = this.$5t;
                    $f.onmousemove = this.$5u;
                    $f.onmouseout = this.$5v;
                    if ($h.toolTip) {
                        $f.title = $h.toolTip;
                    }
                };
                $f.style.overflow = 'hidden';
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.height = ($0e.headerHeight()) + "px";
                if (!this.cssOnly) {
                    $f.style.borderLeft = "0px none";
                    if (i !== $2X - 1) {
                        $f.style.borderRight = "1px solid " + this.borderColor;
                    }
                };
                var $d = ($2b) ? document.createElement("div") : $f.firstChild;
                if ($2b) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.position = 'relative';
                    $d.style.height = $0e.headerHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = $c.$5c('colheader');
                        $d.style.cursor = 'default';
                        $d.style.fontFamily = this.headerFontFamily;
                        $d.style.fontSize = this.headerFontSize;
                        $d.style.color = this.headerFontColor;
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.textAlign = 'center';
                        var $2h = document.createElement("div");
                        $2h.style.position = 'absolute';
                        $2h.style.left = '0px';
                        $2h.style.right = '0px';
                        $2h.style.top = "0px";
                        $2h.style.bottom = "0px";
                        $2h.style.padding = "2px";
                        $2h.setAttribute("unselectable", "on");
                        if ($1k !== 1) {
                            $2h.style.borderTop = '1px solid ' + this.borderColor;
                        };
                        if (this.headerClickHandling !== "Disabled") {
                            $2h.style.cursor = 'pointer';
                        };
                        $d.appendChild($2h);
                    } else {
                        $d.className = $c.$5c('_colheader');
                        var $M = document.createElement("div");
                        $M.className = $c.$5c('_colheader_inner');
                        if ($h.backColor) {
                            $M.style.background = $h.backColor;
                        };
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                } else {
                    $d.style.height = $0e.headerHeight() + "px";
                };
                this.$71($d, $h);
                if ($2Z) {
                    $d.firstChild.innerHTML = $h.html;
                }
            }
        };
        this.$71 = function($d, $h) {
            var $31 = [];
            for (var j = 0; j < $d.childNodes.length; j++) {
                var $r = $d.childNodes[j];
                if ($r.isActiveArea) {
                    $31.push($r);
                }
            };
            for (var j = 0; j < $31.length; j++) {
                var $r = $31[j];
                DayPilot.de($r);
            };
            if ($h.areas) {
                var $1u = $h.areas;
                for (var j = 0; j < $1u.length; j++) {
                    var $1O = $1u[j];
                    if ($1O.v !== 'Visible') {
                        continue;
                    };
                    var o = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                    var a = DayPilot.Areas.createArea($d, o, $1O);
                    $d.appendChild(a);
                }
            }
        };
        this.$4U = function() {
            if (!this.showHeader) {
                return;
            };
            var $1t = this.nav.header;
            var $2b = true;
            var $0f = this.$6h($c.headerLevels, true);
            var $2X = $0f.length;
            if (this.$72 && $c.$4s.ielt9 && $2b) {
                DayPilot.de(this.nav.header);
                this.$6N();
            }
            while (this.$72 && $1t && $1t.rows && $1t.rows.length > 0 && $2b) {
                if (!this.$4o) DayPilot.pu($1t.rows[0]);
                $1t.deleteRow(0);
            };
            this.$72 = true;
            var $S = $c.cornerHTML || $c.cornerHtml;
            if (!$2b) {
                var $2n = $c.nav.corner;
                if ($2n) {
                    if (!this.cssOnly) {
                        if ($c.cornerBackColor) {
                            $2n.style.backgroundColor = $c.cornerBackColor;
                        } else {
                            $2n.style.backgroundColor = $c.hourBackColor;
                        }
                    };
                    if (!this.$4o) DayPilot.pu($2n.firstChild);
                    $2n.firstChild.innerHTML = $S ? $S : '';
                }
            };
            for (var i = 0; i < $c.headerLevels; i++) {
                this.$70(i + 1, $2b);
            };
            if (!this.showAllDayEvents) {
                return;
            };
            var r = ($2b) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$c.headerLevels];
            for (var i = 0; i < $2X; i++) {
                var $h = $0f[i];
                var $f = ($2b) ? r.insertCell(-1) : r.cells[i];
                $f.data = $h;
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.overflow = 'hidden';
                if (!this.cssOnly) {
                    $f.style.lineHeight = '1.2';
                };
                var $d = ($2b) ? document.createElement("div") : $f.firstChild;
                if ($2b) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.overflow = 'hidden';
                    $d.style.position = "relative";
                    $d.style.height = $0e.allDayHeaderHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = this.$5c("alldayheader");
                        $d.style.textAlign = 'center';
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.cursor = 'default';
                        var $2h = document.createElement("div");
                        $2h.style.position = "absolute";
                        $2h.style.left = '0px';
                        $2h.style.right = '0px';
                        $2h.style.top = "0px";
                        $2h.style.bottom = "0px";
                        $2h.setAttribute("unselectable", "on");
                        $2h.style.borderTop = '1px solid ' + this.borderColor;
                        $d.appendChild($2h);
                        if ($c.rtl) {
                            if (i === $2X - 1) {
                                $2h.style.borderLeft = "1px solid " + $h.backColor;
                            } else {
                                $2h.style.borderLeft = "1px solid " + this.borderColor;
                            }
                        } else {
                            if (i !== $2X - 1) {
                                $2h.style.borderRight = "1px solid " + this.borderColor;
                            }
                        }
                    } else {
                        $d.className = this.$5c("_alldayheader");
                        var $M = document.createElement("div");
                        $M.className = this.$5c("_alldayheader_inner");
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                };
                $d.style.height = $0e.allDayHeaderHeight() + "px";
            }
        };
        this.$4y = function() {
            if (this.loadingLabelVisible && this.nav.loading) {
                this.nav.loading.innerHTML = this.loadingLabelText;
                this.nav.loading.style.top = (this.$5j() + 5) + "px";
                this.nav.loading.style.display = '';
            }
        };
        this.$4N = function() {
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            if (this.nav.loading) {
                this.nav.loading.style.display = 'none';
            }
        };
        this.$6P = function() {
            var $22 = this.$5V();
            var $32 = this.initScrollPos;
            if (!$32) {
                var $2g = this.businessBeginsHour;
                $32 = $2g * (60 / $c.cellDuration) * $c.cellHeight;
            };
            $22.root = this;
            $22.onscroll = this.$5T;
            if ($22.scrollTop === 0) {
                $22.scrollTop = $32 - this.$5Y();
            } else {
                this.$5T();
            }
        };
        this.$73 = function() {
            var el = $c.nav.top;
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$74 = function() {
            var $1i = $c.$73;
            if (!$1i()) {
                $c.$75 = setInterval(function() {
                    if ($1i()) {
                        $c.$6P();
                        $c.$51();
                        clearInterval($c.$75);
                    }
                }, 100);
            }
        };
        this.scrollToY = function($1H) {
            var $22 = this.$5V();
            $22.scrollTop = $1H;
        };
        this.scrollToHour = function($2g) {
            var $22 = this.$5V();
            var $1H = $2g * (60 / $c.cellDuration) * $c.cellHeight;
            $22.scrollTop = $1H - this.$5Y();
        };
        this.$5V = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            return $0Q || this.$5U ? this.nav.bottomRight : this.nav.scroll;
        };
        this.onCallbackError = function($u, $v) {
            alert("Error!\r\nResult: " + $u + "\r\nContext:" + $v);
        };
        this.$51 = function() {
            if (!$c.showHeader) {
                return;
            };
            var $33 = this.$6L();
            var $1i = !!this.nav.cornerRight;
            if (this.$5U) {
                if (this.nav.unifiedCornerRight) {
                    DayPilot.de(this.nav.unifiedCornerRight);
                };
                var $34 = this.$6E();
                if ($34 != "100%" && parseInt($34) < this.$5V().clientWidth) {
                    return;
                };
                var w = DayPilot.sw(this.nav.bottomRight);
                this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1);
                var c = this.nav.unifiedCornerRight;
                c.rowSpan = this.nav.header.rows.length;
                c.style.width = w + "px";
                var $2n = document.createElement("div");
                $2n.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    $2n.className = this.$5c('_cornerright');
                };
                $2n.style.overflow = "hidden";
                $2n.style.height = this.$5j() + "px";
                $2n.style.position = "relative";
                var $M = document.createElement("div");
                if (this.cssOnly) {
                    $M.className = this.$5c('_cornerright_inner');
                };
                $2n.appendChild($M);
                c.appendChild($2n);
                var $35 = this.columnWidthSpec === "Fixed";
                if (!$35 && this.nav.allday) {
                    this.nav.allday.style.right = w + "px";
                };
                return;
            };
            if ($33 !== $1i) {
                if ($33) {
                    this.$6O();
                } else {
                    if (this.nav.fullHeader && this.nav.fullHeader.rows[0].cells.length === 3) {
                        var c = this.nav.fullHeader.rows[0].cells[2];
                        if (c.parentNode) {
                            c.parentNode.removeChild(c);
                        }
                    };
                    this.nav.cornerRight = null;
                }
            };
            var d = this.nav.cornerRight;
            if (!d) {
                return;
            };
            var w = DayPilot.sw($c.$5k());
            if (!this.cssOnly) {
                if (w >= 3) {
                    d.style.width = (w - 3) + 'px';
                }
            } else {
                if (d) {
                    d.style.width = (w) + 'px';
                }
            };
            return w;
        };
        this.$58 = function($36) {
            if ($36) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$4r >= this.autoRefreshMaxCount) {
                return;
            };
            this.$4C();
            var $37 = this.autoRefreshInterval;
            if (!$37 || $37 < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $c.$76();
            }, this.autoRefreshInterval * 1000);
        };
        this.$4C = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$76 = function() {
            if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilotCalendar.drag && !DayPilotCalendar.selecting) {
                var $38 = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $n = {};
                    $n.i = this.$4r;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($n);
                    if ($n.preventDefault.value) {
                        $38 = true;
                    }
                };
                if (!$38 && this.$4x()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$4r++;
            };
            if (this.$4r < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$76();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$4G = function() {
            $c.$50();
            if ($c.heightSpec === "Parent100Pct") {
                $c.setHeight(parseInt($c.nav.top.clientHeight, 10));
            };
            $c.$57();
        };
        this.$77 = function() {
            if (!DayPilotCalendar.globalHandlers) {
                DayPilotCalendar.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotCalendar.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotCalendar.gMouseUp);
                DayPilot.re(document, DayPilot.touch.move, DayPilotCalendar.gTouchMove);
                DayPilot.re(document, DayPilot.touch.end, DayPilotCalendar.gTouchEnd);
            };
            DayPilot.re(window, 'resize', this.$4G);
        };
        this.$6p = function(ev) {
            if ($0G.active || $0G.using) {
                return;
            };
            ev = ev || window.event;
            var $0H = DayPilot.Util.mouseButton(ev);
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ((this.style.cursor === 'n-resize' || this.style.cursor === 's-resize') && $0H.left) {
                DayPilot.Global.resizing = this;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalHeight = this.offsetHeight;
                DayPilotCalendar.originalTop = this.offsetTop;
                $c.nav.top.style.cursor = this.style.cursor;
            } else if ((this.style.cursor === 'move' || ($c.moveBy === 'Full' && this.event.client.moveEnabled())) && $0H.left) {
                DayPilot.Global.moving = this;
                var $39 = DayPilot.Global.moving.helper = {};
                $39.oldColumn = $c.$5b[this.event.part.dayIndex].id;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalTop = this.offsetTop;
                var $0T = DayPilot.mo3(this, ev);
                if ($0T) {
                    DayPilotCalendar.moveOffsetY = $0T.y;
                } else {
                    DayPilotCalendar.moveOffsetY = 0;
                };
                $c.nav.top.style.cursor = this.style.cursor;
            };
            return false;
        };
        this.$78 = function(i) {
            var $1I = this.$4n.events;
            var $h = this.events.list[i];
            var $3a = {};
            for (var name in $h) {
                $3a[name] = $h[name];
            };
            if ($c.showEventStartEnd) {
                var $3b = $h.start.getDatePart().getTime() === $h.end.getDatePart().getTime();
                var $1j = $3b ? $0e.locale().timePattern : $0e.locale().dateTimePattern;
                var $3c = $h.start.toString($1j);
                var $3d = $h.end.toString($1j);
                $3a.html = $3a.text + " (" + $3c + " - " + $3d + ")";
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $n = {};
                $n.e = $3a;
                $n.data = $3a;
                this.onBeforeEventRender($n);
            };
            $1I[i] = $3a;
        };
        this.$6q = {};
        var $0G = $c.$6q;
        $0G.active = false;
        $0G.start = null;
        $0G.timeout = null;
        $0G.startcell = null;
        this.$6q.getCellCoords = function(ev) {
            var x, y;
            if (ev.touches) {
                x = ev.touches[0].pageX;
                y = ev.touches[0].pageY;
            } else {
                x = ev.pageX;
                y = ev.pageY;
            };
            var $3e = DayPilot.abs($c.nav.main);
            var $3f = {
                x: x - $3e.x,
                y: y - $3e.y
            };
            var w = ($c.nav.main.clientWidth / $c.$5b.length);
            var $2M = {
                "pageX": x,
                "pageY": y,
                "x": Math.floor($3f.x / w),
                "y": Math.floor($3f.y / $c.cellHeight),
                "toString": function() {
                    return "x: " + this.x + " y:" + this.y;
                }
            };
            return $2M;
        };
        this.$6q.startSelecting = function($2M) {
            var $f = $c.nav.main.rows[$2M.y].cells[$2M.x];
            $0G.startcell = $2M;
            $c.clearSelection();
            DayPilotCalendar.column = DayPilotCalendar.getColumn($f);
            $c.selectedCells.push($f);
            DayPilotCalendar.firstSelected = $f;
            DayPilotCalendar.topSelectedCell = $f;
            DayPilotCalendar.bottomSelectedCell = $f;
            $c.$5P();
        };
        this.$6q.extendSelection = function($2M) {
            var $f = $c.nav.main.rows[$2M.y].cells[$2M.x];
            $c.clearSelection();
            if ($2M.y < $0G.startcell.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow($f);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove($f);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5P();
        };
        this.$6q.onMainTouchStart = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0G.active) {
                return;
            };
            if (ev.touches.length > 1) {
                return;
            };
            $0G.using = true;
            var $2M = $0G.getCellCoords(ev);
            $0G.startCoords = $2M;
            var $3g = $c.tapAndHoldTimeout;
            $0G.timeout = window.setTimeout(function() {
                ev.preventDefault();
                $0G.active = true;
                switch ($c.timeRangeTapAndHoldHandling) {
                    case "Select":
                        $0G.startSelecting($2M);
                        break;
                    case "ContextMenu":
                        $0G.startSelecting($2M);
                        $0G.active = false;
                        if ($c.contextMenuSelection) {
                            $c.contextMenuSelection.show($c.getSelection());
                        };
                        break;
                }
            }, $3g);
        };
        this.$6q.onCellTouchMove = function(ev) {};
        this.$6q.onCellTouchEnd = function(ev) {
            if (!$0G.active) {
                window.clearTimeout($0G.timeout);
                return;
            };
            ev.preventDefault();
            $0G.startcell = null;
            var $0P = $c.getSelection();
            $0P.toString = function() {
                return "start: " + this.start + "\nend: " + this.end;
            };
            $c.$5I($0P.start, $0P.end, $0P.resource);
            window.setTimeout(function() {
                $0G.active = false;
            }, 500);
        };
        this.$6q.startMoving = function($d, $2M) {
            DayPilot.Global.moving = $d;
            var $39 = DayPilot.Global.moving.helper = {};
            $39.oldColumn = $c.$5b[$d.event.part.dayIndex].id;
            DayPilotCalendar.originalMouse = $2M;
            DayPilotCalendar.originalTop = this.offsetTop;
            var $3e = DayPilot.abs($d);
            DayPilotCalendar.moveOffsetY = $2M.y - $3e.y;
            if (!DayPilotCalendar.movingShadow) {
                DayPilotCalendar.movingShadow = $c.$5a(DayPilot.Global.moving, !$c.$4s.ie, $c.shadow);
                DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
            }
        };
        this.$6q.startResizing = function($d, $0i, $2M) {
            DayPilot.Global.resizing = $d;
            $d.dpBorder = $0i;
            DayPilotCalendar.originalMouse = $2M;
            DayPilotCalendar.originalHeight = $d.offsetHeight;
            DayPilotCalendar.originalTop = $d.offsetTop;
        };
        this.$6q.updateResizing = function($2M) {
            $c.$6V($2M);
        };
        this.$6q.updateMoving = function() {
            var $2M = $c.coords;
            var $2B = $c.cellHeight;
            var $I = 0;
            var $0T = DayPilotCalendar.moveOffsetY;
            if (!$0T) {
                $0T = $2B / 2;
            };
            var $2C = Math.floor((($2M.y - $0T - $I) + $2B / 2) / $2B) * $2B + $I;
            if ($2C < $I) {
                $2C = $I;
            };
            var $G = $c.nav.main;
            var $N = $G.clientHeight;
            var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
            if ($2C + $J > $N) {
                $2C = $N - $J;
            };
            DayPilotCalendar.movingShadow.style.top = $2C + 'px';
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var $q = Math.floor($2M.x / $H);
            if ($q < 0) {
                $q = 0;
            };
            var $15 = $c.nav.events;
            if ($q < $15.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                DayPilotCalendar.movingShadow.column = $q;
                DayPilotCalendar.moveShadow($15.rows[0].cells[$q]);
            }
        };
        this.$6q.onEventTouchStart = function(ev) {
            if ($0G.active) {
                return;
            };
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            ev.stopPropagation();
            $0G.preventEventTap = false;
            $0G.using = true;
            $0G.startCoords = $0G.getCellCoords(ev);
            var $d = this;
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $2M = {
                x: x,
                y: y,
                $d: this
            };
            $c.coords = $0G.relativeCoords(ev);
            var $3g = $c.tapAndHoldTimeout;
            $0G.timeout = window.setTimeout(function() {
                var e = $d.event;
                $0G.active = true;
                switch ($c.eventTapAndHoldHandling) {
                    case "Move":
                        if (e.client.moveEnabled()) {
                            $0G.startMoving($d, $2M);
                        };
                        break;
                    case "ContextMenu":
                        var $06 = e.client.contextMenu();
                        if (DayPilot.Menu) {
                            DayPilot.Menu.touchPosition(ev);
                        };
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }, $3g);
        };
        this.$6q.onMainTouchMove = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0G.timeout) {
                var $2M = $0G.getCellCoords(ev);
                if ($2M && $0G.startCoords) {
                    if ($2M.pageX !== $0G.startCoords.pageX || $2M.pageY !== $0G.startCoords.pageY) {
                        window.clearTimeout($c.$6q.timeout);
                    }
                }
            };
            if (DayPilot.Global.moving && DayPilotCalendar.movingShadow) {
                ev.preventDefault();
                $c.coords = $0G.relativeCoords(ev);
                $0G.updateMoving();
                return;
            } else if (DayPilot.Global.resizing) {
                ev.preventDefault();
                var t = ev.touches ? ev.touches[0] : ev;
                var $2M = {
                    x: t.pageX,
                    y: t.pageY
                };
                $0G.updateResizing($2M);
                return;
            } else if ($0G.startcell) {
                ev.preventDefault();
                if (!$0G.active) {
                    window.clearTimeout($0G.timeout);
                    return;
                };
                var $2M = $0G.getCellCoords(ev);
                $0G.extendSelection($2M);
            };
            $0G.preventEventTap = true;
        };
        this.$6q.relativeCoords = function(ev) {
            var $2y = $c.nav.main;
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $3e = DayPilot.abs($2y);
            var $2M = {
                x: x - $3e.x,
                y: y - $3e.y,
                "toString": function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $2M;
        };
        this.$6q.onMainTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (DayPilot.Global.moving) {
                $0G.active = false;
                ev.preventDefault();
                ev.stopPropagation();
                var top = DayPilotCalendar.movingShadow.offsetTop;
                DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
                var $3h = DayPilot.Global.moving.event;
                var $0q = DayPilotCalendar.movingShadow.column;
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                $3h.calendar.$5B($3h, $0q, top, ev, DayPilotCalendar.drag);
            } else if ($0G.startcell) {
                if (!$0G.active) {
                    window.clearTimeout($0G.timeout);
                    return;
                };
                ev.preventDefault();
                $0G.startcell = null;
                var $0P = $c.getSelection();
                $0P.toString = function() {
                    return "start: " + this.start + "\nend: " + this.end;
                };
                $c.$5I($0P.start, $0P.end, $0P.resource);
                window.setTimeout(function() {
                    $0G.active = false;
                }, 500);
            }
        };
        this.$6q.onEventTouchMove = function(ev) {
            $0G.preventEventTap = true;
        };
        this.$6q.onEventTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (!$0G.active) {
                if ($0G.preventEventTap) {
                    return;
                };
                ev.preventDefault();
                window.clearTimeout($0G.timeout);
                $c.$5o(this, false);
                return;
            };
            $0G.active = false;
            if ($0G.timeout) {
                window.clearTimeout($0G.timeout);
                return;
            };
            ev.preventDefault();
        };
        this.$6n = function(ev) {
            var $3i = 5;
            var $3j = Math.max($c.durationBarWidth, 10);
            var w = 5;
            var $1t = ($c.moveBy === 'Top');
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            var $0T = DayPilot.mo3(this, ev);
            if (!$0T) {
                return;
            };
            var $d = this;
            if (!$d.active) {
                var $1u = [];
                if ($d.event.client.deleteEnabled()) {
                    $1u.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": 2,
                        "right": 2,
                        "css": $c.$5c("_event_delete"),
                        "js": function(e) {
                            $c.$5w(e);
                        }
                    });
                };
                var $18 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
                if ($18 && $18.length > 0) {
                    $1u = $1u.concat($18);
                };
                DayPilot.Areas.showAreas($d, $d.event, null, $1u);
                if ($c.cssOnly) {
                    DayPilot.Util.addClass($d, $c.$5c("_event_hover"));
                }
            };
            if (DayPilot.Global.resizing || DayPilot.Global.moving) {
                return;
            };
            var $3k = this.isFirst;
            var $3l = this.isLast;
            if ($c.moveBy === "Disabled" || $c.moveBy === "None") {
                return;
            };
            if (!$1t && $0T.x <= $3j && this.event.client.moveEnabled()) {
                if ($3k) {
                    this.style.cursor = 'move';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!$1t && $0T.y <= $3i && this.event.client.resizeEnabled()) {
                if ($3k) {
                    this.style.cursor = "n-resize";
                    this.dpBorder = 'top';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if ($1t && $0T.y <= $3j && this.event.client.moveEnabled()) {
                this.style.cursor = "move";
            } else if (this.offsetHeight - $0T.y <= $3i && this.event.client.resizeEnabled()) {
                if ($3l) {
                    this.style.cursor = "s-resize";
                    this.dpBorder = 'bottom';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!DayPilot.Global.resizing && !DayPilot.Global.moving) {
                if (this.event.client.clickEnabled()) this.style.cursor = 'pointer';
                else this.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (this.style.cursor === 'default' || this.style.cursor === 'pointer') {
                    var $3m = this.$79 && $0T.x === this.$79.x && $0T.y === this.$79.y;
                    if (!$3m) {
                        this.$79 = $0T;
                        $c.bubble.showEvent(this.event);
                    }
                } else {}
            }
        };
        this.$6o = function(ev) {
            if ($c.cssOnly) {
                DayPilot.Util.removeClass(this, $c.$5c("_event_hover"));
            };
            if ($c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$7a = null;
        this.$53 = function() {
            if (this.showCurrentTime) {
                this.$7b();
                var $0a = new DayPilot.Date().addMinutes($c.showCurrentTimeOffset);
                if ($c.showCurrentTimeMode === "Full") {
                    this.$7c($0a);
                } else if ($c.showCurrentTimeMode === "Day") {
                    this.$7d($0a);
                } else {
                    throw "Invalid DayPilot.Calendar.showCurrentTimeMode value: " + $c.showCurrentTimeMode;
                };
                if (this.nav.events && !this.$7a) {
                    var $3n = 30;
                    this.$7a = setTimeout(function() {
                        $c.$7a = null;
                        $c.$53();
                    }, $3n * 1000);
                }
            }
        };
        this.$7b = function() {
            DayPilot.de($c.elements.separators);
            $c.elements.separators = [];
        };
        this.$7d = function($0v) {
            var $3o = $0v.getTime();
            var $G = $c.nav.events;
            if (!$G) {
                return;
            };
            for (var i = 0; i < $c.$5b.length; i++) {
                var $1Q = $c.$5b[i];
                var $K = $c.$5e(true);
                var $3p = new DayPilot.Date($1Q.start).addHours(this.$5i(true));
                var $3q = $3p.getTime();
                var $3r = $3p.addTime($K);
                var $3s = $3r.getTime();
                if ($3q <= $3o && $3o <= $3s) {
                    var $3t = this.$7e($0v, $1Q.start).top - 1;
                    var $f = $G.rows[0].cells[i];
                    var $1V = $f.separators;
                    var $d = document.createElement("div");
                    $d.style.position = "absolute";
                    $d.style.top = $3t + "px";
                    $d.style.height = "1px";
                    $d.style.left = "0px";
                    $d.style.right = "0px";
                    $d.className = $c.$5c("_now");
                    $1V.insertBefore($d, $1V.firstChild);
                    $c.elements.separators.push($d);
                }
            }
        };
        this.$7c = function($0v) {
            var $3o = $0v.getTime();
            var $G = $c.nav.events;
            if (!$G) {
                return;
            };
            var $1Q = $c.$5b[0];
            if (!$1Q) {
                return;
            };
            var $3u = $1Q.start.getDatePart().addTime($0v.getTimePart());
            var $3t = this.$7e($3u, $1Q.start).top - 1;
            for (var i = 0; i < $c.$5b.length; i++) {
                var $1Q = $c.$5b[i];
                var $K = $c.$5e(true);
                var $3p = new DayPilot.Date($1Q.start).addHours(this.$5i(true));
                var $3q = $3p.getTime();
                var $3r = $3p.addTime($K);
                var $3s = $3r.getTime();
                if ($3q <= $3o && $3o <= $3s) {
                    var $d = document.createElement("div");
                    $d.style.position = "absolute";
                    $d.style.top = $3t + "px";
                    $d.style.height = "1px";
                    $d.style.left = "0px";
                    $d.style.right = "0px";
                    $d.className = $c.$5c("_now");
                    $c.nav.events.appendChild($d);
                    $c.elements.separators.push($d);
                    return;
                }
            }
        };
        this.$4S = function($15) {
            if (!$15) {
                $15 = this.events.list;
            } else {
                this.events.list = $15;
            };
            if (!$15) {
                return;
            };
            this.$6k = {};
            this.$6k.events = [];
            this.$6k.lines = [];
            var length = $15.length;
            var $K = this.$5e(true);
            this.$4n.pixels = {};
            var $3v = [];
            this.$5X = [];
            this.$5y = 10000;
            this.$5h = 0;
            this.startDate = new DayPilot.Date(this.startDate);
            for (var i = 0; i < length; i++) {
                var e = $15[i];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.end);
            };
            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                for (var i = 0; i < length; i++) {
                    this.$78(i);
                }
            };
            var $3w = this.viewType === 'Resources';
            var $1i = this.$6i();
            var $3x = $1i.start;
            var $3y = $1i.end;
            for (var i = 0; i < this.$5b.length; i++) {
                var scroll = {};
                scroll.minEnd = 1000000;
                scroll.maxStart = -1;
                this.$5X.push(scroll);
                var $1Q = this.$5b[i];
                $1Q.events = [];
                $1Q.lines = [];
                $1Q.blocks = [];
                var $3p = new DayPilot.Date($1Q.start).addHours(this.$5i(true));
                var $3q = $3p.getTime();
                var $3r = $3p.addTime($K);
                var $3s = $3r.getTime();
                if ($3w) {
                    $3x = $3p.getDatePart();
                    $3y = $3r.getDatePart();
                };
                for (var j = 0; j < length; j++) {
                    if ($3v[j]) {
                        continue;
                    };
                    var e = $15[j];
                    var $09 = e.start;
                    var end = e.end;
                    var $3z = $09.getTime();
                    var $3A = end.getTime();
                    if ($3A < $3z) {
                        continue;
                    };
                    if (e.allday) {
                        var $3B = false;
                        if ($3z === $3A) {
                            $3B = !($3A < $3x.getTime() || $3z >= $3y.getTime());
                        } else if ($c.allDayEnd === 'Date') {
                            $3B = !($3A < $3x.getTime() || $3z >= $3y.getTime());
                        } else {
                            $3B = !($3A <= $3x.getTime() || $3z >= $3y.getTime());
                        };
                        if ($3w) {
                            $3B = $3B && (e.resource === $1Q.id || $1Q.id === "*");
                        };
                        if ($3B) {
                            var ep = new DayPilot.Event(e, this);
                            ep.part.start = $3x.getTime() < $3z ? $09 : $3x;
                            ep.part.end = $3y.getTime() > $3A ? end : $3y;
                            ep.part.colStart = DayPilot.DateUtil.daysDiff($3x, ep.part.start);
                            ep.part.colWidth = DayPilot.DateUtil.daysSpan(ep.part.start, ep.part.end) + 1;
                            if ($3w) {
                                ep.part.colStart = i;
                                ep.part.colWidth = 1;
                            };
                            this.$6k.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                                ep.cache = this.$4n.events[j];
                            };
                            $3v[j] = true;
                            if ($3w && (ep.part.start.getTime() !== $3z || ep.part.end.getTime() !== $3A)) {
                                $3v[j] = false;
                            }
                        };
                        continue;
                    };
                    var $3B = false;
                    if ($3w) {
                        $3B = ($1Q.id === e.resource) && !($3A <= $3q || $3z >= $3s);
                    } else {
                        $3B = !($3A <= $3q || $3z >= $3s) || ($3A === $3z && $3z === $3q);
                    };
                    if ($3B) {
                        var ep = new DayPilot.Event(e, $c);
                        ep.part.dayIndex = i;
                        ep.part.start = $3q < $3z ? $09 : $3p;
                        ep.part.end = $3s > $3A ? end : $3r;
                        var $3t = this.$7e(ep.part.start, $1Q.start);
                        var $3C = this.$7e(ep.part.end, $1Q.start);
                        var top = $3t.top;
                        var $1c = $3C.top;
                        if (top === $1c && ($3t.cut || $3C.cut)) {
                            continue;
                        };
                        ep.part.box = $0e.useBox($3A - $3z);
                        var $I = 0;
                        if (ep.part.box) {
                            var $3D = $3C.boxBottom;
                            ep.part.top = Math.floor(top / this.cellHeight) * this.cellHeight + $I;
                            ep.part.height = Math.max(Math.ceil($3D / this.cellHeight) * this.cellHeight - ep.part.top, this.cellHeight - 1);
                            ep.part.barTop = Math.max(top - ep.part.top - 1, 0);
                            ep.part.barHeight = Math.max($1c - top - 2, 1);
                        } else {
                            ep.part.top = top + $I;
                            ep.part.height = Math.max($1c - top, 0);
                            ep.part.barTop = 0;
                            ep.part.barHeight = Math.max($1c - top - 2, 1);
                        };
                        var $09 = ep.part.top;
                        var end = ep.part.top + ep.part.height;
                        if ($09 > scroll.maxStart) {
                            scroll.maxStart = $09;
                        };
                        if (end < scroll.minEnd) {
                            scroll.minEnd = end;
                        };
                        if ($09 < this.$5y) {
                            this.$5y = $09;
                        };
                        if (end > this.$5h) {
                            this.$5h = end;
                        };
                        $1Q.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                            ep.cache = this.$4n.events[j];
                        };
                        if (ep.part.start.getTime() === $3z && ep.part.end.getTime() === $3A) {
                            $3v[j] = true;
                        }
                    }
                }
            };
            for (var i = 0; i < this.$5b.length; i++) {
                var $1Q = this.$5b[i];
                $1Q.events.sort(this.$7f);
                for (var j = 0; j < $1Q.events.length; j++) {
                    var e = $1Q.events[j];
                    $1Q.putIntoBlock(e);
                };
                for (var j = 0; j < $1Q.blocks.length; j++) {
                    var $1o = $1Q.blocks[j];
                    $1o.events.sort(this.$7g);
                    for (var k = 0; k < $1o.events.length; k++) {
                        var e = $1o.events[k];
                        $1o.putIntoLine(e);
                    }
                }
            };
            this.$6k.events.sort(this.$7g);
            this.$6k.putIntoLine = function(ep) {
                var $1p = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1q = this.lines[i];
                    if ($1q.isFree(ep.part.colStart, ep.part.colWidth)) {
                        $1q.push(ep);
                        return i;
                    }
                };
                var $1q = [];
                $1q.isFree = function($09, $11) {
                    var end = $09 + $11 - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (!(end < e.part.colStart || $09 > e.part.colStart + e.part.colWidth - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1q.push(ep);
                this.lines.push($1q);
                return this.lines.length - 1;
            };
            for (var i = 0; i < this.$6k.events.length; i++) {
                var e = this.$6k.events[i];
                this.$6k.putIntoLine(e);
            };
            var $3E = Math.max(this.$6k.lines.length, 1);
            this.$4n.allDayHeaderHeight = $3E * ($0e.allDayEventHeight() + 2) + 2;
        };
        this.$7f = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $3F = a.start().ticks - b.start().ticks;
            if ($3F !== 0) {
                return $3F;
            };
            var $3G = b.end().ticks - a.end().ticks;
            return $3G;
        };
        this.$7g = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$7f(a, b);
            };
            var $u = 0;
            var i = 0;
            while ($u === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $u = 0;
                } else {
                    $u = $c.$7h(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $u;
        };
        this.$7h = function(a, b, $3H) {
            var $3I = ($3H !== "desc");
            var $3J = $3I ? -1 : 1;
            var $3K = -$3J;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $3K;
            };
            if (a === null) {
                return $3J;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $3J : $3K;
        };
        this.$7i = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if ($d.event === e || $d.event.data === e.data) {
                    return $d;
                }
            };
            return null;
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $2X = $c.events.list.length;
            for (var i = 0; i < $2X; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($3L, $0a) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $2X = $c.events.list.length;
            for (var i = 0; i < $2X; i++) {
                if ($c.events.list[i].recurrentMasterId === $3L && $c.events.list[i].start.getTime() === $0a.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.all = function() {
            var $18 = [];
            for (var i = 0; i < $c.events.list.length; i++) {
                var e = new DayPilot.Event($c.events.list[i], $c);
                $18.push(e);
            };
            return DayPilot.list($18);
        };
        this.events.edit = function(e) {
            function startEditing() {
                var $d = $c.$7i(e);
                if (!$d) {
                    return;
                };
                $c.$5p($d);
            };
            startEditing();
        };
        this.events.update = function(e, $h) {
            var $0d = {};
            $0d.oldEvent = new DayPilot.Event(e.copy(), $c);
            $0d.newEvent = new DayPilot.Event(e.temp(), $c);
            var $g = new DayPilot.Action($c, "EventUpdate", $0d, $h);
            e.commit();
            if ($c.$4q) {
                $c.update();
            };
            $c.$7j.notify();
            return $g;
        };
        this.events.remove = function(e, $h) {
            var $0d = {};
            $0d.e = new DayPilot.Event(e.data, $c);
            var $g = new DayPilot.Action($c, "EventRemove", $0d, $h);
            var $2e = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($2e, 1);
            if ($c.$4q) {
                $c.update();
            };
            $c.$7j.notify();
            return $g;
        };
        this.events.add = function(e, $h) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $0d = {};
            $0d.e = e;
            var $g = new DayPilot.Action($c, "EventAdd", $0d, $h);
            if ($c.$4q) {
                $c.update();
            };
            $c.$7j.notify();
            return $g;
        };
        this.events.load = function($3M, $3N, $3O) {
            var $3P = function($n) {
                var $3Q = {};
                $3Q.exception = $n.exception;
                $3Q.request = $n.request;
                if (typeof $3O === 'function') {
                    $3O($3Q);
                }
            };
            var $3R = function($n) {
                var r = $n.request;
                var $h;
                try {
                    $h = DayPilot.Util.parseJSON(r.responseText);
                } catch (e) {
                    var $3S = {};
                    $3S.exception = e;
                    $3P($3S);
                    return;
                };
                if (DayPilot.isArray($h)) {
                    var $3T = {};
                    $3T.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $3T.data = $h;
                    if (typeof $3N === "function") {
                        $3N($3T);
                    };
                    if ($3T.preventDefault.value) {
                        return;
                    };
                    $c.events.list = $h;
                    if ($c.$4q) {
                        $c.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $c.visibleStart().toString(),
                    "end": $c.visibleEnd().toString()
                },
                "url": $3M,
                "success": $3R,
                "error": $3P
            });
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g.isAction) {
                $c.queue.list.push($g);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($h) {
            var $0d = {};
            $0d.actions = $c.queue.list;
            $c.$4w('Notify', $0d, $h, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$7k = function($n) {
            if (!this.$4q || !this.$5b) {
                return;
            };
            var $n = $n || {};
            var $3U = !$n.eventsOnly;
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if (!this.$4x()) {
                $c.cellProperties = {};
            };
            if ($3U) {
                $c.$4D();
                this.$7l();
                this.$4Q();
                this.$4S();
                $c.$4U();
                $c.$4V();
                $c.$4T();
                $c.$4W();
                $c.$4X();
                $c.$4t();
                $c.$4Y();
                $c.$5P();
                $c.$4Z();
                $c.$50();
                $c.$51();
                $c.$52();
                this.$55();
                this.$56();
                this.$53();
                $c.$57();
            } else {
                $c.$4D();
                $c.$4S();
                $c.$4T();
                $c.$55();
                $c.$56();
                $c.$57();
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$7k();
            if (typeof $c.onAfterRender === 'function') {
                var $n = {};
                $n.isUpdate = true;
                $n.data = null;
                $c.onAfterRender($n);
            }
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
            $c.$4G();
            $c.$51();
            $c.$5T();
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$7j = {};
        this.$7j.scope = null;
        this.$7j.notify = function() {
            if ($c.$7j.scope) {
                $c.$7j.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$7e = function($0v, $09) {
            if (!$09) $09 = this.startDate;
            var $3z = $09.getTime();
            var $3o = $0v.getTime();
            var $1I = this.$4n.pixels[$3o + "_" + $3z];
            if ($1I) {
                return $1I;
            };
            $3z = $09.addHours(this.$5i(true)).getTime();
            var $3V = this.cellDuration * 60 * 1000;
            var $3W = $3o - $3z;
            var $3X = $3W % $3V;
            var $3Y = $3W - $3X;
            var $3Z = $3Y + $3V;
            if ($3X === 0) {
                $3Z = $3Y;
            };
            var $u = {};
            $u.cut = false;
            $u.top = this.$7m($3W);
            $u.boxTop = this.$7m($3Y);
            $u.boxBottom = this.$7m($3Z);
            this.$4n.pixels[$3o + "_" + $3z] = $u;
            return $u;
        };
        this.$7m = function($3o) {
            return Math.floor((this.cellHeight * $3o) / (1000 * 60 * this.cellDuration));
        };
        this.$7l = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            this.$7n = $0e.allDayEventHeight() + 4;
        };
        this.$4T = function() {
            var $1t = this.$5j();
            var $2a = this.$6t();
            if (this.nav.corner) {
                this.nav.corner.style.height = $1t + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.cornerRight.style.height = $1t + "px";
            };
            if (this.nav.mid) {
                this.nav.mid.style.height = $1t + "px";
            };
            if (this.showAllDayEvents && this.nav.header) {
                var $23 = this.nav.header.rows[this.nav.header.rows.length - 1];
                for (var i = 0; i < $23.cells.length; i++) {
                    var $q = $23.cells[i];
                    $q.firstChild.style.height = $0e.allDayHeaderHeight() + "px";
                }
            };
            if (this.nav.upperRight) {
                this.nav.upperRight.style.height = $1t + "px";
            };
            this.nav.scroll.style.top = $1t + "px";
            this.nav.top.style.height = $2a + "px";
        };
        this.$50 = function() {
            var sh = this.$6u();
            if (this.nav.scroll && sh > 0) {
                this.nav.scroll.style.height = sh + "px";
                this.$5W = $c.nav.scroll.clientHeight;
                if (this.nav.bottomLeft) {
                    this.nav.bottomLeft.style.height = sh + "px";
                };
                if (this.nav.bottomRight) {
                    this.nav.bottomRight.style.height = sh + "px";
                }
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$6t() + "px";
            }
        };
        this.setHeight = function($1H) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            if (this.cssOnly) {
                this.height = $1H - (this.$5j());
            } else {
                this.height = $1H - (this.$5j() + 3);
            };
            this.$50();
        };
        this.$7o = function($40) {
            var $d = document.createElement("div");
            $d.style.position = "absolute";
            $d.style.top = "-2000px";
            $d.style.left = "-2000px";
            $d.className = this.$5c($40);
            document.body.appendChild($d);
            var $J = $d.offsetHeight;
            var $11 = $d.offsetWidth;
            document.body.removeChild($d);
            var $u = {};
            $u.height = $J;
            $u.width = $11;
            return $u;
        };
        this.$6l = {};
        var $0e = this.$6l;
        $0e.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $0e.weekStarts = function() {
            if (typeof $c.weekStarts === 'number') {
                return $c.weekStarts;
            } else {
                return $0e.locale().weekStarts;
            }
        };
        $0e.timeFormat = function() {
            if ($c.timeFormat !== 'Auto') {
                return $c.timeFormat;
            };
            return this.locale().timeFormat;
        };
        $0e.useBox = function($41) {
            if ($c.useEventBoxes === 'Always') {
                return true;
            };
            if ($c.useEventBoxes === 'Never') {
                return false;
            };
            return $41 < $c.cellDuration * 60 * 1000;
        };
        $0e.notifyType = function() {
            var $l;
            if ($c.notifyCommit === 'Immediate') {
                $l = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $l = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $l;
        };
        $0e.allDayEventHeight = function() {
            if ($c.$4n.allDayEventHeight) {
                return $c.$4n.allDayEventHeight;
            };
            var $J = $c.$7o("_alldayevent_height").height;
            if (!$J) {
                $J = $c.allDayEventHeight;
            };
            $c.$4n.allDayEventHeight = $J;
            return $J;
        };
        $0e.allDayHeaderHeight = function() {
            if ($c.$4n.allDayHeaderHeight) {
                return $c.$4n.allDayHeaderHeight;
            };
            var $J = $c.$7n;
            $c.$4n.allDayHeaderHeight = $J;
            return $J;
        };
        $0e.headerHeight = function() {
            if ($c.$4n.headerHeight) {
                return $c.$4n.headerHeight;
            };
            var $J = $c.$7o("_header_height").height;
            if (!$J) {
                $J = $c.headerHeight;
            };
            $c.$4n.headerHeight = $J;
            return $J;
        };
        this.$7p = function() {
            if (this.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        this.$7q = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Calendar: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$7r = function() {
            this.$7q();
            this.$7l();
            this.$4Q();
            this.$6v();
            this.$4U();
            this.$4V();
            this.$4Y();
            this.$51();
            this.$6P();
            this.$77();
            this.$4H();
            this.$52();
            DayPilotCalendar.register(this);
            this.$4G();
            this.$53();
            this.$74();
            this.$58();
            this.$4w('Init');
        };
        this.init = function() {
            this.$7q();
            if (this.nav.top.dp) {
                return;
            };
            var $42 = this.$7p();
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if ($42) {
                this.$7r();
                this.$4q = true;
                return;
            };
            this.$7l();
            this.$4Q();
            this.$4R();
            if (!this.events.list) {
                this.events.list = [];
            };
            this.$4S();
            this.$6v();
            this.$4U();
            this.$4V();
            this.$4Y();
            this.$54();
            this.$52();
            this.$51();
            this.$6P();
            this.$77();
            this.$4H();
            DayPilotCalendar.register(this);
            this.$4T();
            this.$55();
            this.$56();
            this.$4G();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$53();
            this.$4O(null, false);
            this.$74();
            this.$58();
            this.$4q = true;
            this.$7s();
        };
        this.$7t = null;
        this.$7u = function($a) {
            var $43 = {
                "events": {
                    "preInit": function() {
                        var $15 = this.data;
                        if (!$15) {
                            return;
                        };
                        if (DayPilot.isArray($15.list)) {
                            $c.events.list = $15.list;
                        } else {
                            $c.events.list = $15;
                        }
                    }
                },
                "scrollToHour": {
                    "postInit": function() {
                        if (typeof this.data !== 'undefined') {
                            $c.scrollToHour(this.data);
                        }
                    }
                }
            };
            this.$7t = $43;
            for (var name in $a) {
                if ($43[name]) {
                    var $1r = $43[name];
                    $1r.data = $a[name];
                    if ($1r.preInit) {
                        $1r.preInit();
                    }
                } else {
                    $c[name] = $a[name];
                }
            }
        };
        this.$7s = function() {
            var $43 = this.$7t;
            for (var name in $43) {
                var $1r = $43[name];
                if ($1r.postInit) {
                    $1r.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$4q;
        };
        this.internal.invokeEvent = this.$5x;
        this.internal.eventMenuClick = this.$5G;
        this.internal.timeRangeMenuClick = this.$5H;
        this.internal.bubbleCallBack = this.$5E;
        this.internal.findEventDiv = this.$7i;
        this.internal.eventDeleteDispatch = this.$5w;
        this.internal.touch = this.$6q;
        this.Init = this.init;
        this.$7u($a);
    };
    var DayPilotCalendar = {};
    DayPilotCalendar.topSelectedCell = null;
    DayPilotCalendar.bottomSelectedCell = null;
    DayPilotCalendar.selecting = false;
    DayPilotCalendar.column = null;
    DayPilotCalendar.firstSelected = null;
    DayPilotCalendar.firstMousePos = null;
    DayPilotCalendar.originalMouse = null;
    DayPilotCalendar.originalHeight = null;
    DayPilotCalendar.originalTop = null;
    DayPilotCalendar.globalHandlers = false;
    DayPilotCalendar.editing = false;
    DayPilotCalendar.originalText = null;
    DayPilotCalendar.register = function($c) {
        if (!DayPilotCalendar.registered) {
            DayPilotCalendar.registered = [];
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            if (r[i] === $c) {
                return;
            }
        };
        r.push($c);
    };
    DayPilotCalendar.unregister = function($c) {
        var a = DayPilotCalendar.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotCalendar.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotCalendar.gMouseUp);
            DayPilot.ue(document, 'touchmove', DayPilotCalendar.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotCalendar.gTouchEnd);
            DayPilotCalendar.globalHandlers = false;
        }
    };
    DayPilotCalendar.getCellsAbove = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $44 = null;
        while (tr && $44 !== DayPilotCalendar.firstSelected) {
            $44 = tr.getElementsByTagName("td")[c];
            $s.push($44);
            tr = tr.previousSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.previousSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getCellsBelow = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $44 = null;
        while (tr && $44 !== DayPilotCalendar.firstSelected) {
            $44 = tr.getElementsByTagName("td")[c];
            $s.push($44);
            tr = tr.nextSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.nextSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getColumn = function($f) {
        var i = 0;
        while ($f.previousSibling) {
            $f = $f.previousSibling;
            if ($f.tagName === "TD") {
                i++;
            }
        };
        return i;
    };
    DayPilotCalendar.getShadowColumn = function($E) {
        if (!$E) {
            return null;
        };
        var $45 = $E.parentNode;
        while ($45 && $45.tagName !== "TD") {
            $45 = $45.parentNode;
        };
        return $45;
    };
    DayPilotCalendar.gTouchMove = function(ev) {
        if (DayPilot.Util.isMouseEvent(ev)) {
            return;
        };
        if (DayPilotCalendar.drag) {
            ev.preventDefault();
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $0L = {};
            $0L.x = x;
            $0L.y = y;
            var $c = (function() {
                var $46 = ev.touches ? ev.touches[0].clientX : ev.clientX;
                var $47 = ev.touches ? ev.touches[0].clientY : ev.clientY;
                var el = document.elementFromPoint($46, $47);
                while (el && el.parentNode) {
                    el = el.parentNode;
                    if (el.daypilotMainD) {
                        return el.calendar;
                    }
                };
                return false;
            })();
            if ($c) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                $c.coords = $c.$6q.relativeCoords(ev);
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$5a(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0K = DayPilot.Date.today();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0K,
                            'end': $0K.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                if (DayPilot.Global.moving) {
                    $c.$6q.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotCalendar.movingShadow);
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                if (!DayPilotCalendar.gShadow) {
                    DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
                };
                var $L = DayPilotCalendar.gShadow;
                $L.style.left = $0L.x + 'px';
                $L.style.top = $0L.y + 'px';
            }
        }
    };
    DayPilotCalendar.gTouchEnd = function(ev) {
        if (DayPilot.Util.isMouseEvent(ev)) {
            return;
        };
        DayPilotCalendar.gMouseUp(ev);
    };
    DayPilotCalendar.gMouseMove = function(ev) {
        if (typeof(DayPilotCalendar) === 'undefined') {
            return;
        };
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $0L = DayPilot.mc(ev);
        if (DayPilotCalendar.drag) {
            document.body.style.cursor = 'move';
            if (!DayPilotCalendar.gShadow) {
                DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
            };
            var $L = DayPilotCalendar.gShadow;
            $L.style.left = $0L.x + 'px';
            $L.style.top = $0L.y + 'px';
            DayPilot.Global.moving = null;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            DayPilotCalendar.movingShadow = null;
        };
        for (var i = 0; i < DayPilotCalendar.registered.length; i++) {
            if (DayPilotCalendar.registered[i].$4J) {
                DayPilotCalendar.registered[i].$4J();
            }
        }
    };
    DayPilotCalendar.gUnload = function(ev) {
        if (!DayPilotCalendar.registered) {
            return;
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            var c = r[i];
            DayPilotCalendar.unregister(c);
        }
    };
    DayPilotCalendar.gMouseUp = function(e) {
        var e = e || window.event;
        if (DayPilot.Global.resizing) {
            if (!DayPilotCalendar.resizingShadow) {
                DayPilot.Global.resizing.style.cursor = 'default';
                DayPilot.Global.resizing.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.resizing = null;
                return;
            };
            var $3h = DayPilot.Global.resizing.event;
            var $0i = DayPilot.Global.resizing.dpBorder;
            var $J = DayPilotCalendar.resizingShadow.clientHeight;
            var top = DayPilotCalendar.resizingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);
            DayPilotCalendar.resizingShadow = null;
            DayPilot.Global.resizing.style.cursor = 'default';
            $3h.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.resizing.onclick = null;
            DayPilot.Global.resizing = null;
            if ($3h.calendar.overlap) {
                return;
            };
            $3h.calendar.$5z($3h, $J, top, $0i);
        } else if (DayPilot.Global.moving) {
            if (!DayPilot.Global.moving.helper) {
                DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                return;
            };
            if (!DayPilotCalendar.movingShadow) {
                DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.moving = null;
                return;
            };
            var $48 = DayPilot.Global.moving.helper.oldColumn;
            var top = DayPilotCalendar.movingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            var $3h = DayPilot.Global.moving.event;
            var $0q = DayPilotCalendar.movingShadow.column;
            var $0r = DayPilotCalendar.drag;
            DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.moving = null;
            DayPilotCalendar.movingShadow = null;
            if ($0r) {
                if (!$3h.calendar.todo) {
                    $3h.calendar.todo = {};
                };
                $3h.calendar.todo.del = $0r.element;
            };
            if ($3h.calendar.overlap) {
                return;
            };
            var ev = e || window.event;
            $3h.calendar.$5B($3h, $0q, top, ev, $0r);
        };
        if (DayPilotCalendar.drag) {
            DayPilotCalendar.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotCalendar.gShadow) {
            document.body.removeChild(DayPilotCalendar.gShadow);
            DayPilotCalendar.gShadow = null;
        };
        DayPilotCalendar.moveOffsetY = null;
    };
    DayPilotCalendar.dragStart = function(element, $K, id, $2h, $l) {
        DayPilot.us(element);
        var $0r = DayPilotCalendar.drag = {};
        $0r.element = element;
        $0r.duration = $K;
        $0r.text = $2h;
        $0r.id = id;
        $0r.shadowType = $l ? $l : 'Fill';
        return false;
    };
    DayPilot.Calendar.makeDraggable = function($a) {
        var element = $a.element;
        var $49 = $a.keepElement ? null : element;
        var $K = $a.duration || 1;
        if (navigator.msPointerEnabled) {
            element.style.msTouchAction = "none";
            element.style.touchAction = "none";
        };
        DayPilot.us(element);
        DayPilot.re(element, "mousedown", function(ev) {
            DayPilotCalendar.dragStart($49, $K, $a.id, $a.text);
            var element = (ev.target || ev.srcElement);
            if (element.tagName) {
                var $4a = element.tagName.toLowerCase();
                if ($4a === "textarea" || $4a === "select" || $4a === "input") {
                    return false;
                }
            };
            ev.preventDefault && ev.preventDefault();
            return false;
        });
        var $4b = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            var $3g = 0;
            window.setTimeout(function() {
                var $0r = DayPilotCalendar.drag = {};
                $0r.element = $49;
                $0r.id = $a.id;
                $0r.text = $a.text || "";
                $0r.duration = $K;
                $0r.shadowType = "Fill";
                DayPilotCalendar.gTouchMove(ev);
                ev.preventDefault();
            }, $3g);
            ev.preventDefault();
        };
        DayPilot.re(element, DayPilot.touch.start, $4b);
    };
    DayPilotCalendar.deleteShadow = function($L) {
        if (!$L) {
            return;
        };
        if (!$L.parentNode) {
            return;
        };
        $L.parentNode.removeChild($L);
    };
    DayPilotCalendar.createGShadow = function($l) {
        var $L = document.createElement('div');
        $L.setAttribute('unselectable', 'on');
        $L.style.position = 'absolute';
        $L.style.width = '100px';
        $L.style.height = '20px';
        $L.style.border = '2px dotted #666666';
        $L.style.zIndex = 101;
        $L.style.pointerEvents = "none";
        if ($l === 'Fill') {
            $L.style.backgroundColor = "#aaaaaa";
            $L.style.opacity = 0.5;
            $L.style.filter = "alpha(opacity=50)";
            $L.style.border = '2px solid #aaaaaa';
        };
        document.body.appendChild($L);
        return $L;
    };
    DayPilotCalendar.moveShadow = function($q) {
        var $L = DayPilotCalendar.movingShadow;
        if ($L.parentNode) {
            $L.parentNode.removeChild($L);
        };
        $q.firstChild.appendChild($L);
        $L.style.left = '0px';
        $L.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth) + 'px';
    };
    DayPilotCalendar.Column = function($4c, name, $0v) {
        this.value = $4c;
        this.id = $4c;
        this.name = name;
        this.date = new DayPilot.Date($0v);
    };
    DayPilot.CalendarVisible.dragStart = DayPilotCalendar.dragStart;
    DayPilot.CalendarVisible.Calendar = DayPilotCalendar.Calendar;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotCalendar = function($a) {
                var $0J = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $4d = new DayPilot.Calendar(this.id, $a);
                    $4d.init();
                    this.daypilot = $4d;
                    if (!$0J) {
                        $0J = $4d;
                    }
                });
                if (this.length === 1) {
                    return $0J;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $4e = DayPilot.am();
        if (!$4e) {
            return;
        };
        $4e.directive("daypilotCalendar", ['$parse', function($4f) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $4g) {
                    element.replaceWith(this["template"].replace("{{id}};", $4g["id"]));
                    return function link($4h, element, $4g) {
                        var $c = new DayPilot.Calendar(element[0]);
                        $c.$7j.scope = $4h;
                        $c.init();
                        var $4i = $4g["id"];
                        if ($4i) {
                            $4h[$4i] = $c;
                        };
                        var $4j = $4g["publishAs"];
                        if ($4j) {
                            var getter = $4f($4j);
                            var setter = getter.assign;
                            setter($4h, $c);
                        };
                        for (var name in $4g) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $c[name] = function($n) {
                                        var f = $4f($4g[name]);
                                        $4h["$apply"](function() {
                                            f($4h, {
                                                "args": $n
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $4k = $4h["$watch"];
                        var $2V = $4g["config"] || $4g["daypilotConfig"];
                        var $15 = $4g["events"] || $4g["daypilotEvents"];
                        $4k.call($4h, $2V, function($4c, $4l) {
                            for (var name in $4c) {
                                $c[name] = $4c[name];
                            };
                            $c.update();
                        }, true);
                        $4k.call($4h, $15, function($4c) {
                            $c.events.list = $4c;
                            $c.$7k({
                                "eventsOnly": true
                            });
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.DatePicker !== 'undefined') {
        return;
    };
    DayPilot.DatePicker = function($a) {
        this.v = '2130';
        var $b = "navigator_" + new Date().getTime();
        var $c = this;
        this.onShow = null;
        this.prepare = function() {
            this.locale = "en-us";
            this.target = null;
            this.resetTarget = true;
            this.pattern = this.$m.locale().datePattern;
            this.theme = null;
            this.patterns = [];
            if ($a) {
                for (var name in $a) {
                    this[name] = $a[name];
                }
            };
            this.init();
        };
        this.init = function() {
            this.date = new DayPilot.Date(this.date);
            var $d = this.$n();
            if (this.resetTarget && !$d) {
                this.$o(this.date);
            };
            DayPilot.re(document, "mousedown", function() {
                $c.close();
            });
        };
        this.close = function() {
            if (!this.$p) {
                return;
            };
            if (this.navigator) {
                this.navigator.dispose();
            };
            this.div.innerHTML = '';
            if (this.div && this.div.parentNode === document.body) {
                document.body.removeChild(this.div);
            }
        };
        this.$n = function() {
            var element = this.$q();
            if (!element) {
                return this.date;
            };
            var $d = null;
            if (element.tagName === "INPUT") {
                $d = element.value;
            } else {
                $d = element.innerText;
            };
            if (!$d) {
                return null;
            };
            var $e = DayPilot.Date.parse($d, $c.pattern);
            for (var i = 0; i < $c.patterns.length; i++) {
                if ($e) {
                    return $e;
                };
                $e = DayPilot.Date.parse($d, $c.patterns[i]);
            };
            return $e;
        };
        this.$o = function($e) {
            var element = this.$q();
            if (!element) {
                return;
            };
            var $d = $e.toString($c.pattern, $c.locale);
            if (element.tagName === "INPUT") {
                element.value = $d;
            } else {
                element.innerHTML = $d;
            }
        };
        this.$m = {};
        this.$m.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        this.$q = function() {
            var id = this.target;
            var element = (id && id.nodeType && id.nodeType === 1) ? id : document.getElementById(id);
            return element;
        };
        this.show = function() {
            var element = this.$q();
            var navigator = this.navigator;
            var navigator = new DayPilot.Navigator($b);
            navigator.api = 2;
            navigator.cssOnly = true;
            navigator.theme = $c.theme;
            navigator.weekStarts = "Auto";
            navigator.locale = $c.locale;
            navigator.onTimeRangeSelected = function($f) {
                $c.date = $f.start;
                var $g = $f.start.addTime(navigator.$r);
                var $d = $g.toString($c.pattern, $c.locale);
                var $f = {};
                $f.start = $g;
                $f.date = $g;
                $f.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($f);
                    if ($f.preventDefault.value) {
                        return;
                    }
                };
                $c.$o($d);
                $c.close();
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($f);
                }
            };
            this.navigator = navigator;
            var $h = DayPilot.abs(element);
            var $i = element.offsetHeight;
            var $j = document.createElement("div");
            $j.style.position = "absolute";
            $j.style.left = $h.x + "px";
            $j.style.top = ($h.y + $i) + "px";
            var $k = document.createElement("div");
            $k.id = $b;
            $j.appendChild($k);
            DayPilot.re($j, "mousedown", function(ev) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
                ev.stopPropagation && ev.stopPropagation();
            });
            document.body.appendChild($j);
            this.div = $j;
            var $l = $c.$n() || new DayPilot.Date().getDatePart();
            navigator.startDate = $l;
            navigator.$r = $l.getTimePart();
            navigator.selectionStart = $l.getDatePart();
            navigator.init();
            this.$p = true;
            if (this.onShow) {
                this.onShow();
            }
        };
        this.prepare();
    };
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Gantt !== 'undefined') {
        return;
    };
    var $a = function() {};
    DayPilot.Gantt = function(id, $b) {
        this.v = '2130';
        var $c = this;
        this.id = id;
        this.isGantt = true;
        var $d = new DayPilot.Scheduler(id);
        this.scheduler = $d;
        $d.viewType = "Resources";
        $d.onCallBackHeader = function($e) {
            $e.header.taskGroupMode = $c.taskGroupMode;
            $e.header.rowHeaderColumns = $c.columns;
            $e.header.clientState = $c.clientState;
        };
        $d.onGetNodeState = function($e) {
            var $f = function($g) {
                var $h = {};
                if ($g.tags) {
                    for (var name in $g.tags) {
                        $h[name] = "" + $g.tags[name];
                    }
                };
                return $h;
            };
            var $i = function($j) {
                var $g = $j.task;
                var $h = {};
                $h.start = $g.start;
                $h.end = $g.end;
                $h.id = $g.id;
                $h.complete = $g.complete;
                $h.text = $g.text;
                $h.type = $g.type;
                $h.expanded = $j.expanded;
                $h.loaded = $j.loaded;
                $h.tags = $f($g);
                $h.versions = $g.versions;
                $h.children = $d.internal.getNodeChildren($j.children);
                return $h;
            };
            $e.result = $i($e.row);
            $e.preventDefault();
        };
        $d.$0r = function($k) {};
        $d.onCallBackResult = function($e) {
            var $h = $e.result;
            $e.preventDefault();
            var $l = function() {
                if ($h.scrollToTaskId) {
                    $d.scrollToResource($h.scrollToTaskId);
                }
            };
            if ($h.updateType === "None") {
                $l();
                return;
            };
            var $m = function($n) {
                for (var i = 0; i < $n.length; i++) {
                    var name = $n[i];
                    if (typeof $h[name] !== "undefined") {
                        $c[name] = $h[name];
                    }
                }
            };
            $c.links.list = $h.links;
            $c.tasks.list = $h.tasks;
            $c.startDate = new DayPilot.Date($h.startDate);
            $m(['days', 'cellDuration', 'cellGroupBy', 'cellWidth', 'cellWidthSpec', 'cornerHtml', 'separators', 'rowMinHeight', 'rowMarginBottom', 'taskGroupMode', 'selectedRows']);
            $m(['cellProperties', 'cellConfig', 'timeHeader', 'timeHeaders', 'timeline', 'columns']);
            $o.translate();
            $o.$0s();
            $o.$0t();
            $d.update();
            $d.show();
            $l();
        };
        this.taskGroupMode = "Auto";
        this.autoRefreshCommand = "refresh";
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.bubbleTask = null;
        this.bubbleCell = null;
        this.bubbleRow = null;
        this.cellDuration = 1440;
        this.cellGroupBy = "Month";
        this.cellWidth = 40;
        this.cellWidthSpec = "Fixed";
        this.completeBarVisible = true;
        this.completeBarHeight = 3;
        this.contextMenuTask = null;
        this.contextMenuRow = null;
        this.contextMenuLink = null;
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.doubleClickTimeout = 300;
        this.progressiveTaskRendering = 'Progressive';
        this.progressiveTaskRenderingMargin = 500;
        this.progressiveTaskRenderingCacheSweeping = false;
        this.progressiveTaskRenderingCacheSize = 200;
        this.floatingTasks = true;
        this.floatingTimeHeaders = true;
        this.headerHeight = 20;
        this.height = 300;
        this.heightSpec = "Max";
        this.hideUntilInit = false;
        this.linkBottomMargin = 10;
        this.linkPointSize = 10;
        this.loadingLabelVisible = true;
        this.loadingLabelText = "Loading...";
        this.locale = "en-us";
        this.messageBarPosition = "Top";
        this.messageHideAfter = 5000;
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderHideIconEnabled = true;
        this.rowHeaderWidth = 80;
        this.rowHeaderWidthAutoFit = true;
        this.rowMarginBottom = 4;
        this.rowMinHeight = 0;
        this.scrollDelayTasks = 200;
        this.scrollDelayCells = 20;
        this.scrollDelayFloats = 0;
        this.scale = "Day";
        this.selectedRows = [];
        this.snapToGrid = true;
        this.syncTasks = true;
        this.syncLinks = true;
        this.tapAndHoldTimeout = 300;
        this.taskHeight = 24;
        this.taskResizeMargin = 5;
        this.taskMovingStartEndEnabled = false;
        this.taskMovingStartEndFormat = "MMMM d, yyyy";
        this.taskResizingStartEndEnabled = false;
        this.taskResizingStartEndFormat = "MMMM d, yyyy";
        this.theme = "gantt_default";
        this.treeAutoExpand = true;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeline = null;
        this.timeHeaders = [{
            "groupBy": "Month",
            "format": "MMMM yyyy"
        }, {
            "groupBy": "Day",
            "format": "d"
        }];
        this.useEventBoxes = "Never";
        this.visible = true;
        this.taskVersionsEnabled = false;
        this.taskVersionHeight = 24;
        this.taskVersionMargin = 2;
        this.taskMoveHandling = "Update";
        this.taskClickHandling = "Enabled";
        this.taskResizeHandling = "Update";
        this.linkCreateHandling = "Update";
        this.taskRightClickHandling = "ContextMenu";
        this.taskDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowMoveHandling = "Update";
        this.rowClickHandling = "Disabled";
        this.rowDoubleClickHandling = "Disabled";
        this.rowEditHandling = "Update";
        this.rowSelectHandling = "Update";
        this.clientState = {};
        this.separators = [];
        this.members = {};
        this.members.obsolete = [];
        this.members.ignore = ["members", "scheduler", "internal", "cellProperties"];
        this.members.noCssOnly = [];
        this.links = {};
        this.links.list = [];
        this.links.add = function(link) {
            if (!link) {
                return;
            };
            var $p = link.isLink ? link.data : link;
            $c.links.list.push($p);
            if ($c.$0u) {
                $o.$0t();
                $d.update();
            };
            $c.$0v.notify();
        };
        this.links.remove = function(link) {
            if (!link) {
                return;
            };
            var $p;
            if (link.isLink) {
                $p = link.data;
            } else {
                $p = link;
            };
            var $q = DayPilot.indexOf($c.links.list, $p);
            if ($q === -1) {
                return;
            };
            $c.links.list.splice($q, 1);
            if ($c.$0u) {
                $o.$0t();
                $d.update();
            };
            $c.$0v.notify();
        };
        this.links.find = function(id) {
            if (!DayPilot.isArray($c.links.list)) {
                return null;
            };
            for (var i = 0; i < $c.links.list.length; i++) {
                var link = $c.links.list[i];
                if (link.id === id) {
                    return new DayPilot.Link(link, $c);
                }
            };
            return null;
        };
        this.links.findFromTo = function($r, to) {
            if (!DayPilot.isArray($c.links.list)) {
                return null;
            };
            for (var i = 0; i < $c.links.list.length; i++) {
                var link = $c.links.list[i];
                if (link.from === $r && link.to === to) {
                    return new DayPilot.Link(link, $c);
                }
            };
            return null;
        };
        this.$0w = {};
        var $s = this.$0w;
        $s.timeout = null;
        $s.update = function() {
            if (!$c.$0u) {
                return;
            };
            window.clearTimeout($s.timeout);
            $s.timeout = setTimeout(function() {
                $o.$0s();
                $d.update();
            }, 0);
        };
        this.tasks = {};
        this.tasks.list = [];
        this.tasks.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g instanceof DayPilot.Event) {
                throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
            };
            var $p = $g.isTask ? $g.data : $g;
            $c.tasks.list.push($p);
            $s.update();
            $c.$0v.notify();
        };
        this.tasks.find = function(id) {
            var $p = $t.findInCache(id);
            if (!$p) {
                return null;
            };
            return new DayPilot.Task($p, $c);
        };
        this.tasks.update = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            $g.commit();
            $s.update();
            $c.$0v.notify();
        };
        this.tasks.remove = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            var $u = $t.findParentArray($g.data);
            if (!$u) {
                return;
            };
            var $v = DayPilot.indexOf($u, $g.data);
            $u.splice($v, 1);
            $s.update();
            $c.$0v.notify();
        };
        this.visibleStart = function() {
            return $d.visibleStart();
        };
        this.visibleEnd = function() {
            return $d.visibleEnd();
        };
        this.onAfterRender = null;
        this.onAfterUpdate = null;
        this.onBeforeRowHeaderRender = null;
        this.onBeforeTaskRender = null;
        this.onBeforeTimeHeaderRender = null;
        this.onBeforeCellRender = null;
        this.onTaskClick = null;
        this.onTaskClicked = null;
        this.onTaskDoubleClick = null;
        this.onTaskDoubleClicked = null;
        this.onTaskRightClick = null;
        this.onTaskRightClicked = null;
        this.onRowCreate = null;
        this.onRowCreated = null;
        this.onRowMove = null;
        this.onRowMoved = null;
        this.onRowMoving = null;
        this.onRowClick = null;
        this.onRowClicked = null;
        this.onRowDoubleClick = null;
        this.onRowDoubleClicked = null;
        this.onRowEdit = null;
        this.onRowEdited = null;
        this.onRowSelect = null;
        this.onRowSelected = null;
        this.onTaskMove = null;
        this.onTaskMoved = null;
        this.onTaskMoving = null;
        this.onTaskResize = null;
        this.onTaskResized = null;
        this.onTaskResizing = null;
        this.onLinkCreate = null;
        this.onLinkCreated = null;
        this.$0x = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$0y = function() {
            if (typeof $c.startDate === "string") {
                $c.startDate = new DayPilot.Date($c.startDate);
            };
            if ($c.startDate && $c.days) {
                return;
            };
            var $w = DayPilot.Date.today();
            var end = $w.addDays(1);
            var $x = null;
            var $y = null;
            for (var i = 0; i < $c.tasks.list.length; i++) {
                var e = $c.tasks.list[i];
                $w = new DayPilot.Date(e.start);
                end = new DayPilot.Date(e.end);
                if ($x === null || $w.getTime() < $x) {
                    $x = $w.getTime();
                };
                if ($y === null || end.getTime() > $y) {
                    $y = end.getTime();
                }
            };
            if ($x && $y) {
                $w = new DayPilot.Date($x).getDatePart();
                end = new DayPilot.Date($y).getDatePart().addDays(1);
                $d.startDate = $c.startDate || $w;
                $d.days = $c.days || DayPilot.DateUtil.daysDiff($w, end);
            } else {
                $d.startDate = $w;
                $d.days = 1;
            }
        };
        this.commandCallBack = function($z, $p) {
            $o.translate();
            $d.commandCallBack($z, $p);
        };
        this.message = function($A, $B, $C, $D) {
            $d.message($A, $B, $C, $D);
        };
        this.setHeight = function($E) {
            $d.setHeight($E);
        };
        this.$0z = function() {
            if (this.backendUrl) {
                return !DayPilot.isArray($c.tasks.list) || $c.tasks.list.length == 0;
            } else {
                return false;
            }
        };
        this.init = function() {
            $o.translate();
            $o.$0s();
            $o.$0t();
            this.$0y();
            $d.init();
            this.$0u = true;
            this.$0A();
            if (this.$0z()) {
                $d.internal.callback('Init');
            }
        };
        this.update = function() {
            $o.translate();
            $o.$0s();
            $o.$0t();
            $c.$0y();
            $d.update();
        };
        this.scrollTo = function($F) {
            $d.scrollTo($F);
        };
        this.scrollToTask = function(id) {
            $d.scrollToResource(id);
        };
        this.$0B = {};
        var $t = this.$0B;
        $t.cache = {};
        $t.clearCache = function() {
            $t.cache = {};
        };
        $t.addToCache = function($p, parent) {
            var $G = $p.id;
            if (!$G) {
                return;
            };
            var $H = {};
            $H.isTaskWrapper = true;
            $H.data = $p;
            $H.parent = parent;
            if ($t.cache[$G]) {
                throw "Duplicate task id detected";
            };
            $t.cache[$G] = $H;
        };
        $t.findInCache = function(id) {
            if (!id) {
                return null;
            };
            return $t.cache[id.toString()];
        };
        $t.getProperty = function($g, name) {
            if ($g.tags && $g.tags[name]) {
                return $g.tags[name];
            };
            return $g[name];
        };
        $t.findParentArray = function($I) {
            return $t.findInArray($c.tasks.list, $I);
        };
        $t.findInArray = function($J, $I) {
            if (DayPilot.indexOf($J, $I) !== -1) {
                return $J;
            };
            for (var i = 0; i < $J.length; i++) {
                var r = $J[i];
                if (r.children && r.children.length > 0) {
                    var parent = $t.findInArray(r.children, $I);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$0C = {};
        var $o = this.$0C;
        var $K = function(p, $L) {
            if (typeof p !== "undefined") {
                return p;
            };
            return $L;
        };
        $o.translate = function() {
            $d.durationBarMode = "PercentComplete";
            $d.timeRangeSelectedHandling = "Disabled";
            $d.treeEnabled = true;
            $d.autoRefreshCommand = $c.autoRefreshCommand;
            $d.autoRefreshEnabled = $c.autoRefreshEnabled;
            $d.autoRefreshInterval = $c.autoRefreshInterval;
            $d.autoRefreshMaxCount = $c.autoRefreshMaxCount;
            $d.autoScroll = $c.autoScroll;
            $d.backendUrl = $c.backendUrl;
            $d.crosshairColor = $c.crosshairColor;
            $d.crosshairOpacity = $c.crosshairOpacity;
            $d.crosshairType = $c.crosshairType;
            $d.doubleClickTimeout = $c.doubleClickTimeout;
            $d.durationBarVisible = $c.completeBarVisible;
            $d.durationBarHeight = $c.completeBarHeight;
            $d.dynamicEventRendering = $c.progressiveTaskRendering ? "Progressive" : "Disabled";
            $d.dynamicEventRenderingMargin = $c.progressiveTaskRenderingMargin;
            $d.dynamicEventRenderingCacheSweeping = $c.progressiveTaskRenderingCacheSweeping;
            $d.dynamicEventRenderingCacheSize = $c.progressiveTaskRenderingCacheSize;
            $d.startDate = new DayPilot.Date($c.startDate);
            $d.days = $c.days;
            $d.cellDuration = $c.cellDuration;
            $d.cellGroupBy = $c.cellGroupBy;
            $d.cellWidth = $c.cellWidth;
            $d.cellWidthSpec = $c.cellWidthSpec;
            $d.cornerHtml = $c.cornerHtml;
            $d.eventHeight = $c.taskHeight;
            $d.eventResizeMargin = $c.taskResizeMargin;
            $d.floatingEvents = $c.floatingTasks;
            $d.floatingTimeHeaders = $c.floatingTimeHeaders;
            $d.headerHeight = $c.headerHeight;
            $d.heightSpec = $c.heightSpec;
            $d.height = $c.height;
            $d.linkBottomMargin = $c.linkBottomMargin;
            $d.linkPointSize = $c.linkPointSize;
            $d.loadingLabelVisible = $c.loadingLabelVisible;
            $d.loadingLabelText = $c.loadingLabelText;
            $d.locale = $c.locale;
            $d.messageBarPosition = $c.messageBarPosition;
            $d.messageHideAfter = $c.messageHideAfter;
            $d.rowCreateHandling = $c.rowCreateHandling;
            $d.numberFormat = $c.numberFormat;
            $d.progressiveRowRendering = $c.progressiveRowRendering;
            $d.progressiveRowRenderingPreload = $c.progressiveRowRenderingPreload;
            $d.scale = $c.scale;
            $d.scrollDelayEvents = $c.scrollDelayTasks;
            $d.scrollDelayCells = $c.scrollDelayCells;
            $d.scrollDelayFloats = $c.scrollDelayFloats;
            $d.scrollX = $c.scrollX;
            $d.scrollY = $c.scrollY;
            if ($c.scrollToTaskId) {
                $d.scrollToResourceId = $c.scrollToTaskId;
            };
            $d.separators = $c.separators;
            $d.tapAndHoldTimeout = $c.tapAndHoldTimeout;
            $d.eventMovingStartEndEnabled = $c.taskMovingStartEndEnabled;
            $d.eventMovingStartEndFormat = $c.taskMovingStartEndFormat;
            $d.eventResizingStartEndEnabled = $c.taskResizingStartEndEnabled;
            $d.eventResizingStartEndFormat = $c.taskResizingStartEndFormat;
            $d.hideUntilInit = $c.hideUntilInit;
            $d.treeIndent = $c.treeIndent;
            $d.treeAutoExpand = $c.treeAutoExpand;
            $d.treeImageMarginLeft = $c.treeImageMarginLeft;
            $d.treeImageMarginTop = $c.treeImageMarginTop;
            $d.timeHeaders = $c.timeHeaders;
            $d.rowHeaderHideIconEnabled = $c.rowHeaderHideIconEnabled;
            $d.rowHeaderScrolling = $c.rowHeaderScrolling;
            $d.rowHeaderSplitterWidth = $c.rowHeaderSplitterWidth;
            $d.rowHeaderWidth = $c.rowHeaderWidth;
            $d.rowHeaderWidthAutoFit = $c.rowHeaderWidthAutoFit;
            $d.rowMarginBottom = $c.rowMarginBottom;
            $d.rowMinHeight = $c.rowMinHeight;
            $d.selectedRows = $c.selectedRows;
            $d.theme = $c.theme;
            $d.useEventBoxes = $c.useEventBoxes;
            $d.snapToGrid = $c.snapToGrid;
            $d.uniqueID = $c.uniqueID;
            $d.bubble = $c.bubbleTask;
            $d.cellBubble = $c.bubbleCell;
            $d.resourceBubble = $c.bubbleRow;
            $d.contextMenu = $c.contextMenuTask;
            $d.contextMenuResource = $c.contextMenuRow;
            $d.contextMenuLink = $c.contextMenuLink;
            $d.syncResourceTree = $c.syncTasks;
            $d.syncLinks = $c.syncLinks;
            $d.timeline = $c.timeline;
            $d.visible = $c.visible;
            $d.eventMoveHandling = $c.taskMoveHandling;
            $d.eventClickHandling = $c.taskClickHandling;
            $d.eventResizeHandling = $c.taskResizeHandling;
            $d.linkCreateHandling = $c.linkCreateHandling;
            $d.eventRightClickHandling = $c.taskRightClickHandling;
            $d.eventDoubleClickHandling = $c.taskDoubleClickHandling;
            $d.rowMoveHandling = $c.rowMoveHandling;
            $d.rowClickHandling = $c.rowClickHandling;
            $d.rowDoubleClickHandling = $c.rowDoubleClickHandling;
            $d.rowEditHandling = $c.rowEditHandling;
            $d.rowSelectHandling = $c.rowSelectHandling;
            $d.eventVersionsEnabled = $c.taskVersionsEnabled;
            $d.eventVersionHeight = $c.taskVersionHeight;
            $d.eventVersionMargin = $c.taskVersionMargin;
            if (DayPilot.isArray($c.columns)) {
                $d.rowHeaderColumns = [];
                for (var i = 0; i < $c.columns.length; i++) {
                    var c = $c.columns[i];
                    var $M = {};
                    DayPilot.Util.copyProps(c, $M, ['title', 'width']);
                    $d.rowHeaderColumns.push($M);
                }
            };
            if ($c.$0x()) {
                $d.timeHeader = $c.timeHeader;
                $d.cellProperties = $c.cellProperties;
                $d.cellConfig = $c.cellConfig;
            };
            $d.onRowCreate = function($e) {
                if (typeof $c.onRowCreate === "function") {
                    $c.onRowCreate($e);
                }
            };
            $d.onRowCreated = function($e) {
                if (typeof $c.onRowCreated === "function") {
                    $c.onRowCreated($e);
                }
            };
            $d.onAfterRender = function($e) {
                if (typeof $c.onAfterRender === "function") {
                    $c.onAfterRender($e);
                }
            };
            $d.onAfterUpdate = function($e) {
                if (typeof $c.onAfterUpdate === "function") {
                    $c.onAfterUpdate($e);
                }
            };
            $d.onRowHeaderResized = function($e) {
                $c.rowHeaderWidth = $d.rowHeaderWidth;
            };
            $d.onAjaxError = function($e) {
                if (typeof $c.onAjaxError === "function") {
                    $c.onAjaxError($e);
                }
            };
            $d.onRowHeaderColumnResized = function($e) {
                var $N = $e.column;
                var $q = DayPilot.indexOf($d.rowHeaderColumns, $N);
                for (var i = 0; i < $c.columns.length; i++) {
                    var $M = $d.rowHeaderColumns[i];
                    var c = $c.columns[i];
                    c.width = $M.width;
                };
                if (typeof $c.onColumnResized === "function") {
                    var $O = {};
                    $O.column = $c.columns[$q];
                    $c.onColumnResized($O);
                }
            };
            $d.onBeforeRowHeaderRender = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                var $P = [];
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $N = $c.columns[i];
                        var $Q = $N.property;
                        var $R = {};
                        $R.value = $t.getProperty($e.task.data, $Q);
                        if ($e.task.data.row && $e.task.data.row.columns && $e.task.data.row.columns[i]) {
                            $R.html = $e.task.data.row.columns[i].html;
                        } else {
                            $R.html = $R.value;
                        };
                        $P.push($R);
                    }
                };
                $e.row.columns = $P;
                if (typeof $c.onBeforeRowHeaderRender === "function") {
                    $c.onBeforeRowHeaderRender($e);
                };
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $A = $P[i].html;
                        if (i === 0) {
                            $e.row.html = $A;
                        } else {
                            $e.row.columns[i - 1].html = $A;
                        }
                    }
                }
            };
            $d.onBeforeCellRender = function($e) {
                $e.task = $c.tasks.find($e.cell.resource);
                delete $e.cell.resource;
                if (typeof $c.onBeforeCellRender === "function") {
                    $c.onBeforeCellRender($e);
                }
            };
            $d.onBeforeTimeHeaderRender = function($e) {
                if (typeof $c.onBeforeTimeHeaderRender === "function") {
                    $c.onBeforeTimeHeaderRender($e);
                }
            };
            $d.onEventClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskClick === "function") {
                    $c.onTaskClick($e);
                }
            };
            $d.onEventClicked = function($e) {
                if (typeof $c.onTaskClicked === "function") {
                    $c.onTaskClicked($e);
                }
            };
            $d.onEventDelete = function($e) {
                if (typeof $c.onTaskDelete === "function") {
                    $c.onTaskDelete($e);
                }
            };
            $d.onEventDeleted = function($e) {
                if (typeof $c.onTaskDeleted === "function") {
                    $c.onTaskDeleted($e);
                }
            };
            $d.onEventDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskDoubleClick === "function") {
                    $c.onTaskDoubleClick($e);
                }
            };
            $d.onEventDoubleClicked = function($e) {
                if (typeof $c.onTaskDoubleClicked === "function") {
                    $c.onTaskDoubleClicked($e);
                }
            };
            $d.onEventRightClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskRightClick === "function") {
                    $c.onTaskRightClick($e);
                }
            };
            $d.onEventRightClicked = function($e) {
                if (typeof $c.onTaskRightClicked === "function") {
                    $c.onTaskRightClicked($e);
                }
            };
            $d.onRowMoving = function($e) {
                $e.$0D = $e.source;
                $e.$0E = $e.target;
                $e.source = new DayPilot.Task($e.$0D.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0E.$.row.task, $c);
                if (typeof $c.onRowMoving === "function") {
                    $c.onRowMoving($e);
                }
            };
            $d.onRowMove = function($e) {
                $e.$0D = $e.source;
                $e.$0E = $e.target;
                $e.source = new DayPilot.Task($e.$0D.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0E.$.row.task, $c);
                if (typeof $c.onRowMove === "function") {
                    $c.onRowMove($e);
                };
                $e.source = $e.$0D;
                $e.target = $e.$0E;
            };
            $d.onRowMoved = function($e) {
                var $S = $c.rowMoveHandling === "Update" || $c.rowMoveHandling === "Notify";
                if ($S) {
                    var $T = $e.$0D.$.row.task;
                    var $F = $e.$0E.$.row.task;
                    var $U = $e.position;
                    if ($U === "forbidden") {
                        return;
                    };
                    var $V = $t.findParentArray($T);
                    if (!$V) {
                        throw "Cannot find source node parent";
                    };
                    var $v = DayPilot.indexOf($V, $T);
                    $V.splice($v, 1);
                    var $W = $t.findParentArray($F);
                    if (!$W) {
                        throw "Cannot find target node parent";
                    };
                    var $X = DayPilot.indexOf($W, $F);
                    switch ($U) {
                        case "before":
                            $W.splice($X, 0, $T);
                            break;
                        case "after":
                            $W.splice($X + 1, 0, $T);
                            break;
                        case "child":
                            if (!$F.children) {
                                $F.children = [];
                                $F.expanded = true;
                            };
                            $F.children.push($T);
                            break;
                    };
                    $c.$0v.notify();
                    $c.update();
                };
                $e.source = new DayPilot.Task($e.$0D.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0E.$.row.task, $c);
                if (typeof $c.onRowMoved === "function") {
                    $c.onRowMoved($e);
                }
            };
            $d.onRowClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowClick === "function") {
                    $c.onRowClick($e);
                }
            };
            $d.onRowClicked = function($e) {
                if (typeof $c.onRowClicked === "function") {
                    $c.onRowClicked($e);
                }
            };
            $d.onRowDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowDoubleClick === "function") {
                    $c.onRowDoubleClick($e);
                }
            };
            $d.onRowDoubleClicked = function($e) {
                if (typeof $c.onRowDoubleClicked === "function") {
                    $c.onRowDoubleClicked($e);
                }
            };
            $d.onRowEdit = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowEdit === "function") {
                    $c.onRowEdit($e);
                }
            };
            $d.onRowEdited = function($e) {
                if (typeof $c.onRowEdited === "function") {
                    $c.onRowEdited($e);
                }
            };
            $d.onRowSelect = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                if (typeof $c.onRowSelect === "function") {
                    $c.onRowSelect($e);
                }
            };
            $d.onRowSelected = function($e) {
                if (typeof $c.onRowSelected === "function") {
                    $c.onRowSelected($e);
                }
            };
            $d.onEventMove = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskMove === "function") {
                    $c.onTaskMove($e);
                }
            };
            $d.onEventMoved = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $Y = $o.childrenStartEnd(e.data.parent);
                        parent.start($Y.start);
                        parent.end($Y.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0v.notify();
                if (typeof $c.onTaskMoved === "function") {
                    $c.onTaskMoved($e);
                }
            };
            $d.onEventMoving = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                delete $e.position;
                delete $e.overlapping;
                delete $e.resource;
                if (typeof $c.onTaskMoving === "function") {
                    $c.onTaskMoving($e);
                }
            };
            $d.onEventResize = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskResize === "function") {
                    $c.onTaskResize($e);
                }
            };
            $d.onEventResized = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $Y = $o.childrenStartEnd(e.data.parent);
                        parent.start($Y.start);
                        parent.end($Y.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0v.notify();
                if (typeof $c.onTaskResized === "function") {
                    $c.onTaskResized($e);
                }
            };
            $d.onEventResizing = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                if (typeof $c.onTaskResizing === "function") {
                    $c.onTaskResizing($e);
                }
            };
            $d.onLinkCreate = function($e) {
                $e.source = $c.tasks.find($e.from);
                $e.target = $c.tasks.find($e.to);
                if (typeof $c.onLinkCreate === "function") {
                    $c.onLinkCreate($e);
                }
            };
            $d.onLinkCreated = function($e) {
                if (typeof $c.onLinkCreated === "function") {
                    $c.onLinkCreated($e);
                }
            };
            $d.onResourceExpand = function($e) {
                var $g = $e.resource.$.row.task;
                if (!$g.row) {
                    $g.row = {};
                };
                $g.row.collapsed = false;
            };
            $d.onResourceCollapse = function($e) {
                var $g = $e.resource.$.row.task;
                if (!$g.row) {
                    $g.row = {};
                };
                $g.row.collapsed = true;
            };
        };
        $o.$0F = function($p) {
            for (var i = 0; i < $d.rowlist.length; i++) {
                var $j = $d.rowlist[i];
                if ($j.task === $p) {
                    return $d.internal.createRowObject($j);
                }
            };
            return null;
        };
        $o.$0t = function() {
            $d.links.list = $c.links.list ? $c.links.list : [];
        };
        $o.$0s = function() {
            $d.resources = [];
            $d.events.list = [];
            $t.clearCache();
            $o.$0G($c.tasks.list, $d.resources, null);
            if ($Z.sheet) {
                $Z.sheet.commit();
                $Z.sheet = null;
            }
        };
        $o.$0H = function($g) {
            var $00 = $g.type || "Task";
            if ($g.children && $g.children.length) {
                $00 = "Group";
            };
            var $p = {};
            for (var name in $g) {
                if (name === "children") {
                    continue;
                };
                $p[name] = $g[name];
            };
            var $e = {};
            $e.data = $p;
            $e.type = $00;
            if (!$p.box) {
                $p.box = {};
            };
            if (typeof $p.box.html === "undefined") {
                if ($e.type === "Task") {
                    var $01 = $p.complete || 0;
                    $p.box.html = $01 + "%";
                } else {
                    $p.box.html = "";
                }
            };
            if (typeof $p.box.htmlRight === "undefined") {
                $p.box.htmlRight = $p.text;
            };
            if (typeof $c.onBeforeTaskRender === "function") {
                $c.onBeforeTaskRender($e);
            };
            $e.type = $00;
            return $e;
        };
        var $Z = {};
        $Z.keys = {};
        $Z.sheet = null;
        $o.$0I = function($e) {
            if (!$e.data.box) {
                return;
            };
            if ($e.data.box.cssClass) {
                return;
            };
            if (!$e.data.box.backColor) {
                return;
            };
            if ($e.type === "Task") {
                return;
            };
            var $02 = DayPilot.Util.normalizeColor($e.data.box.backColor);
            var $G = $e.type + "_" + $02.replace("#", "");
            var t = $c.theme;
            var cn = $c.theme + "_" + $G;
            if (!$Z.keys[$G]) {
                $Z.keys[$G] = true;
                if (!$Z.sheet) {
                    $Z.sheet = DayPilot.sheet();
                };
                if ($e.type === "Group") {
                    $Z.sheet.add("." + cn + "." + t + "_task_group ." + t + "_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + $02 + "; filter: none; border: 0px none;");
                    $Z.sheet.add("." + cn + "." + t + "_task_group." + t + "_event:before", "content:''; border-color: transparent transparent transparent " + $02 + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
                    $Z.sheet.add("." + cn + "." + t + "_task_group." + t + "_event:after", "content:''; border-color: transparent " + $02 + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
                } else if ($e.type === "Milestone") {
                    $Z.sheet.add("." + cn + "." + t + "_task_milestone ." + t + "_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " + $02 + "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
                    $Z.sheet.add("." + cn + "." + t + "_browser_ie8 ." + t + "_task_milestone ." + t + "_event_inner", "-ms-filter: \"progid:$03.Microsoft.Matrix($04='auto expand',$05=0.7071067811865476,$06=-0.7071067811865475,$07=0.7071067811865475,$08=0.7071067811865476);\"");
                }
            };
            return cn;
        };
        $o.$0G = function($T, $F, parent) {
            if (!DayPilot.isArray($T)) {
                return;
            };
            for (var i = 0; i < $T.length; i++) {
                var $09 = $T[i];
                $t.addToCache($09, parent);
                var $e = $o.$0H($09);
                var $g = $e.data;
                var $00 = $e.type;
                var event = {};
                DayPilot.Util.copyProps($g, event, ['id', 'start', 'end', 'text', 'complete', 'tags', 'versions']);
                DayPilot.Util.copyProps($g.box, event);
                event.parent = parent;
                event.task = $09;
                event.resource = $g.id;
                if ($00 == "Group") {
                    event.type = "Group";
                    event.html = "";
                    var $Z = $o.$0I($e);
                    if ($Z) {
                        event.cssClass = (event.cssClass || "") + " " + $Z;
                        console.log(event.cssClass);
                    };
                    delete event.backColor;
                    if ($c.taskGroupMode === "Auto") {
                        var $Y = $o.childrenStartEnd($09);
                        event.start = $Y.start;
                        event.end = $Y.end;
                        event.resizeDisabled = true;
                        event.moveDisabled = true;
                    }
                } else if ($00 === "Milestone") {
                    event.html = "";
                    $09.end = $09.start;
                    var $Z = $o.$0I($e);
                    if ($Z) {
                        event.cssClass = (event.cssClass || "") + " " + $Z;
                    };
                    $g.end = $g.start;
                    event.end = $g.start;
                    event.barHidden = true;
                    event.resizeDisabled = true;
                    event.type = "Milestone";
                    event.width = $c.taskHeight;
                    delete event.backColor;
                } else if ($00 === "Task") {
                    $a();
                };
                event.moveVDisabled = true;
                event.htmlRight = $g.box.htmlRight;
                event.htmlLeft = $g.box.htmlLeft;
                $d.events.list.push(event);
                var r = {};
                r.task = $09;
                DayPilot.Util.copyProps($g.row, r);
                r.name = $g.text;
                r.id = $g.id;
                r.children = [];
                r.expanded = !$g.row || !$g.row.collapsed;
                if ($09.children && $09.children.length) {
                    $o.$0G($09.children, r.children, $09);
                };
                $F.push(r);
            }
        };
        $o.childrenStartEnd = function($g) {
            if (!$g.children || !$g.children.length) {
                var $w = $g.start;
                var end = $g.end;
                if ($g.type === "Milestone") {
                    end = $w;
                };
                return {
                    "start": new DayPilot.Date($w),
                    "end": new DayPilot.Date(end)
                };
            };
            var $w = null;
            var end = null;
            for (var i = 0; i < $g.children.length; i++) {
                var $Y = $o.childrenStartEnd($g.children[i]);
                if (!$w || $Y.start.getTime() < $w.getTime()) {
                    $w = $Y.start;
                };
                if (!end || $Y.end.getTime() > end.getTime()) {
                    end = $Y.end;
                }
            };
            return {
                "start": $w,
                "end": end
            };
        };
        this.rows = {};
        this.rows.expand = function($0a) {
            $d.rows.expand($0a);
        };
        this.rows.expandAll = function() {
            $d.rows.expandAll();
        };
        this.rows.selection = {};
        this.rows.selection.add = function($g) {
            var $j = $d.rows.find($g.data.id);
        };
        this.rows.selection.clear = function() {
            $d.rows.selection.clear();
        };
        this.rows.selection.get = function() {
            return $d.rows.selection.get().map(function($j) {
                return new DayPilot.Task($j.$.row.task, $c);
            });
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$0u;
        };
        this.internal.rowObjectForTaskData = $o.$0F;
        this.$0v = {};
        this.$0v.scope = null;
        this.$0v.notify = function() {
            if ($c.$0v.scope) {
                $c.$0v.scope["$apply"]();
            }
        };
        this.$0J = null;
        this.$0K = function($b) {
            var $0b = {
                "tasks": {
                    "preInit": function() {
                        var $0c = this.data;
                        if (!$0c) {
                            return;
                        };
                        if (DayPilot.isArray($0c.list)) {
                            $c.tasks.list = $0c.list;
                        } else {
                            $c.tasks.list = $0c;
                        }
                    }
                },
                "links": {
                    "preInit": function() {
                        var $0d = this.data;
                        if (!$0d) {
                            return;
                        };
                        if (DayPilot.isArray($0d.list)) {
                            $c.links.list = $0d.list;
                        } else {
                            $c.links.list = $0d;
                        }
                    }
                },
                "scrollTo": {
                    "postInit": function() {
                        if (this.data) {
                            $c.scrollTo(this.data);
                        }
                    }
                },
                "scrollToTask": {
                    "postInit": function() {
                        if (this.data) {
                            $c.scrollToTask(this.data);
                        }
                    }
                }
            };
            this.$0J = $0b;
            for (var name in $b) {
                if ($0b[name]) {
                    var $0e = $0b[name];
                    $0e.data = $b[name];
                    if ($0e.preInit) {
                        $0e.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$0A = function() {
            var $0b = this.$0J;
            for (var name in $0b) {
                var $0e = $0b[name];
                if ($0e.postInit) {
                    $0e.postInit();
                }
            }
        };
        this.$0K($b);
    };
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotGantt = function($b) {
                var $0f = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $0g = new DayPilot.Gantt(this.id, $b);
                    $0g.init();
                    this.daypilot = $0g;
                    if (!$0f) {
                        $0f = $0g;
                    }
                });
                if (this.length === 1) {
                    return $0f;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $0h = DayPilot.am();
        if (!$0h) {
            return;
        };
        $0h.directive("daypilotGantt", ['$parse', function($0i) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $0j) {
                    element.replaceWith(this["template"].replace("{{id}};", $0j["id"]));
                    return function link($0k, element, $0j) {
                        var $c = new DayPilot.Gantt(element[0]);
                        $c.$0v.scope = $0k;
                        $c.init();
                        var $0l = $0j["id"];
                        if ($0l) {
                            $0k[$0l] = $c;
                        };
                        var $0m = $0j["publishAs"];
                        if ($0m) {
                            var getter = $0i($0m);
                            var setter = getter.assign;
                            setter($0k, $c);
                        };
                        for (var name in $0j) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $c[name] = function($e) {
                                        var f = $0i($0j[name]);
                                        $0k["$apply"](function() {
                                            f($0k, {
                                                "args": $e
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $0n = $0k["$watch"];
                        var $0o = $0j["config"] || $0j["daypilotConfig"];
                        $0n.call($0k, $0o, function($0p, $0q) {
                            $c.$0K($0p);
                            $c.update();
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Kanban !== 'undefined') {
        return;
    };
    DayPilot.Kanban = function(id, $a) {
        this.v = '2130';
        var $b = this;
        this.barWidth = 5;
        this.cardAutoHeight = true;
        this.cardHeight = 60;
        this.cardMarginLeft = 5;
        this.cardMarginRight = 5;
        this.cardMarginBottom = 5;
        this.columnHeaderHeight = 20;
        this.crosshairColor = "gray";
        this.height = 300;
        this.heightSpec = "Auto";
        this.theme = "kanban_default";
        this.cellMarginBottom = 4;
        this.cellMarginTop = 5;
        this.rowMinHeight = 0;
        this.swimlaneCollapsingEnabled = false;
        this.swimlaneHeaderWidth = 80;
        this.visible = true;
        this.swimlanes = {};
        this.swimlanes.list = [];
        this.columns = {};
        this.columns.list = [];
        this.cards = {};
        this.cards.list = [];
        this.cardDeleteHandling = "Disabled";
        this.cardMoveHandling = "Update";
        this.columnMoveHandling = "Disabled";
        this.swimlaneMoveHandling = "Disabled";
        this.onBeforeCellRender = null;
        this.onCardClick = null;
        this.onCardClicked = null;
        this.onCardDelete = null;
        this.onCardDeleted = null;
        this.onCardMove = null;
        this.onCardMoved = null;
        this.onColumnMove = null;
        this.onColumnMoved = null;
        this.onHeightChanged = null;
        this.onSwimlaneMove = null;
        this.onSwimlaneMoved = null;
        var $c = new DayPilot.Scheduler(id);
        this.scheduler = $c;
        var $d = {};
        var $e = 15;
        var $f = 15;
        $d.translate = function() {
            var dp = $c;
            dp.startDate = "2000-01-01";
            dp.scale = "Day";
            dp.timeHeaders = [{
                $g: "Cell",
                $h: "d"
            }];
            dp.heightSpec = $b.heightSpec;
            dp.cellWidthSpec = "Auto";
            dp.cellsMarkBusiness = false;
            dp.crosshairColor = $b.crosshairColor;
            dp.dynamicEventRendering = "Disabled";
            dp.floatingEvents = false;
            dp.floatingTimeHeaders = false;
            dp.rowMinHeight = $b.rowMinHeight;
            dp.rowMarginTop = $b.cellMarginTop;
            dp.rowMarginBottom = $b.cellMarginBottom;
            dp.eventMoveToPosition = true;
            dp.headerHeight = $b.columnHeaderHeight;
            dp.eventResizeHandling = "Disabled";
            dp.timeRangeSelectedHandling = "Disabled";
            dp.eventHeight = $b.cardHeight;
            dp.eventMarginLeft = $b.cardMarginLeft;
            dp.eventMarginRight = $b.cardMarginRight;
            dp.eventMarginBottom = $b.cardMarginBottom;
            dp.eventTextWrappingEnabled = true;
            dp.cellStacking = true;
            dp.cellStackingAutoHeight = $b.cardAutoHeight;
            dp.durationBarVisible = false;
            dp.theme = $b.theme;
            dp.visible = $b.visible;
            dp.rowHeaderWidth = $b.swimlaneHeaderWidth;
            dp.eventDeleteHandling = $b.cardDeleteHandling;
            dp.eventMoveHandling = $b.cardMoveHandling;
            dp.rowMoveHandling = DayPilot.list($b.swimlanes.list).isEmpty() ? "Disabled" : $b.swimlaneMoveHandling;
            dp.onHeightChanged = $b.onHeightChanged;
            dp.internal.cssNames.timeheadercol = "_colheadercell";
            dp.internal.cssNames.timeheadercolInner = "_colheadercell_inner";
            dp.internal.cssNames.resourcedivider = "_rowheaderdivider";
            dp.internal.cssNames.event = "_card";
            dp.internal.cssNames.eventInner = "_card_inner";
            dp.internal.cssNames.eventDelete = "_card_delete";
            dp.internal.cssNames.eventMovingSource = "_card_moving_source";
            if ($b.swimlaneCollapsingEnabled) {
                dp.rowHeaderWidthMarginRight = $e + 0;
            };
            dp.onBeforeTimeHeaderRender = function($i) {
                var $j = $b.$Z($i.header.start);
                $i.header.html = $j.name;
                $i.header.toolTip = $j.toolTip || "";
                $i.header.areas = $j.areas || [];
                DayPilot.list($i.header.areas).each(function($k) {
                    $k.target = new DayPilot.Column($j, $b);
                });
                if ($b.columnMoveHandling !== "Disabled") {
                    var $l = $b.theme + "_columnmove_handle";
                    $i.header.areas.push({
                        "left": 0,
                        "top": 0,
                        "width": 20,
                        "height": 20,
                        "css": $l,
                        "mousedown": $b.$00,
                        "action": "None"
                    });
                }
            };
            dp.onBeforeCellRender = function($i) {
                var $m = {};
                $m.cell = {};
                $m.cell.column = new DayPilot.Column($b.$Z($i.cell.start), $b);
                $m.cell.swimlane = null;
                var $n = $b.$01($i.cell.resource);
                if ($n) {
                    $m.cell.swimlane = new DayPilot.Swimlane($n, $b);
                };
                $m.cell.areas = [];
                $m.cell.cssClass = null;
                $m.cell.html = null;
                $m.cell.backImage = null;
                $m.cell.backRepeat = null;
                $m.cell.backColor = null;
                if (typeof $b.onBeforeCellRender === "function") {
                    $b.onBeforeCellRender($m);
                    DayPilot.Util.copyProps($m.cell, $i.cell, ["areas", "cssClass", "html", "backImage", "backRepeat", "backColor"]);
                    DayPilot.list($i.cell.areas).each(function($k) {
                        $k.target = {
                            "swimlane": $m.cell.swimlane,
                            "column": $m.cell.column
                        };
                    })
                };
                var $o = dp.rows.find($i.cell.resource);
                var $p = dp.resources[$o.index];
                if ($p.collapsed) {
                    if (!$i.cell.cssClass) {
                        $i.cell.cssClass = "";
                    };
                    $i.cell.cssClass += " " + $b.theme + "_collapsed";
                }
            };
            dp.onEventClick = function($i) {
                var $m = new DayPilot.Args($i);
                $m.card = new DayPilot.Card($i.e.data.card, $b);
                if (typeof $b.onCardClick === "function") {
                    $b.onCardClick($m);
                };
                $i.wrapped = $m;
            };
            dp.onEventClicked = function($i) {
                var $m = $i.wrapped;
                if (typeof $b.onCardClicked === "function") {
                    $b.onCardClicked($m);
                }
            };
            dp.onEventDelete = function($i) {
                var $m = new DayPilot.Args($i);
                $m.card = new DayPilot.Card($i.e.data.card, $b);
                if (typeof $b.onCardDelete === "function") {
                    $b.onCardDelete($m);
                };
                $i.wrapped = $m;
            };
            dp.onEventDeleted = function($i) {
                DayPilot.rfa($b.cards.list, $i.e.data.card);
                var $m = $i.wrapped;
                if (typeof $b.onCardDeleted === "function") {
                    $b.onCardDeleted($m);
                }
            };
            dp.onEventMove = function($i) {
                var $m = new DayPilot.Args($i);
                $m.card = new DayPilot.Card($i.e.data.card, $b);
                $m.column = new DayPilot.Column($b.$Z($i.newStart));
                $m.position = $i.position;
                if ($i.newResource !== "*") {
                    $m.swimlane = new DayPilot.Swimlane($b.$01($i.newResource), $b);
                } else {
                    $m.swimlane = null;
                };
                var $q = $c.cells.find($i.newStart, $i.newResource)[0].events();
                var $r = $i.position;
                var $s = null;
                var pi = $r - 1;
                while ($q[pi]) {
                    if ($q[pi].data !== $i.e.data) {
                        $s = new DayPilot.Card($q[pi]);
                        break;
                    };
                    pi -= 1;
                };
                var $t = null;
                var ni = $r;
                while ($q[ni]) {
                    if ($q[ni].data !== $i.e.data) {
                        $t = new DayPilot.Card($q[ni]);
                        break;
                    };
                    ni += 1;
                };
                $m.previous = $s;
                $m.next = $t;
                if (typeof $b.onCardMove === "function") {
                    $b.onCardMove($m);
                };
                $i.wrapped = $m;
                if ($i.preventDefault.value) {
                    return;
                };
                var $u = 0;
                if ($t) {
                    $u = $t.wrapped.data.sort[0];
                } else if ($s) {
                    $u = $s.wrapped.data.sort[0];
                };
                $i.e.data.sort = [$u, new DayPilot.Date().toString()];
                DayPilot.rfa($b.cards.list, $i.e.data.card);
                var $v = 0;
                if ($t) {
                    $v = DayPilot.indexOf($b.cards.list, $t.data);
                } else if ($s) {
                    $v = DayPilot.indexOf($b.cards.list, $s.data) + 1;
                };
                $b.cards.list.splice($v, 0, $i.e.data.card);
                $d.updateSort();
            };
            dp.onEventMoved = function($i) {
                var $m = $i.wrapped;
                var $w = DayPilot.list($b.cards.list).find(function($x) {
                    return $i.e.data.card === $x;
                });
                $w.swimlane = $m.swimlane ? $m.swimlane.data.id : null;
                $w.column = $m.column.data.id;
                if (typeof $b.onCardMoved === "function") {
                    $b.onCardMoved($m);
                }
            };
            dp.onBeforeResHeaderRender = function($i) {
                if (!$b.swimlaneCollapsingEnabled) {
                    return;
                };
                var $y = DayPilot.list($b.swimlanes.list).isEmpty();
                if ($y) {
                    return;
                };
                var $l = $b.theme + "_swimlane_collapse";
                if ($i.resource.collapsed) {
                    $l = $b.theme + "_swimlane_expand";
                };
                $i.resource.areas = [{
                    "right": 0,
                    "top": 0,
                    "height": $f,
                    "width": $e,
                    "action": "JavaScript",
                    "css": $l,
                    "js": function() {
                        $b.$02($i.resource.index);
                    }
                }];
            };
            dp.onRowMove = function($i) {
                var $m = new DayPilot.Args($i);
                $i.wrapped = $m;
                $m.swimlane = new DayPilot.Swimlane($i.source.$.row.swimlane);
                var $r = 0;
                switch ($i.position) {
                    case "before":
                        $r = $i.target.index;
                        break;
                    case "after":
                        $r = $i.target.index + 1;
                        break;
                    default:
                        throw "Unexpected target swimlane position: " + $i.position;
                        break;
                };
                $m.position = $r;
                $m.previous = null;
                var pi = $r - 1;
                while ($c.rowlist[pi] && $c.rowlist[pi].swimlane !== $m.swimlane.data) {
                    $m.previous = new DayPilot.Swimlane($c.rowlist[pi].swimlane);
                    pi -= 1;
                };
                $m.next = null;
                var ni = $r;
                while ($c.rowlist[ni] && $c.rowlist[ni].swimlane !== $m.swimlane.data) {
                    $m.next = new DayPilot.Swimlane($c.rowlist[ni].swimlane);
                    ni += 1;
                };
                if (typeof $b.onSwimlaneMove === "function") {
                    $b.onSwimlaneMove($m);
                }
            };
            dp.onRowMoved = function($i) {
                var $m = $i.wrapped;
                DayPilot.rfa($b.swimlanes.list, $m.swimlane.data);
                var $v = 0;
                if ($m.next) {
                    $v = DayPilot.indexOf($b.swimlanes.list, $m.next.data);
                } else if ($m.previous) {
                    $v = DayPilot.indexOf($b.swimlanes.list, $m.previous.data) + 1;
                };
                $b.swimlanes.list.splice($v, 0, $m.swimlane.data);
                if (typeof $b.onSwimlaneMoved === "function") {
                    $b.onSwimlaneMoved($m);
                }
            };
            dp.treePreventParentUsage = true;
        };
        $d.loadCards = function() {
            var $z = new DayPilot.Date("2000-01-01");
            var $A = $b.theme + "_card_header";
            var $B = $b.theme + "_card_body";
            var $C = new DayPilot.Date().toString();
            $c.sortDirections = ["asc", "desc"];
            $c.events.list = DayPilot.list($b.cards.list).map(function($D, i) {
                var $E = $D.html || $D.text || "";
                var name = $D.name || "";
                var $F = {};
                $F.id = $D.id;
                $F.text = $D.text;
                $F.html = "<div class='" + $A + "'>" + name + "</div><div class='" + $B + "'>" + $E + "</div>";
                $F.resource = $D.swimlane;
                $F.start = $z.addDays(DayPilot.list($b.columns.list).findIndex(function($x) {
                    return $D.column === $x.id;
                }));
                $F.end = $F.start.addDays(1);
                $F.card = $D;
                $F.height = $D.height;
                $F.cssClass = $D.cssClass;
                $F.sort = [i, $C];
                $F.areas = DayPilot.list($D.areas).map(function($x) {
                    var $G = {};
                    DayPilot.Util.copyProps($x, $G);
                    if ($x.js) {
                        $G.js = function(e) {
                            $x.js(new DayPilot.Card(e.data.card, $b));
                        };
                    };
                    return $G;
                });
                $F.areas.push({
                    "left": 0,
                    "width": 5,
                    "top": 0,
                    "bottom": 0,
                    "backColor": $D.barColor,
                    "cssClass": $b.theme + "_card_bar"
                });
                return $F;
            });
        };
        $d.updateSort = function() {
            var $C = new DayPilot.Date().toString();
            DayPilot.list($b.cards.list).each(function($x, i) {
                var $H = $d.findSchedulerEventData($x);
                if ($H) {
                    $H.sort = [i, $C];
                }
            });
        };
        $d.findSchedulerEventData = function($I) {
            return DayPilot.list($c.events.list).find(function($H) {
                return $H.card === $I;
            });
        };
        $d.loadSwimlanes = function() {
            var $J = 20;
            var $K = DayPilot.list($b.swimlanes.list);
            $c.resources = $K.map(function($L) {
                var $x = {};
                $x.name = $L.name;
                $x.id = $L.id;
                $x.swimlane = $L;
                if ($L.collapsed) {
                    $x.collapsed = true;
                    $x.eventHeight = $J;
                    $x.id = null;
                };
                return $x;
            });
            if ($K.isEmpty()) {
                $c.resources = [{
                    name: "",
                    id: "*"
                }];
            }
        };
        $d.loadColumns = function() {
            var $M = DayPilot.list($b.columns.list);
            $c.days = $M.length;
        };
        var $N = {};
        $N.active = null;
        $N.div = null;
        $N.update = function() {
            $N.clear();
            var $v = $N.findPosition();
            $N.draw($v);
        };
        $N.clear = function() {
            DayPilot.de($N.div);
            $N.div = null;
        };
        $N.draw = function($v) {
            var $O = 0;
            if ($v >= $c.itline.length) {
                var $P = $c.itline[$c.itline.length - 1];
                $O = $P.left + $P.width - 3;
            } else {
                $O = $c.itline[$v].left;
            };
            var $Q = document.createElement("div");
            $Q.style.position = "absolute";
            $Q.style.left = $O + "px";
            $Q.style.width = "3px";
            $Q.style.top = 0;
            $Q.style.height = $c.headerHeight + "px";
            $Q.className = $b.theme + "_columnmove_position";
            $N.div = $Q;
            $c.nav.timeHeader.appendChild($Q);
        };
        $N.findPosition = function() {
            if ($b.coords.x < 0) {
                return 0;
            };
            var $v = DayPilot.list($c.itline).findIndex(function($x) {
                var $O = $x.left + $c.rowHeaderWidth;
                var $R = $x.width;
                return $b.coords.x < ($O + $R / 2);
            });
            if ($v === -1) {
                return $c.itline.length;
            };
            return $v;
        };
        this.$00 = function($i) {
            $N.active = $i;
        };
        this.$Z = function($S) {
            return $b.columns.list[$S.getDay() - 1];
        };
        this.$01 = function(id) {
            return DayPilot.list($b.swimlanes.list).find(function($x) {
                return $x.id === id;
            });
        };
        this.message = function($E, $T, $U, $V) {
            $c.message($E, $T, $U, $V);
        };
        this.show = function() {
            $b.visible = true;
            $c.show();
        };
        this.hide = function() {
            $b.visible = false;
            $c.hide();
        };
        this.cards.add = function($D) {
            var $F = null;
            if ($D && $D instanceof DayPilot.Card) {
                $F = $D.data;
            } else {
                $F = $D;
            };
            if (!$D) {
                return;
            };
            $b.cards.list.push($F);
            $b.update();
        };
        this.cards.remove = function($D) {
            var $F = null;
            if ($D && $D instanceof DayPilot.Card) {
                $F = $D.data;
            } else {
                $F = $D;
            };
            if (!$D) {
                return;
            };
            DayPilot.rfa($b.cards.list, $D);
            $b.update();
        };
        this.cards.update = function($D) {
            $b.update();
        };
        this.$02 = function(i) {
            if (!DayPilot.list($b.swimlanes.list).isEmpty()) {
                $b.swimlanes.list[i].collapsed = !$b.swimlanes.list[i].collapsed;
            };
            $b.update();
        };
        this.init = function() {
            $d.translate();
            $d.loadSwimlanes();
            $d.loadColumns();
            $d.loadCards();
            $c.init();
            $b.$03();
            this.$04 = true;
        };
        this.update = function() {
            $d.translate();
            $d.loadSwimlanes();
            $d.loadColumns();
            $d.loadCards();
            $c.update();
        };
        this.$03 = function() {
            DayPilot.re(document, 'mouseup', $b.$05);
            DayPilot.re(document, 'mousemove', $b.$06);
        };
        this.$06 = function(ev) {
            $b.coords = DayPilot.mo3($c.nav.top, ev);
            if ($N.active) {
                $N.update();
            }
        };
        this.$05 = function(ev) {
            if (!$N.active) {
                return;
            };
            var $w = $N.active.source;
            var $W = $N.findPosition();
            var $j = $b.$Z($w.start);
            var $i = new DayPilot.Args();
            $i.column = new DayPilot.Column($j, $b);
            $i.position = $W;
            $i.previous = null;
            $i.next = null;
            var $s = null;
            var $X = $i.position;
            while ($X !== 0 && !$s) {
                if ($j !== $b.columns.list[$X - 1]) {
                    $s = $b.columns.list[$X - 1]
                };
                $X -= 1;
            };
            if ($s) {
                $i.previous = new DayPilot.Column($s, $b);
            };
            var $t = null;
            $X = $i.position;
            while ($X < $b.columns.list.length - 1 && !$t) {
                if ($j !== $b.columns.list[$X]) {
                    $t = $b.columns.list[$X];
                };
                $X += 1;
            };
            if ($t) {
                $i.next = new DayPilot.Column($t, $b);
            };
            if (typeof $b.onColumnMove === "function") {
                $b.onColumnMove($i);
            };
            if (!$i.preventDefault.value) {
                if ($b.columnMoveHandling === "Update") {
                    DayPilot.rfa($b.columns.list, $i.column.data);
                    var $v = 0;
                    if ($i.next) {
                        $v = DayPilot.indexOf($b.columns.list, $i.next.data);
                    } else if ($i.previous) {
                        $v = DayPilot.indexOf($b.columns.list, $i.previous.data) + 1;
                    };
                    $b.columns.list.splice($v, 0, $i.column.data);
                    $b.update();
                };
                if (typeof $b.onColumnMoved === "function") {
                    $b.onColumnMove($i);
                }
            };
            $N.active = null;
            $N.clear();
        };
    };
    DayPilot.Card = function($F, $Y) {
        if ($F instanceof DayPilot.Event) {
            var e = $F;
            this.data = e.data.card;
            this.wrapped = $F;
        } else {
            this.data = $F;
        };
        this.control = $Y;
    };
    DayPilot.Column = function($F, $Y) {
        this.data = $F;
        this.control = $Y;
    };
    DayPilot.Swimlane = function($F, $Y) {
        this.data = $F;
        this.control = $Y;
    };
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMenu === 'undefined') {
    var DayPilotMenu = DayPilot.MenuVisible = {};
};
(function() {
    if (typeof DayPilot.Menu !== 'undefined') {
        return;
    };
    var DayPilotMenu = {};
    DayPilotMenu.mouse = null;
    DayPilotMenu.menu = null;
    DayPilotMenu.clickRegistered = false;
    DayPilotMenu.hideTimeout = null;
    DayPilotMenu.waitingSubmenu = null;
    DayPilot.Menu = function($a) {
        var $b = this;
        this.v = '2130';
        this.zIndex = 10;
        this.useShadow = true;
        this.cssClassPrefix = "menu_default";
        this.cssOnly = true;
        this.menuTitle = null;
        this.showMenuTitle = false;
        this.hideOnMouseOut = false;
        this.$K = function() {};
        if ($a && DayPilot.isArray($a)) {
            this.items = $a;
        };
        this.show = function(e, $c) {
            var $c = $c || {};
            var $d = null;
            if (typeof e.id === 'string' || typeof e.id === 'number') {
                $d = e.id;
            } else if (typeof e.id === 'function') {
                $d = e.id();
            } else if (typeof e.value === 'function') {
                $d = e.value();
            };
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if (!$c.submenu) {
                DayPilotMenu.menuClean();
            };
            this.$K.submenu = null;
            if (DayPilotMenu.mouse === null) {
                return;
            };
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            var $e = document.createElement("div");
            $e.style.position = "absolute";
            $e.style.top = "0px";
            $e.style.left = "0px";
            $e.style.display = 'none';
            $e.style.overflow = 'hidden';
            $e.style.zIndex = this.zIndex + 1;
            $e.className = this.applyCssClass('main');
            $e.onclick = function(ev) {
                ev.cancelBubble = true;
                this.parentNode.removeChild(this);
            };
            if (this.hideOnMouseOut) {
                $e.onmousemove = function(ev) {
                    clearTimeout(DayPilotMenu.hideTimeout);
                };
                $e.onmouseout = function(ev) {
                    $b.delayedHide();
                };
            };
            if (!this.items || this.items.length === 0) {
                throw "No menu items defined.";
            };
            if (this.showMenuTitle) {
                var title = document.createElement("div");
                title.innerHTML = this.menuTitle;
                title.className = this.applyCssClass("title");
                $e.appendChild(title);
            };
            for (var i = 0; i < this.items.length; i++) {
                var mi = this.items[i];
                var $f = document.createElement("div");
                DayPilot.Util.addClass($f, this.applyCssClass("item"));
                if (mi.items) {
                    DayPilot.Util.addClass($f, this.applyCssClass("item_haschildren"));
                };
                if (typeof mi === 'undefined') {
                    continue;
                };
                if (mi.text === '-') {
                    var $g = document.createElement("div");
                    $f.appendChild($g);
                } else {
                    var $h = document.createElement("a");
                    $h.style.position = 'relative';
                    $h.style.display = "block";
                    if (mi.disabled) {
                        DayPilot.Util.addClass($h, $b.applyCssClass("item_disabled"));
                    } else if (mi.href) {
                        $h.href = mi.href.replace(/\x7B0\x7D/gim, $d);
                        if (mi.target) {
                            $h.setAttribute("target", mi.target);
                        }
                    } else if (mi.onclick) {
                        $h.item = mi;
                        $h.onclick = mi.onclick;
                        var $i = function(mi, $h) {
                            return function(e) {
                                e.stopPropagation();
                                e.preventDefault();
                                mi.onclick.call($h, e);
                                DayPilotMenu.menuClean();
                                window.setTimeout(function() {
                                    $h.source.calendar.internal.touch.active = false;
                                }, 500);
                            };
                        };
                        $h.ontouchstart = function(ev) {
                            ev.stopPropagation();
                            ev.preventDefault();
                            $h.source.calendar.internal.touch.active = true;
                        };
                        $h.ontouchend = $i(mi, $h);
                    } else if (mi.command) {
                        var $j = function(mi, $h) {
                            return function(e) {
                                var $k = $h.source;
                                var $f = mi;
                                $f.action = $f.action ? $f.action : 'CallBack';
                                var $l = $k.calendar || $k.root;
                                if ($k instanceof DayPilot.Link) {
                                    $l.internal.linkMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Selection) {
                                    $l.internal.timeRangeMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Event) {
                                    $l.internal.eventMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Selection) {
                                    $l.internal.timeRangeMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Task) {
                                    if ($k.menuType === "resource") {
                                        $l.internal.resourceHeaderMenuClick($f.command, $h.menuSource, $f.action);
                                    } else {
                                        $l.internal.eventMenuClick($f.command, $h.menuSource, $f.action);
                                    };
                                    return;
                                } else {
                                    switch ($k.menuType) {
                                        case 'resource':
                                            $l.internal.resourceHeaderMenuClick($f.command, $k, $f.action);
                                            return;
                                        case 'selection':
                                            $l.internal.timeRangeMenuClick($f.command, $k, $f.action);
                                            return;
                                        default:
                                            $l.internal.eventMenuClick($f.command, $k, $f.action);
                                            return;
                                    }
                                };
                                e.preventDefault();
                            };
                        };
                        $h.onclick = $j(mi, $h);
                        $h.ontouchend = $j(mi, $h);
                    };
                    if (e && e.isRow && e.$.row.task) {
                        $h.source = new DayPilot.Task(e.$.row.task, e.calendar);
                        $h.source.menuType = "resource";
                    } else if (e && e.isEvent && e.data.task) {
                        $h.source = new DayPilot.Task(e, e.calendar);
                    } else {
                        $h.source = e;
                    };
                    $h.menuSource = e;
                    var $m = document.createElement("span");
                    $m.innerHTML = mi.text;
                    $h.appendChild($m);
                    if (mi.image) {
                        var $n = document.createElement("img");
                        $n.src = mi.image;
                        $n.style.position = 'absolute';
                        $n.style.top = '0px';
                        $n.style.left = '0px';
                        $h.appendChild($n);
                    };
                    var $o = function(mi, $h) {
                        return function() {
                            var $k = $h.source;
                            var $f = mi;
                            var ws = DayPilotMenu.waitingSubmenu;
                            if (ws) {
                                if (ws.parent === $f) {
                                    return;
                                } else {
                                    clearTimeout(ws.timeout);
                                    DayPilotMenu.waitingSubmenu = null;
                                }
                            };
                            DayPilotMenu.waitingSubmenu = {};
                            DayPilotMenu.waitingSubmenu.parent = $f;
                            DayPilotMenu.waitingSubmenu.timeout = setTimeout(function() {
                                DayPilotMenu.waitingSubmenu = null;
                                if ($b.$K.submenu && $b.$K.submenu.item === $f) {
                                    return;
                                };
                                if ($b.$K.submenu && $b.$K.submenu.item !== $f) {
                                    DayPilot.Util.removeClass($b.$K.submenu.link.parentNode, $b.applyCssClass("item_haschildren_active"));
                                    $b.$K.submenu.menu.hide();
                                    $b.$K.submenu = null;
                                };
                                if (!$f.items) {
                                    return;
                                };
                                var $c = $b.cloneOptions();
                                $c.items = $f.items;
                                $b.$K.submenu = {};
                                $b.$K.submenu.menu = new DayPilot.Menu($c);
                                $b.$K.submenu.menu.show($k, {
                                    "submenu": true,
                                    "parentLink": $h,
                                    "parentItem": mi
                                });
                                $b.$K.submenu.item = $f;
                                $b.$K.submenu.link = $h;
                                DayPilot.Util.addClass($h.parentNode, $b.applyCssClass("item_haschildren_active"));
                            }, 300);
                        };
                    };
                    $h.onmouseover = $o(mi, $h);
                    $f.appendChild($h);
                };
                $e.appendChild($f);
            };
            var $p = function(e) {
                window.setTimeout(function() {
                    DayPilotMenu.menuClean();
                }, 100);
            };
            $e.onclick = $p;
            $e.ontouchend = $p;
            $e.onmousedown = function(e) {
                e = e || window.event;
                e.cancelBubble = true;
                if (e.stopPropagation) e.stopPropagation();
            };
            $e.oncontextmenu = function() {
                return false;
            };
            document.body.appendChild($e);
            $b.$K.visible = true;
            $b.$K.source = e;
            $e.style.display = '';
            var $q = $e.offsetHeight;
            var $r = $e.offsetWidth;
            $e.style.display = 'none';
            var $s = document.documentElement.clientHeight;
            var $t = document.documentElement.clientWidth;
            (function ajdustPosition() {
                var x = DayPilotMenu.mouse.x + 1;
                var y = DayPilotMenu.mouse.y + 1;
                if (DayPilotMenu.mouse.clientY > $s - $q && $s !== 0) {
                    var $u = DayPilotMenu.mouse.clientY - ($s - $q) + 5;
                    $e.style.top = (y - $u) + 'px';
                } else {
                    $e.style.top = y + 'px';
                };
                if (DayPilotMenu.mouse.clientX > $t - $r && $t !== 0) {
                    var $v = DayPilotMenu.mouse.clientX - ($t - $r) + 5;
                    $e.style.left = (x - $v) + 'px';
                } else {
                    $e.style.left = x + 'px';
                }
            })();
            if ($c.parentLink) {
                var parent = $c.parentLink;
                var $w = parseInt(new DayPilot.StyleReader($e).get("border-top-width"));
                var $x = DayPilot.abs($c.parentLink.parentNode);
                var x = $x.x + parent.offsetWidth;
                var y = $x.y - $w;
                if (x + $r > $t) {
                    x = Math.max(0, $x.x - $r);
                };
                var $y = document.body.scrollTop + document.documentElement.scrollTop;
                if (y + $q - $y > $s) {
                    y = Math.max(0, $s - $q + $y);
                };
                $e.style.left = x + "px";
                $e.style.top = y + "px";
            };
            $e.style.display = '';
            this.addShadow($e);
            this.$K.div = $e;
            if (!$c.submenu) {
                DayPilot.Menu.active = this;
            }
        };
        this.applyCssClass = function($z) {
            var $A = this.theme || this.cssClassPrefix;
            var $B = (this.cssOnly ? "_" : "");
            if ($A) {
                return $A + $B + $z;
            } else {
                return "";
            }
        };
        this.cloneOptions = function() {
            var $c = {};
            var $C = ['cssOnly', 'cssClassPrefix', 'useShadow', 'zIndex'];
            for (var i = 0; i < $C.length; i++) {
                var p = $C[i];
                $c[p] = this[p];
            };
            return $c;
        };
        this.hide = function() {
            if (this.$K.submenu) {
                this.$K.submenu.menu.hide();
            };
            this.removeShadow();
            if (this.$K.div && this.$K.div.parentNode === document.body) {
                document.body.removeChild(this.$K.div);
            };
            $b.$K.visible = false;
            $b.$K.source = null;
        };
        this.delayedHide = function() {
            DayPilotMenu.hideTimeout = setTimeout(function() {
                $b.hide();
            }, 200);
        };
        this.cancelHideTimeout = function() {
            clearTimeout(DayPilotMenu.hideTimeout);
        };
        this.init = function(ev) {
            DayPilotMenu.mouseMove(ev);
        };
        this.addShadow = function($D) {
            if (!this.useShadow || this.cssOnly) {
                return;
            };
            if (!$D) {
                return;
            };
            if (this.$K.shadows && this.$K.shadows.length > 0) {
                this.removeShadow();
            };
            this.$K.shadows = [];
            for (var i = 0; i < 5; i++) {
                var $E = document.createElement('div');
                $E.style.position = 'absolute';
                $E.style.width = $D.offsetWidth + 'px';
                $E.style.height = $D.offsetHeight + 'px';
                $E.style.top = $D.offsetTop + i + 'px';
                $E.style.left = $D.offsetLeft + i + 'px';
                $E.style.zIndex = this.zIndex;
                $E.style.filter = 'alpha(opacity:10)';
                $E.style.opacity = 0.1;
                $E.style.backgroundColor = '#000000';
                document.body.appendChild($E);
                this.$K.shadows.push($E);
            }
        };
        this.removeShadow = function() {
            if (!this.$K.shadows) {
                return;
            };
            for (var i = 0; i < this.$K.shadows.length; i++) {
                document.body.removeChild(this.$K.shadows[i]);
            };
            this.$K.shadows = [];
        };
        var $c = DayPilot.isArray($a) ? null : $a;
        if ($c) {
            for (var name in $c) {
                this[name] = $c[name];
            }
        };
        if (!DayPilotMenu.clickRegistered) {
            DayPilot.re(document, 'mousemove', DayPilotMenu.mouseMove);
            DayPilot.re(document, 'touchmove', DayPilotMenu.touchMove);
            DayPilot.re(document, 'touchstart', DayPilotMenu.touchStart);
            DayPilot.re(document, 'touchend', DayPilotMenu.touchEnd);
            DayPilot.re(document, 'mousedown', DayPilotMenu.menuClean);
            DayPilotMenu.clickRegistered = true;
        }
    };
    DayPilotMenu.menuClean = function(ev) {
        if (typeof(DayPilot.Menu.active) === 'undefined') return;
        if (DayPilot.Menu.active) {
            DayPilot.Menu.active.hide();
            DayPilot.Menu.active = null;
        }
    };
    DayPilotMenu.mouseMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') return;
        DayPilotMenu.mouse = DayPilotMenu.mousePosition(ev);
    };
    DayPilotMenu.touchMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchStart = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchEnd = function(ev) {};
    DayPilotMenu.touchPosition = function(ev) {
        if (!ev || !ev.touches) {
            return null;
        };
        var $F = ev.touches[0];
        var $G = {};
        $G.x = $F.pageX;
        $G.y = $F.pageY;
        $G.clientX = $F.clientX;
        $G.clientY = $F.clientY;
        return $G;
    };
    DayPilotMenu.mousePosition = function(e) {
        var $H = 0;
        var $I = 0;
        if (!e) var e = window.event;
        if (e.pageX || e.pageY) {
            $H = e.pageX;
            $I = e.pageY;
        } else if (e.clientX || e.clientY) {
            $H = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
            $I = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        };
        var $J = {};
        $J.x = $H;
        $J.y = $I;
        $J.clientY = e.clientY;
        $J.clientX = e.clientX;
        return $J;
    };
    DayPilot.Menu.touchPosition = function(ev) {
        if (ev.touches) {
            DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
        }
    };
    DayPilot.MenuVisible.Menu = DayPilotMenu.Menu;
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof(DayPilot) === 'undefined') {
    DayPilot = {};
};
(function() {
    DayPilot.ModalStatic = {};
    DayPilot.ModalStatic.list = [];
    DayPilot.ModalStatic.hide = function() {
        if (this.list.length > 0) {
            var $a = this.list.pop();
            if ($a) {
                $a.hide();
            }
        }
    };
    DayPilot.ModalStatic.remove = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                $c.splice(i, 1);
                return;
            }
        }
    };
    DayPilot.ModalStatic.close = function($d) {
        DayPilot.ModalStatic.result($d);
        DayPilot.ModalStatic.hide();
    };
    DayPilot.ModalStatic.result = function(r) {
        var $c = DayPilot.ModalStatic.list;
        if ($c.length > 0) {
            $c[$c.length - 1].result = r;
        }
    };
    DayPilot.ModalStatic.displayed = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                return true;
            }
        };
        return false;
    };
    DayPilot.ModalStatic.stretch = function() {
        if (this.list.length > 0) {
            var $a = this.list[this.list.length - 1];
            if ($a) {
                $a.stretch();
            }
        }
    };
    var $e = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
    DayPilot.Modal = function($f) {
        this.autoStretch = true;
        this.autoStretchFirstLoadOnly = false;
        this.border = "10px solid #ccc";
        this.corners = 'Rounded';
        this.className = null;
        this.dragDrop = true;
        this.height = 200;
        this.loadingHtml = null;
        this.maxHeight = null;
        this.opacity = 30;
        this.scrollWithPage = true;
        this.top = 20;
        this.useIframe = true;
        this.width = 500;
        this.zIndex = null;
        this.closed = null;
        this.onClosed = null;
        var $g = this;
        this.id = '_' + new Date().getTime() + 'n' + (Math.random() * 10);
        this.registered = false;
        this.start = null;
        this.coords = null;
        this.showHtml = function($h) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            if (!this.div) {
                this.create();
            };
            this.update();
            if (this.useIframe) {
                var $i = function(p, $j) {
                    return function() {
                        p.setInnerHTML(p.id + "iframe", $j);
                    };
                };
                window.setTimeout($i(this, $h), 0);
            } else {
                if ($h.nodeType) {
                    this.div.appendChild($h);
                } else {
                    this.div.innerHTML = $h;
                }
            };
            this.update();
            this.register();
        };
        this.rounded = function() {
            return this.corners && this.corners.toLowerCase() === 'rounded';
        };
        this.showUrl = function($k) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            this.useIframe = true;
            if (!this.div) {
                this.create();
            };
            var $l = this.loadingHtml;
            if ($l) {
                this.iframe.src = "about:blank";
                this.setInnerHTML(this.id + "iframe", $l);
            };
            this.re(this.iframe, "load", this.onIframeLoad);
            this.iframe.src = $k;
            this.update();
            this.register();
        };
        this.update = function() {
            var $m = window;
            var $n = document;
            var scrollY = $m.pageYOffset ? $m.pageYOffset : (($n.documentElement && $n.documentElement.scrollTop) ? $n.documentElement.scrollTop : $n.body.scrollTop);
            var $o = function() {
                return $g.windowRect().y;
            };
            this.hideDiv.style.filter = "alpha(opacity=" + this.opacity + ")";
            this.hideDiv.style.opacity = "0." + this.opacity;
            this.hideDiv.style.backgroundColor = "black";
            if (this.zIndex) {
                this.hideDiv.style.zIndex = this.zIndex;
            };
            this.hideDiv.style.display = '';
            window.setTimeout(function() {
                $g.hideDiv.onclick = function() {
                    $g.hide();
                };
            }, 500);
            this.div.className = this.className;
            this.div.style.border = this.border;
            if (this.rounded()) {
                this.div.style.MozBorderRadius = "5px";
                this.div.style.webkitBorderRadius = "5px";
                this.div.style.borderRadius = "5px";
            };
            this.div.style.marginLeft = '-' + Math.floor(this.width / 2) + "px";
            this.div.style.position = 'absolute';
            this.div.style.top = (scrollY + this.top) + 'px';
            this.div.style.width = this.width + 'px';
            if (this.zIndex) {
                this.div.style.zIndex = this.zIndex;
            };
            if (this.height) {
                if (this.useIframe || !this.autoStretch) {
                    this.div.style.height = this.height + 'px';
                } else {
                    this.div.style.height = '';
                }
            };
            if (this.useIframe && this.height) {
                this.iframe.style.height = (this.height) + 'px';
            };
            this.div.style.display = '';
            DayPilot.ModalStatic.list.push(this);
        };
        this.onIframeLoad = function() {
            $g.iframe.contentWindow.modal = $g;
            if ($g.autoStretch) {
                $g.stretch();
            }
        };
        this.stretch = function() {
            var $o = function() {
                return $g.windowRect().y;
            };
            var $p = function() {
                return $g.windowRect().x;
            };
            if (this.useIframe) {
                var $q = $p() - 40;
                for (var w = this.width; w < $q && this.hasHorizontalScrollbar(); w += 10) {
                    this.div.style.width = w + 'px';
                    this.div.style.marginLeft = '-' + Math.floor(w / 2) + "px";
                };
                var $r = this.maxHeight || $o() - 2 * this.top;
                for (var h = this.height; h < $r && this.hasVerticalScrollbar(); h += 10) {
                    this.iframe.style.height = (h) + 'px';
                    this.div.style.height = h + 'px';
                };
                if (this.autoStretchFirstLoadOnly) {
                    this.ue(this.iframe, "load", this.onIframeLoad);
                }
            } else {
                console.log("clearing height style");
                this.div.style.height = '';
            }
        };
        this.hasHorizontalScrollbar = function() {
            var document = this.iframe.contentWindow.document;
            var $s = document.compatMode === 'BackCompat' ? document.body : document.documentElement;
            var $t = $s.scrollWidth;
            var $u = document.body.children;
            for (var i = 0; i < $u.length; i++) {
                var $v = $u[i].offsetLeft + $u[i].offsetWidth;
                $t = Math.max($t, $v);
            };
            var $w = $t > $s.clientWidth;
            return $w;
        };
        this.hasVerticalScrollbar = function() {
            var document = this.iframe.contentWindow.document;
            var $s = document.compatMode === 'BackCompat' ? document.body : document.documentElement;
            var $x = $s.scrollHeight;
            var $u = document.body.children;
            for (var i = 0; i < $u.length; i++) {
                var $v = $u[i].offsetTop + $u[i].offsetHeight;
                $x = Math.max($x, $v);
            };
            var $y = $x > $s.clientHeight;
            return $y;
        };
        this.windowRect = function() {
            var $n = document;
            if ($n.compatMode === "CSS1Compat" && $n.documentElement && $n.documentElement.clientWidth) {
                var x = $n.documentElement.clientWidth;
                var y = $n.documentElement.clientHeight;
                return {
                    x: x,
                    y: y
                };
            } else {
                var x = $n.body.clientWidth;
                var y = $n.body.clientHeight;
                return {
                    x: x,
                    y: y
                };
            }
        };
        this.register = function() {
            if (this.registered) {
                return;
            };
            this.re(window, 'resize', this.resize);
            this.re(window, 'scroll', this.resize);
            if (this.dragDrop) {
                this.re(document, 'mousemove', this.drag);
                this.re(document, 'mouseup', this.drop);
            };
            this.registered = true;
        };
        this.drag = function(e) {
            if (!$g.coords) {
                return;
            };
            var e = e || window.event;
            var $z = $g.mc(e);
            var x = $z.x - $g.coords.x;
            var y = $z.y - $g.coords.y;
            $g.div.style.marginLeft = '0px';
            $g.div.style.top = ($g.start.y + y) + "px";
            $g.div.style.left = ($g.start.x + x) + "px";
        };
        this.drop = function(e) {
            if (!$g.coords) {
                return;
            };
            $g.unmaskIframe();
            $g.coords = null;
        };
        this.maskIframe = function() {
            if (!this.useIframe) {
                return;
            };
            var $A = 80;
            var $B = document.createElement("div");
            $B.style.backgroundColor = "#ffffff";
            $B.style.filter = "alpha(opacity=" + $A + ")";
            $B.style.opacity = "0." + $A;
            $B.style.width = "100%";
            $B.style.height = this.height + "px";
            $B.style.position = "absolute";
            $B.style.left = '0px';
            $B.style.top = '0px';
            this.div.appendChild($B);
            this.mask = $B;
        };
        this.unmaskIframe = function() {
            if (!this.useIframe) {
                return;
            };
            this.div.removeChild(this.mask);
            this.mask = null;
        };
        this.resize = function() {
            if (!$g.hideDiv) {
                return;
            };
            if (!$g.div) {
                return;
            };
            if ($g.hideDiv.style.display === 'none') {
                return;
            };
            if ($g.div.style.display === 'none') {
                return;
            };
            var scrollY = window.pageYOffset ? window.pageYOffset : ((document.documentElement && document.documentElement.scrollTop) ? document.documentElement.scrollTop : document.body.scrollTop);
            if (!$g.scrollWithPage) {
                $g.div.style.top = (scrollY + $g.top) + 'px';
            }
        };
        this.re = function(el, ev, $C) {
            if (el.addEventListener) {
                el.addEventListener(ev, $C, false);
            } else if (el.attachEvent) {
                el.attachEvent("on" + ev, $C);
            }
        };
        this.ue = function(el, ev, $C) {
            if (el.removeEventListener) {
                el.removeEventListener(ev, $C, false);
            } else if (el.detachEvent) {
                el.detachEvent("on" + ev, $C);
            }
        };
        this.mc = function(ev) {
            if (ev.pageX || ev.pageY) {
                return {
                    x: ev.pageX,
                    y: ev.pageY
                };
            };
            return {
                x: ev.clientX + document.documentElement.scrollLeft,
                y: ev.clientY + document.documentElement.scrollTop
            };
        };
        this.abs = function(element) {
            var r = {
                x: element.offsetLeft,
                y: element.offsetTop
            };
            while (element.offsetParent) {
                element = element.offsetParent;
                r.x += element.offsetLeft;
                r.y += element.offsetTop;
            };
            return r;
        };
        this.create = function() {
            var $D = document.createElement("div");
            $D.id = this.id + "hide";
            $D.style.position = 'fixed';
            $D.style.left = "0px";
            $D.style.top = "0px";
            $D.style.right = "0px";
            $D.style.bottom = "0px";
            $D.style.backgroundColor = "black";
            $D.style.opacity = 0.50;
            $D.oncontextmenu = function() {
                return false;
            };
            document.body.appendChild($D);
            var $E = document.createElement("div");
            $E.id = this.id + 'popup';
            $E.style.position = 'fixed';
            $E.style.left = '50%';
            $E.style.top = '0px';
            $E.style.backgroundColor = 'white';
            $E.style.width = "50px";
            $E.style.height = "50px";
            if (this.dragDrop) {
                $E.onmousedown = this.dragStart;
            };
            var $F = 50;
            var $G = null;
            if (this.useIframe) {
                $G = document.createElement("iframe");
                $G.id = this.id + "iframe";
                $G.name = this.id + "iframe";
                $G.frameBorder = '0';
                $G.style.width = '100%';
                $G.style.height = $F + 'px';
                $E.appendChild($G);
            };
            document.body.appendChild($E);
            this.div = $E;
            this.iframe = $G;
            this.hideDiv = $D;
        };
        this.dragStart = function(e) {
            $g.maskIframe();
            $g.coords = $g.mc(e || window.event);
            $g.start = {
                x: $g.div.offsetLeft,
                y: $g.div.offsetTop
            };
        };
        this.setInnerHTML = function(id, $j) {
            var $H = window.frames[id];
            var $n = $H.contentWindow || $H.document || $H.contentDocument;
            if ($n.document) {
                $n = $n.document;
            };
            if ($n.body == null) {
                $n.write("<body></body>");
            };
            if ($j.nodeType) {
                $n.body.appendChild($j);
            } else {
                $n.body.innerHTML = $j;
            };
            if ($g.autoStretch) {
                if (!$g.autoStretchFirstLoadOnly || !$g.$W) {
                    $g.stretch();
                    $g.$W = true;
                }
            }
        };
        this.close = function($d) {
            this.result = $d;
            this.hide();
        };
        this.hide = function() {
            if (this.div) {
                this.div.style.display = 'none';
                this.hideDiv.style.display = 'none';
                if (!this.useIframe) {
                    this.div.innerHTML = null;
                }
            };
            DayPilot.ModalStatic.remove(this);
            if (this.onClosed) {
                var $I = {};
                $I.result = this.result;
                this.onClosed($I);
            } else if (this.closed) {
                this.closed();
            }
        };
        this.$X = function() {
            if (!$f) {
                return;
            };
            for (var name in $f) {
                this[name] = $f[name];
            }
        };
        this.$X();
    };
    DayPilot.Modal.alert = function($J, $f) {
        $f = $f || {};
        $f.height = $f.height || 40;
        $f.useIframe = false;
        var $b = new DayPilot.Modal($f);
        var $E = document.createElement("div");
        $E.style.padding = "10px";
        var $K = document.createElement("div");
        $K.innerHTML = $J;
        var $L = document.createElement("div");
        $L.style.margin = "10px 0px";
        var $M = document.createElement("button");
        $M.innerText = "OK";
        $M.onclick = function(e) {
            parent.DayPilot.ModalStatic.close("OK");
        };
        $L.appendChild($M);
        $E.appendChild($K);
        $E.appendChild($L);
        $b.showHtml($E);
        $M.focus();
    };
    DayPilot.Modal.confirm = function($J, $f) {
        $f = $f || {};
        $f.height = $f.height || 40;
        $f.useIframe = false;
        return DayPilot.getPromise(function($N, $O) {
            $f.onClosed = function($I) {
                if (typeof $I.result === "undefined") {
                    $O($I);
                } else {
                    $N($I);
                }
            };
            var $b = new DayPilot.Modal($f);
            var $E = document.createElement("div");
            $E.style.padding = "10px";
            var $K = document.createElement("div");
            $K.innerHTML = $J;
            var $L = document.createElement("div");
            $L.style.margin = "10px 0px";
            var $M = document.createElement("button");
            $M.innerText = "OK";
            $M.onclick = function(e) {
                parent.DayPilot.ModalStatic.close("OK");
            };
            var $P = document.createTextNode(" ");
            var $Q = document.createElement("button");
            $Q.innerText = "Cancel";
            $Q.onclick = function(e) {
                parent.DayPilot.ModalStatic.close();
            };
            $L.appendChild($M);
            $L.appendChild($P);
            $L.appendChild($Q);
            $E.appendChild($K);
            $E.appendChild($L);
            $b.showHtml($E);
            $M.focus();
        });
    };
    DayPilot.Modal.prompt = function($J, $f) {
        $f = $f || {};
        $f.height = $f.height || 40;
        $f.useIframe = false;
        return DayPilot.getPromise(function($N, $O) {
            $f.onClosed = function($I) {
                if (typeof $I.result === "undefined") {
                    $O($I);
                } else {
                    $N($I);
                }
            };
            var $b = new DayPilot.Modal($f);
            var $E = document.createElement("div");
            $E.style.padding = "10px";
            var $K = document.createElement("div");
            $K.innerHTML = $J;
            var $R = document.createElement("div");
            $R.style.margin = "10px 0px";
            var $S = document.createElement("input");
            $S.style.width = "100%";
            $S.onkeydown = function(e) {
                switch (e.keyCode) {
                    case 13:
                        parent.DayPilot.ModalStatic.close(this.value);
                        break;
                    case 27:
                        parent.DayPilot.ModalStatic.close();
                        break;
                }
            };
            $R.appendChild($S);
            var $L = document.createElement("div");
            $L.style.margin = "10px 0px";
            var $M = document.createElement("button");
            $M.innerText = "OK";
            $M.onclick = function(e) {
                parent.DayPilot.ModalStatic.close($S.value);
            };
            var $P = document.createTextNode(" ");
            var $Q = document.createElement("button");
            $Q.innerText = "Cancel";
            $Q.onclick = function(e) {
                parent.DayPilot.ModalStatic.close();
            };
            $L.appendChild($M);
            $L.appendChild($P);
            $L.appendChild($Q);
            $E.appendChild($K);
            $E.appendChild($R);
            $E.appendChild($L);
            $b.showHtml($E);
            $S.focus();
        });
    };
    DayPilot.Modal.close = function($d) {
        if (parent && parent.DayPilot && parent.DayPilot.ModalStatic) {
            parent.DayPilot.ModalStatic.close($d);
        } else {
            throw "Unable to close DayPilot.Modal dialog.";
        }
    };
    DayPilot.Modal.opener = function() {
        return parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1];
    };
    if (typeof DayPilot.getPromise === "undefined") {
        DayPilot.getPromise = function(f) {
            if (typeof $T !== 'undefined') {
                return new $T(f);
            };
            DayPilot.Promise = function(f) {
                var p = this;
                this.then = function($U, $V) {
                    $U = $U || function() {};
                    $V = $V || function() {};
                    f($U, $V);
                    return DayPilot.getPromise(f);
                };
                this['catch'] = function($V) {
                    p.then(null, $V);
                    return DayPilot.getPromise(f);
                };
            };
            return new DayPilot.Promise(f);
        };
    }
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMonth === 'undefined') {
    var DayPilotMonth = DayPilot.MonthVisible = {};
};
(function() {
    var $a = function() {};
    if (typeof DayPilot.Month !== 'undefined') {
        return;
    };
    var DayPilotMonth = {};
    DayPilot.Month = function(id, $b) {
        this.v = '2130';
        this.nav = {};
        var $c = this;
        this.id = id;
        this.isMonth = true;
        this.api = 2;
        this.$24 = false;
        this.hideUntilInit = true;
        this.startDate = new DayPilot.Date();
        this.width = null;
        this.cssClassPrefix = "month_default";
        this.cellHeight = 100;
        this.cellMarginBottom = 0;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.doubleClickTimeout = 300;
        this.eventFontColor = "#000000";
        this.eventFontFamily = "Tahoma";
        this.eventFontSize = "11px";
        this.headerBackColor = '#ECE9D8';
        this.headerFontColor = '#000000';
        this.headerFontFamily = "Tahoma";
        this.headerFontSize = "10pt";
        this.headerHeight = 20;
        this.heightSpec = "Auto";
        this.weekStarts = 0;
        this.innerBorderColor = '#cccccc';
        this.borderColor = 'black';
        this.eventHeight = 25;
        this.cellHeaderHeight = 16;
        this.numberFormat = "0.00";
        this.clientState = {};
        this.afterRender = function() {};
        this.backColor = '#FFFFD5';
        this.nonBusinessBackColor = '#FFF4BC';
        this.cellHeaderBackColor = '';
        this.cellHeaderFontColor = '#000000';
        this.cellHeaderFontFamily = 'Tahoma';
        this.cellHeaderFontSize = '10pt';
        this.cssOnly = true;
        this.eventBackColor = 'White';
        this.eventBorderColor = 'Black';
        this.eventCorners = "Regular";
        this.eventFontColor = '#000000';
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '11px';
        this.cellWidth = 14.285;
        this.lineSpace = 1;
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.notifyCommit = 'Immediate';
        this.visible = true;
        this.eventMoveToPosition = false;
        this.eventTextLayer = 'Top';
        this.eventStartTime = false;
        this.eventEndTime = false;
        this.eventStartEndWidth = 60;
        this.eventTextAlignment = null;
        this.eventTextLeftIndent = 20;
        this.showWeekend = true;
        this.cellMode = false;
        this.shadowType = "Fill";
        this.tapAndHoldTimeout = 300;
        this.timeFormat = "Auto";
        this.eventTimeFontColor = 'gray';
        this.eventTimeFontFamily = 'Tahoma';
        this.eventTimeFontSize = '8pt';
        this.viewType = 'Month';
        this.weeks = 1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventDoubleClickHandling = 'Enabled';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.headerClickHandling = "Enabled";
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = 'Enabled';
        this.backendUrl = null;
        this.cellEvents = [];
        this.elements = {};
        this.elements.events = [];
        this.$25 = {};
        this.$25.events = {};
        this.events = {};
        this.$26 = 0;
        this.members = {};
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties"];
        this.$27 = function($d, $e) {
            var $d = DayPilot.Util.parseJSON($d);
            if ($d.BubbleGuid) {
                var $f = $d.BubbleGuid;
                var $g = this.bubbles[$f];
                delete this.bubbles[$f];
                $c.$28();
                if (typeof $d.Result.BubbleHTML !== 'undefined') {
                    $g.updateView($d.Result.BubbleHTML, $g);
                };
                return;
            };
            if ($d.CallBackRedirect) {
                document.location.href = $d.CallBackRedirect;
                return;
            };
            if (typeof $d.ClientState !== 'undefined') {
                $c.clientState = $d.ClientState;
            };
            if ($d.UpdateType === "None") {
                $c.$29($d.CallBackData, true);
                if ($d.Message) {
                    $c.message($d.Message);
                };
                return;
            };
            if ($d.VsUpdate) {
                var $h = document.createElement("input");
                $h.type = 'hidden';
                $h.name = $c.id + "_vsupdate";
                $h.id = $h.name;
                $h.value = $d.VsUpdate;
                $c.$2a.innerHTML = '';
                $c.$2a.appendChild($h);
            };
            $c.events.list = $d.Events;
            if (typeof $d.TagFields !== 'undefined') {
                $c.tagFields = $d.TagFields;
            };
            if (typeof $d.SortDirections !== 'undefined') {
                $c.sortDirections = $d.SortDirections;
            };
            if ($d.UpdateType === "Full") {
                $c.cellProperties = $d.CellProperties;
                $c.headerProperties = $d.HeaderProperties;
                $c.startDate = $d.StartDate;
                if (typeof $d.ShowWeekend !== 'undefined') {
                    $c.showWeekend = $d.ShowWeekend;
                };
                $c.headerBackColor = $d.HeaderBackColor ? $d.HeaderBackColor : $c.headerBackColor;
                $c.backColor = $d.BackColor ? $d.BackColor : $c.backColor;
                $c.nonBusinessBackColor = $d.NonBusinessBackColor ? $d.NonBusinessBackColor : $c.nonBusinessBackColor;
                $c.locale = $d.Locale ? $d.Locale : $c.locale;
                $c.timeFormat = $d.TimeFormat ? $d.TimeFormat : $c.timeFormat;
                if (typeof $d.WeekStarts !== 'undefined') {
                    $c.weekStarts = $d.WeekStarts;
                };
                $c.hashes = $d.Hashes;
            };
            $c.multiselect.clear(true);
            $c.multiselect.initList = $d.SelectedEvents;
            $c.$2b();
            $c.$2c();
            $c.$2d();
            if ($d.UpdateType === "Full") {
                $c.$2e();
                $c.$2f();
            };
            $c.$2g();
            $c.$2h();
            $c.$2i();
            $c.$29($d.CallBackData, true);
            $c.$2j();
            if ($d.Message) {
                $c.message($d.Message);
            }
        };
        this.$29 = function($i, $j) {
            var $k = function($i, $l) {
                return function() {
                    if ($c.$2k()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $m = {};
                            $m.isCallBack = $l;
                            $m.data = $i;
                            $c.onAfterRender($m);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($i, $l);
                        }
                    }
                };
            };
            window.setTimeout($k($i, $j), 0);
        };
        this.$2k = function() {
            return $c.api === 2;
        };
        this.$2l = function($n) {
            var $o = this.theme || this.cssClassPrefix;
            if ($o) {
                return $o + $n;
            } else {
                return "";
            }
        };
        this.$2d = function() {
            if (!this.events.list) {
                return;
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var length = this.events.list.length;
                for (var i = 0; i < length; i++) {
                    this.$2m(i);
                }
            };
            if (this.cellMode) {
                this.$2n();
            } else {
                this.$2o();
            }
        };
        this.$28 = function() {};
        this.$2o = function() {
            if (!this.events.list) {
                return;
            };
            for (var x = 0; x < this.events.list.length; x++) {
                var e = this.events.list[x];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.end);
                if (e.start.getTime() > e.end.getTime()) {
                    continue;
                };
                for (var i = 0; i < this.rows.length; i++) {
                    var $p = this.rows[i];
                    if ($p.belongsHere(e)) {
                        var ep = new DayPilot.Event(e, $c);
                        $p.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$25.events[x];
                        }
                    }
                }
            };
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $p = this.rows[ri];
                $p.events.sort(this.$2p);
                for (var ei = 0; ei < this.rows[ri].events.length; ei++) {
                    var ev = $p.events[ei];
                    var $q = $p.getStartColumn(ev);
                    var $r = $p.getWidth(ev);
                    $p.putIntoLine(ev, $q, $r, ri);
                }
            }
        };
        this.$2n = function() {
            this.cellEvents = [];
            for (var x = 0; x < this.$2q(); x++) {
                this.cellEvents[x] = [];
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = {};
                    var d = this.firstDate.addDays(y * 7 + x);
                    $s.start = d;
                    $s.end = d.addDays(1);
                    $s.events = [];
                    this.cellEvents[x][y] = $s;
                }
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.start);
                if (e.start.getTime() > e.end.getTime()) {
                    continue;
                };
                for (var x = 0; x < this.$2q(); x++) {
                    for (var y = 0; y < this.rows.length; y++) {
                        var $s = this.cellEvents[x][y];
                        if (e.start.getTime() >= $s.start.getTime() && e.start.getTime() < $s.end.getTime()) {
                            var ep = new DayPilot.Event(e, $c);
                            $s.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function') {
                                ep.cache = this.$25.events[i];
                            }
                        }
                    }
                }
            };
            for (var x = 0; x < this.$2q(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = this.cellEvents[x][y];
                    $s.events.sort(this.$2p);
                }
            }
        };
        this.$2b = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var e = this.elements.events[i];
                e.event = null;
                e.click = null;
                e.parentNode.removeChild(e);
            };
            this.elements.events = [];
        };
        this.$2i = function() {
            this.$25.events = {};
            if (this.cellMode) {
                this.$2r();
            } else {
                this.$2s();
            };
            this.multiselect.redraw();
        };
        this.$2r = function() {
            this.elements.events = [];
            for (var x = 0; x < this.$2q(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = this.cellEvents[x][y];
                    var $t = this.cells[x][y];
                    for (var i = 0; i < $s.events.length; i++) {
                        var ep = $s.events[i];
                        ep.part.colStart = x;
                        ep.part.colWidth = 1;
                        ep.part.row = y;
                        ep.part.line = i;
                        ep.part.startsHere = true;
                        ep.part.endsHere = true;
                        this.$2t(ep);
                    }
                }
            }
        };
        this.$2s = function() {
            this.elements.events = [];
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $p = this.rows[ri];
                for (var li = 0; li < $p.lines.length; li++) {
                    var $u = $p.lines[li];
                    for (var pi = 0; pi < $u.length; pi++) {
                        this.$2t($u[pi]);
                    }
                }
            }
        };
        this.$2u = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $v = a.start().ticks - b.start().ticks;
            if ($v !== 0) {
                return $v;
            };
            var $w = b.end().ticks - a.end().ticks;
            return $w;
        };
        this.$2p = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$2u(a, b);
            };
            var $d = 0;
            var i = 0;
            while ($d === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $d = 0;
                } else {
                    $d = $c.$2v(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $d;
        };
        this.$2v = function(a, b, $x) {
            var $y = ($x !== "desc");
            var $z = $y ? -1 : 1;
            var $A = -$z;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $A;
            };
            if (a === null) {
                return $z;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $z : $A;
        };
        this.$2w = function(x, y, $u, $B, $C, e) {
            if (!$C) {
                $C = 0;
            };
            var $D = $B;
            this.shadow = {};
            this.shadow.list = [];
            this.shadow.start = {
                x: x,
                y: y
            };
            this.shadow.width = $B;
            if (this.eventMoveToPosition) {
                $D = 1;
                this.shadow.position = $u;
            };
            var $E = y * 7 + x - $C;
            if ($E < 0) {
                $D += $E;
                x = 0;
                y = 0;
            };
            var $F = $C;
            while ($F >= 7) {
                y--;
                $F -= 7;
            };
            if ($F > x) {
                var $G = 7 - this.$2q();
                if ($F > (x + $G)) {
                    y--;
                    x = x + 7 - $F;
                } else {
                    $D = $D - $F + x;
                    x = 0;
                }
            } else {
                x -= $F;
            };
            if (y < 0) {
                y = 0;
                x = 0;
            };
            var $H = null;
            if (DayPilotMonth.resizingEvent) {
                $H = 'w-resize';
            } else if (DayPilotMonth.movingEvent) {
                $H = "move";
            };
            this.nav.top.style.cursor = $H;
            while ($D > 0 && y < this.rows.length) {
                var $I = Math.min(this.$2q() - x, $D);
                var $p = this.rows[y];
                var top = this.$2x(y);
                var $J = $p.getHeight();
                if (this.eventMoveToPosition) {
                    top = this.$2y(y, $u);
                    $J = 2;
                };
                var $K = document.createElement("div");
                $K.setAttribute("unselectable", "on");
                $K.style.position = 'absolute';
                $K.style.left = (this.$2z() * x) + '%';
                $K.style.width = (this.$2z() * $I) + '%';
                $K.style.top = (top) + 'px';
                $K.style.height = ($J) + 'px';
                $K.style.cursor = $H;
                var $L = document.createElement("div");
                $L.setAttribute("unselectable", "on");
                $K.appendChild($L);
                if (this.cssOnly) {
                    $K.className = this.$2l("_shadow");
                    $L.className = this.$2l("_shadow_inner");
                };
                if (!this.cssOnly) {
                    $L.style.position = "absolute";
                    $L.style.top = "0px";
                    $L.style.right = "0px";
                    $L.style.left = "0px";
                    $L.style.bottom = "0px";
                    if (this.shadowType === 'Fill') {
                        $L.style.backgroundColor = "#aaaaaa";
                        $L.style.opacity = 0.5;
                        $L.style.filter = "alpha(opacity=50)";
                        if (e && e.event) {
                            $L.style.overflow = 'hidden';
                            $L.style.fontSize = this.eventFontSize;
                            $L.style.fontFamily = this.eventFontFamily;
                            $L.style.color = this.eventFontColor;
                            $L.innerHTML = e.event.client.innerHTML() ? e.event.client.innerHTML() : e.event.text();
                        }
                    } else {
                        $L.style.border = '2px dotted #666666';
                    }
                };
                var $M = this.nav.events;
                $M.appendChild($K);
                this.shadow.list.push($K);
                $D -= ($I + 7 - this.$2q());
                x = 0;
                y++;
            }
        };
        this.$2A = function() {
            if (this.shadow) {
                var $M = this.nav.events;
                DayPilot.de(this.shadow.list);
                this.shadow = null;
                this.nav.top.style.cursor = '';
            }
        };
        this.$2y = function($p, $u) {
            var top = 0;
            for (var i = 0; i < $p; i++) {
                top += this.rows[i].getHeight();
            };
            top += this.cellHeaderHeight;
            top += $u * $N.lineHeight();
            return top;
        };
        this.$2B = function(x, y) {
            return this.firstDate.addDays(y * 7 + x);
        };
        this.$2m = function(i) {
            var $O = this.$25.events;
            var $i = this.events.list[i];
            var $P = {};
            for (var name in $i) {
                $P[name] = $i[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $m = {};
                $m.e = $P;
                $m.data = $P;
                this.onBeforeEventRender($m);
            };
            $O[i] = $P;
        };
        this.$2t = function(ep, $Q) {
            var $Q = this.cellMode;
            var $p = ep.part.row;
            var $u = ep.part.line;
            var $q = ep.part.colStart;
            var $r = ep.part.colWidth;
            var $O = ep.cache || ep.data;
            var $R = $Q ? 0 : this.$2z() * ($q);
            var $B = $Q ? 100 : this.$2z() * ($r);
            var top = $Q ? $u * $N.lineHeight() : this.$2y($p, $u);
            var e = document.createElement("div");
            e.setAttribute("unselectable", "on");
            e.style.height = $N.eventHeight() + 'px';
            if (!this.cssOnly) {
                e.style.fontFamily = this.eventFontFamily;
            } else {
                e.style.position = "relative";
                e.style.overflow = "hidden";
                e.className = this.$2l("_event");
            };
            if ($O.cssClass) {
                DayPilot.Util.addClass(e, $O.cssClass);
            };
            e.event = ep;
            if ($Q) {
                e.style.marginRight = "2px";
                e.style.marginBottom = "2px";
            } else {
                e.style.width = $B + '%';
                e.style.position = 'absolute';
                e.style.left = $R + '%';
                e.style.top = top + 'px';
            };
            if (this.showToolTip && $O.toolTip && !this.bubble) {
                e.title = $O.toolTip;
            };
            e.onclick = this.$2C;;
            e.ondblclick = this.$2D;
            e.oncontextmenu = this.$2E;
            e.onmousedown = this.$2F;
            e.onmousemove = this.$2G;
            e.onmouseout = this.$2H;
            e.ontouchstart = $S.onEventTouchStart;
            e.ontouchmove = $S.onEventTouchMove;
            e.ontouchend = $S.onEventTouchEnd;
            if (!ep.part.startsHere) {
                DayPilot.Util.addClass(e, this.$2l("_event_continueleft"));
            };
            if (!ep.part.endsHere) {
                DayPilot.Util.addClass(e, this.$2l("_event_continueright"));
            };
            var $T = document.createElement("div");
            $T.setAttribute("unselectable", "on");
            $T.className = this.$2l("_event_inner");
            if (ep.client.innerHTML()) {
                $T.innerHTML = ep.client.innerHTML();
            } else {
                $T.innerHTML = ep.text();
            };
            if ($O.backColor) {
                $T.style.background = $O.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $T.style.filter = '';
                }
            };
            e.appendChild($T);
            if (this.eventTextAlignment) {
                $T.style.textAlign = this.eventTextAlignment.toLowerCase();
            };
            var $U = this.$2I.locale();
            var $V = $c.eventStartEndWidth;
            if (this.eventStartTime) {
                var $W = ($c.$2I.timeFormat() === 'Clock12Hours') ? ep.start().toString("h tt", $U) : ep.start().toString("H", $U);
                var $X = {
                    "left": 5,
                    "top": 3,
                    "width": $V,
                    "bottom": 2,
                    "v": "Visible",
                    "html": $W,
                    "css": $c.$2l("_event_timeleft")
                };
                var a = DayPilot.Areas.createArea(e, ep, $X);
                e.appendChild(a);
                $T.style.paddingLeft = $V + "px";
            };
            if (this.eventEndTime) {
                var $W = ($c.$2I.timeFormat() === 'Clock12Hours') ? ep.end().toString("h tt", $U) : ep.end().toString("H", $U);
                var $X = {
                    "right": 5,
                    "top": 3,
                    "width": $V,
                    "bottom": 2,
                    "v": "Visible",
                    "html": $W,
                    "css": $c.$2l("_event_timeright")
                };
                var a = DayPilot.Areas.createArea(e, ep, $X);
                e.appendChild(a);
                $T.style.paddingRight = $V + "px";
            };
            if ($O.areas) {
                var $Y = $O.areas;
                for (var i = 0; i < $Y.length; i++) {
                    var $X = $Y[i];
                    if ($X.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea(e, ep, $X);
                    e.appendChild(a);
                }
            };
            this.elements.events.push(e);
            if ($Q) {
                this.cells[$q][$p].body.appendChild(e);
            } else {
                this.nav.events.appendChild(e);
            };
            if ($c.multiselect.$2J(e.event)) {
                $c.multiselect.add(e.event, true);
            };
            var $t = e;
            if ($c.$2k()) {
                if (typeof $c.onAfterEventRender === 'function') {
                    var $m = {};
                    $m.e = $t.event;
                    $m.div = $t;
                    $c.onAfterEventRender($m);
                }
            } else {
                if ($c.afterEventRender) {
                    $c.afterEventRender($t.event, $t);
                }
            }
        };
        this.$2C = function(ev) {
            if ($S.start) {
                return;
            };
            $c.$2K(this, ev);
        };
        this.$2D = function(ev) {
            $c.$2L(this, ev);
        };
        this.$2G = function(ev) {
            var e = this;
            var ep = e.event;
            if (typeof(DayPilotMonth) === 'undefined') {
                return;
            };
            if (DayPilotMonth.movingEvent || DayPilotMonth.resizingEvent) {
                return;
            };
            var $C = DayPilot.mo3(e, ev);
            if (!$C) {
                return;
            };
            (function() {
                var $t = e;
                if (!$t.active) {
                    var $Y = [];
                    if ($c.eventDeleteHandling !== "Disabled") {
                        $Y.push({
                            "action": "JavaScript",
                            "v": "Hover",
                            "w": 17,
                            "h": 17,
                            "top": 2,
                            "right": 2,
                            "css": $c.$2l("_event_delete"),
                            "js": function(e) {
                                $c.$2M(e);
                            }
                        });
                    };
                    var $Z = $t.event.cache ? $t.event.cache.areas : $t.event.data.areas;
                    if ($Z && $Z.length > 0) {
                        $Y = $Y.concat($Z);
                    };
                    DayPilot.Areas.showAreas($t, $t.event, null, $Y);
                }
            })();
            if ($c.cssOnly) {
                $c.$2N(e.event).each(function($t) {
                    DayPilot.Util.addClass($t, $c.$2l("_event_hover"));
                });
            };
            var $00 = 6;
            if (!$c.cellMode && $C.x <= $00 && ep.client.resizeEnabled()) {
                if (ep.part.startsHere) {
                    e.style.cursor = "w-resize";
                    e.dpBorder = 'left';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else if (!$c.cellMode && e.clientWidth - $C.x <= $00 && ep.client.resizeEnabled()) {
                if (ep.part.endsHere) {
                    e.style.cursor = "e-resize";
                    e.dpBorder = 'right';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else {
                e.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (!DayPilotMonth.movingEvent && !DayPilotMonth.resizingEvent) {
                    var $01 = this.$2O && $C.x === this.$2O.x && $C.y === this.$2O.y;
                    if (!$01) {
                        this.$2O = $C;
                        $c.bubble.showEvent(e.event);
                    }
                } else {
                    DayPilotBubble.hideActive();
                }
            }
        };
        this.$2H = function(ev) {
            var e = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            e.style.cursor = '';
            if ($c.cssOnly) {
                $c.$2N(e.event).each(function($t) {
                    DayPilot.Util.removeClass($t, $c.$2l("_event_hover"));
                });
            };
            DayPilot.Areas.hideAreas(e, ev);
        };
        this.$2E = function() {
            var e = this;
            $c.$2P(e.event);
            return false;
        };
        this.$2F = function(ev) {
            if ($S.start) {
                return;
            };
            var e = this;
            var ep = e.event;
            var $p = ep.part.row;
            var $q = ep.part.colStart;
            var $u = ep.part.line;
            var $r = ep.part.colWidth;
            ev = ev || window.event;
            var $02 = DayPilot.Util.mouseButton(ev);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            if ($02.left) {
                if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                    DayPilotBubble.hideActive();
                };
                DayPilotMonth.movingEvent = null;
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    var $03 = {};
                    $03.start = {};
                    $03.start.x = $q;
                    $03.start.y = $p;
                    $03.event = e.event;
                    $03.width = DayPilot.DateUtil.daysSpan($03.event.start(), $03.event.end()) + 1;
                    $03.direction = this.style.cursor;
                    DayPilotMonth.resizingEvent = $03;
                } else if (this.style.cursor === 'move' || ep.client.moveEnabled()) {
                    $c.$2A();
                    var $04 = DayPilot.mo3($c.nav.events, ev);
                    if (!$04) {
                        return;
                    };
                    var $s = $c.$2Q($04.x, $04.y);
                    if (!$s) {
                        return;
                    };
                    var $E = DayPilot.DateUtil.daysDiff(ep.start(), $c.rows[$p].start);
                    var $C = ($s.y * 7 + $s.x) - ($p * 7 + $q);
                    if ($E) {
                        $C += $E;
                    };
                    var $05 = {};
                    $05.start = {};
                    $05.start.x = $q;
                    $05.start.y = $p;
                    $05.start.line = $u;
                    $05.offset = $c.eventMoveToPosition ? 0 : $C;
                    $05.colWidth = $r;
                    $05.event = e.event;
                    $05.coords = $04;
                    DayPilotMonth.movingEvent = $05;
                }
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            if (!$c.coords) {
                return null;
            };
            var $s = $c.$2Q($c.coords.x, $c.coords.y);
            if (!$s) {
                return null;
            };
            var d = new DayPilot.Date($c.$2B($s.x, $s.y));
            var $s = {};
            $s.start = d;
            $s.end = d.addDays(1);
            return $s;
        };
        this.$2R = {};
        var $S = $c.$2R;
        $S.active = false;
        $S.start = false;
        $S.timeouts = [];
        $S.onEventTouchStart = function(ev) {
            if ($S.active || $S.start) {
                return;
            };
            $S.clearTimeouts();
            $S.start = true;
            $S.active = false;
            var $t = this;
            var e = $t.event;
            if (e.client.moveEnabled()) {
                var $06 = $c.tapAndHoldTimeout;
                $S.timeouts.push(window.setTimeout(function() {
                    $S.active = true;
                    $S.start = false;
                    var $04 = $S.relativeCoords(ev);
                    $S.startMoving($t, $04);
                    ev.preventDefault();
                }, $06));
            };
            ev.stopPropagation();
        };
        $S.onEventTouchMove = function(ev) {
            $S.clearTimeouts();
            $S.start = false;
        };
        $S.onEventTouchEnd = function(ev) {
            $S.clearTimeouts();
            if ($S.start) {
                $c.$2S(this, ev);
            };
            window.setTimeout(function() {
                $S.start = false;
                $S.active = false;
            }, 500);
        };
        $S.onMainTouchStart = function(ev) {
            if ($S.active || $S.start) {
                return;
            };
            $S.clearTimeouts();
            $S.start = true;
            $S.active = false;
            var $06 = $c.tapAndHoldTimeout;
            $S.timeouts.push(window.setTimeout(function() {
                $S.active = true;
                $S.start = false;
                ev.preventDefault();
                var $04 = $S.relativeCoords(ev);
                $S.startRange($04);
            }, $06));
        };
        $S.onMainTouchMove = function(ev) {
            $S.clearTimeouts();
            $S.start = false;
            if ($S.active) {
                ev.preventDefault();
                var $04 = $S.relativeCoords(ev);
                if ($S.moving) {
                    $S.updateMoving($04);
                    return;
                };
                if ($S.range) {
                    $S.updateRange($04);
                }
            }
        };
        $S.onMainTouchEnd = function(ev) {
            $S.clearTimeouts();
            if ($S.active) {
                if ($S.moving) {
                    var $07 = $S.moving;
                    var e = $S.moving.event;
                    var $08 = $c.shadow.start;
                    var $09 = $c.shadow.position;
                    var $C = $S.moving.offset;
                    $c.$2A();
                    $S.moving = null;
                    $c.$2T(e, $08.x, $08.y, $C, ev, $09);
                };
                if ($S.range) {
                    var $0a = $S.range;
                    var $08 = new DayPilot.Date($c.$2B($0a.from.x, $0a.from.y));
                    var end = $08.addDays($0a.width);
                    $S.range = null;
                    $c.$2U($08, end);
                }
            };
            window.setTimeout(function() {
                $S.start = false;
                $S.active = false;
            }, 500);
        };
        $S.clearTimeouts = function() {
            for (var i = 0; i < $S.timeouts.length; i++) {
                clearTimeout($S.timeouts[i]);
            };
            $S.timeouts = [];
        };
        $S.relativeCoords = function(ev) {
            var $M = $c.nav.events;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $04 = {
                x: x,
                y: y
            };
            var $0b = DayPilot.abs($M);
            var $04 = {
                x: x - $0b.x,
                y: y - $0b.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $04;
        };
        $S.startMoving = function($t, $04) {
            $c.$2A();
            var ep = $t.event;
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            var $E = DayPilot.DateUtil.daysDiff(ep.start(), $c.rows[ep.part.row].start);
            var $C = ($s.y * 7 + $s.x) - (ep.part.row * 7 + ep.part.colStart);
            if ($E) {
                $C += $E;
            };
            var $05 = {};
            $05.start = {};
            $05.start.x = ep.part.colStart;
            $05.start.y = ep.part.row;
            $05.start.line = ep.part.line;
            $05.offset = $c.eventMoveToPosition ? 0 : $C;
            $05.colWidth = ep.part.colWidth;
            $05.event = ep;
            $05.coords = $04;
            $S.moving = $05;
            $S.updateMoving($04);
        };
        $S.updateMoving = function($04) {
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            var $0c = $c.$2V($s);
            $c.$2A();
            var event = $S.moving.event;
            var $C = $S.moving.offset;
            var $B = $c.cellMode ? 1 : DayPilot.DateUtil.daysSpan(event.start(), event.end()) + 1;
            if ($B < 1) {
                $B = 1;
            };
            $c.$2w($s.x, $s.y, $0c, $B, $C, event);
        };
        $S.startRange = function($04) {
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            $c.$2A();
            var $0d = {};
            $0d.start = {};
            $0d.start.x = $s.x;
            $0d.start.y = $s.y;
            $0d.x = $s.x;
            $0d.y = $s.y;
            $0d.width = 1;
            $S.range = $0d;
            $S.updateRange($04);
        };
        $S.updateRange = function($04) {
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            $c.$2A();
            var $08 = $S.range.start;
            var $0e = $08.y * 7 + $08.x;
            var $0f = $s.y * 7 + $s.x;
            var $B = Math.abs($0f - $0e) + 1;
            if ($B < 1) {
                $B = 1;
            };
            var $0g = $0e < $0f ? $08 : $s;
            $S.range.width = $B;
            $S.range.from = {
                x: $0g.x,
                y: $0g.y
            };
            $c.$2w($0g.x, $0g.y, 0, $B, 0, null);
        };
        this.isWeekend = function($0h) {
            var $0i = 0;
            var $0j = 6;
            if ($0h.dayOfWeek() === $0i) {
                return true;
            };
            if ($0h.dayOfWeek() === $0j) {
                return true;
            };
            return false;
        };
        this.$2W = function() {
            var $0k = this.startDate.lastDayOfMonth();
            if (this.showWeekend) {
                return $0k;
            }
            while (this.isWeekend($0k)) {
                $0k = $0k.addDays(-1);
            };
            return $0k;
        };
        this.$2c = function() {
            if (typeof this.startDate === 'string') {
                this.startDate = new DayPilot.Date(this.startDate);
            };
            if (this.viewType === 'Month') {
                this.startDate = this.startDate.firstDayOfMonth();
            } else {
                this.startDate = this.startDate.getDatePart();
            };
            this.firstDate = this.startDate.firstDayOfWeek($N.weekStarts());
            if (!this.showWeekend) {
                var $0l = this.startDate.addMonths(-1).getMonth();
                var $0m = new DayPilot.Date(this.firstDate).addDays(6);
                while (this.isWeekend($0m)) {
                    $0m = $0m.addDays(-1);
                };
                if ($0m.getMonth() === $0l) {
                    this.firstDate = this.firstDate.addDays(7);
                }
            };
            var $0n = this.startDate;
            var $0o;
            if (this.viewType === 'Month') {
                var $0p = this.$2W();
                var $0q = DayPilot.DateUtil.daysDiff(this.firstDate, $0p) + 1;
                $0o = Math.ceil($0q / 7);
            } else {
                $0o = this.weeks;
            };
            this.days = $0o * 7;
            this.rows = [];
            for (var x = 0; x < $0o; x++) {
                var r = {};
                r.start = this.firstDate.addDays(x * 7);
                r.end = r.start.addDays(this.$2q());
                r.events = [];
                r.lines = [];
                r.index = x;
                r.minHeight = this.cellHeight;
                r.calendar = this;
                r.belongsHere = function(ev) {
                    if (ev.end.getTime() === ev.start.getTime() && ev.start.getTime() === this.start.getTime()) {
                        return true;
                    };
                    return !(ev.end.getTime() <= this.start.getTime() || ev.start.getTime() >= this.end.getTime());
                };
                r.getPartStart = function(ep) {
                    return DayPilot.DateUtil.max(this.start, ep.start());
                };
                r.getPartEnd = function(ep) {
                    return DayPilot.DateUtil.min(this.end, ep.end());
                };
                r.getStartColumn = function(ep) {
                    var $0r = this.getPartStart(ep);
                    return DayPilot.DateUtil.daysDiff(this.start, $0r);
                };
                r.getWidth = function(ep) {
                    return DayPilot.DateUtil.daysSpan(this.getPartStart(ep), this.getPartEnd(ep)) + 1;
                };
                r.putIntoLine = function(ep, $q, $r, $p) {
                    var $0s = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $u = this.lines[i];
                        if ($u.isFree($q, $r)) {
                            $u.addEvent(ep, $q, $r, $p, i);
                            return i;
                        }
                    };
                    var $u = [];
                    $u.isFree = function($q, $r) {
                        var $0t = true;
                        for (var i = 0; i < this.length; i++) {
                            var ep = this[i];
                            if (!($q + $r - 1 < ep.part.colStart || $q > ep.part.colStart + ep.part.colWidth - 1)) {
                                $0t = false;
                            }
                        };
                        return $0t;
                    };
                    $u.addEvent = function(ep, $q, $r, $p, $0u) {
                        ep.part.colStart = $q;
                        ep.part.colWidth = $r;
                        ep.part.row = $p;
                        ep.part.line = $0u;
                        ep.part.startsHere = $0s.start.getTime() <= ep.start().getTime();
                        ep.part.endsHere = $0s.end.getTime() >= ep.end().getTime();
                        this.push(ep);
                    };
                    $u.addEvent(ep, $q, $r, $p, this.lines.length);
                    this.lines.push($u);
                    return this.lines.length - 1;
                };
                r.getStart = function() {
                    var $08 = 0;
                    for (var i = 0; i < $c.rows.length && i < this.index; i++) {
                        $08 += $c.rows[i].getHeight();
                    }
                };
                r.getHeight = function() {
                    return Math.max(this.lines.length * $N.lineHeight() + $c.cellHeaderHeight + $c.cellMarginBottom, this.calendar.cellHeight);
                };
                this.rows.push(r);
            };
            this.$2X = this.firstDate.addDays($0o * 7);
        };
        this.$2Y = function() {
            switch (this.heightSpec) {
                case "Auto":
                    var $J = $N.headerHeight();
                    for (var i = 0; i < this.rows.length; i++) {
                        $J += this.rows[i].getHeight();
                    };
                    return $J;
                case "Fixed":
                    return this.height;
            }
        };
        this.$2Z = function($08, end) {
            var $0v = (end.y * 7 + end.x) - ($08.y * 7 + $08.x);
            return $0v + 1;
        };
        this.$30 = {};
        this.$30.scope = null;
        this.$30.notify = function() {
            if ($c.$30.scope) {
                $c.$30.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$31 = function() {
            var $0w = this.nav.top;
            this.nav.top.dp = this;
            $0w.setAttribute("unselectable", "on");
            $0w.style.MozUserSelect = 'none';
            $0w.style.KhtmlUserSelect = 'none';
            $0w.style.WebkitUserSelect = 'none';
            $0w.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            $0w.style.WebkitTouchCallout = "none";
            $0w.style.position = 'relative';
            if (this.width) {
                $0w.style.width = this.width;
            };
            $0w.onselectstart = function(e) {
                return false;
            };
            if (this.cssOnly) {
                $0w.className = this.$2l("_main");
            } else {
                $0w.style.border = "1px solid " + this.borderColor;
            };
            if (this.hideUntilInit) {
                $0w.style.visibility = 'hidden';
            };
            if (!this.visible) {
                $0w.style.display = "none";
            };
            $0w.onmousemove = this.$32;
            $0w.ontouchstart = $S.onMainTouchStart;
            $0w.ontouchmove = $S.onMainTouchMove;
            $0w.ontouchend = $S.onMainTouchEnd;
            this.$2a = document.createElement("div");
            this.$2a.style.display = 'none';
            this.nav.top.appendChild(this.$2a);
            var $0x = document.createElement("div");
            $0x.style.position = "relative";
            $0x.style.height = $N.headerHeight() + "px";
            $0x.oncontextmenu = function() {
                return false;
            };
            this.nav.top.appendChild($0x);
            this.nav.header = $0x;
            var $0y = document.createElement("div");
            $0y.style.zoom = "1";
            var $0z = document.createElement("div");
            $0z.style.position = "relative";
            $0y.appendChild($0z);
            this.nav.top.appendChild($0y);
            this.nav.scrollable = $0y;
            this.nav.events = $0z;
        };
        this.$32 = function(ev) {
            $c.coords = DayPilot.mo3($c.nav.events, ev);
            var $04 = $c.coords;
            if (!$04) {
                return;
            };
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            if (DayPilotMonth.resizingEvent) {
                $c.$2A();
                var $03 = DayPilotMonth.resizingEvent;
                var $0A = $03.start;
                var $B, $08;
                if ($03.direction === 'w-resize') {
                    $08 = $s;
                    var $0B = $03.event.end();
                    if ($0B.getDatePart().getTime() === $0B.getTime()) {
                        $0B = $0B.addDays(-1);
                    };
                    var end = $c.$33($0B);
                    $B = $c.$2Z($s, end);
                } else {
                    $08 = $c.$33($03.event.start());
                    $B = $c.$2Z($08, $s);
                };
                if ($B < 1) {
                    $B = 1;
                };
                $c.$2w($08.x, $08.y, 0, $B);
            } else if (DayPilotMonth.movingEvent) {
                $c.debug.message("mousemove/moving start coords: " + DayPilotMonth.movingEvent.coords.x + " " + DayPilotMonth.movingEvent.coords.y);
                $c.debug.message("mousemove/current coords: " + $04.x + " " + $04.y);
                if ($04.x === DayPilotMonth.movingEvent.coords.x && $04.y === DayPilotMonth.movingEvent.coords.y) {
                    return;
                };
                var $0c = $c.$2V($s);
                $c.$2A();
                var event = DayPilotMonth.movingEvent.event;
                var $C = DayPilotMonth.movingEvent.offset;
                var $B = $c.cellMode ? 1 : DayPilot.DateUtil.daysSpan(event.start(), event.end()) + 1;
                if ($B < 1) {
                    $B = 1;
                };
                $c.$2w($s.x, $s.y, $0c, $B, $C, event);
            } else if (DayPilotMonth.timeRangeSelecting) {
                DayPilotMonth.cancelCellClick = true;
                $c.$2A();
                var $08 = DayPilotMonth.timeRangeSelecting;
                var $0e = $08.y * 7 + $08.x;
                var $0f = $s.y * 7 + $s.x;
                var $B = Math.abs($0f - $0e) + 1;
                if ($B < 1) {
                    $B = 1;
                };
                var $0g = $0e < $0f ? $08 : $s;
                DayPilotMonth.timeRangeSelecting.from = {
                    x: $0g.x,
                    y: $0g.y
                };
                DayPilotMonth.timeRangeSelecting.width = $B;
                DayPilotMonth.timeRangeSelecting.moved = true;
                $c.$2w($0g.x, $0g.y, 0, $B, 0, null);
            }
        };
        this.$2V = function($s) {
            var y = $s.relativeY;
            var $p = $c.rows[$s.y];
            var top = $c.cellHeaderHeight;
            var lh = $N.lineHeight();
            var $0C = $p.lines.length;
            for (var i = 0; i < $p.lines.length; i++) {
                var $u = $p.lines[i];
                if ($u.isFree($s.x, 1)) {
                    $0C = i;
                    break;
                }
            };
            var $0D = Math.floor((y - top + lh / 2) / lh);
            var $0D = Math.min($0C, $0D);
            var $0D = Math.max(0, $0D);
            return $0D;
        };
        this.message = function($0E, $0F, $0G, $0H) {
            if ($0E === null) {
                return;
            };
            var $0F = $0F || this.messageHideAfter || 2000;
            var $0G = $0G || "#ffffff";
            var $0H = $0H || "#000000";
            var $0I = 0.8;
            var top = $N.headerHeight();
            var $R = 1;
            var $0J = 0;
            var $t;
            if (!this.nav.message) {
                $t = document.createElement("div");
                $t.setAttribute("unselectable", "on");
                $t.style.position = "absolute";
                $t.style.right = "0px";
                $t.style.left = "0px";
                $t.style.top = top + "px";
                $t.style.opacity = $0I;
                $t.style.filter = "alpha(opacity=" + ($0I * 100) + ")";
                $t.style.display = 'none';
                $t.onmousemove = function() {
                    if ($t.messageTimeout && !$t.status) {
                        clearTimeout($t.messageTimeout);
                    }
                };
                $t.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $t.messageTimeout = setTimeout($c.$34, 500);
                    }
                };
                if (!this.cssOnly) {
                    $t.style.textAlign = "left";
                };
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $T.style.padding = "5px";
                } else {
                    $T.className = this.$2l("_message");
                };
                $t.appendChild($T);
                var close = document.createElement("div");
                close.setAttribute("unselectable", "on");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.nav.scroll) + 5) + "px";
                    close.style.color = $0G;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$2l("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $t.appendChild(close);
                this.nav.top.appendChild($t);
                this.nav.message = $t;
            } else {
                $t = $c.nav.message;
            };
            var $0K = function() {
                $c.nav.message.style.opacity = $0I;
                var $T = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $T.style.backgroundColor = $0H;
                    $T.style.color = $0G;
                };
                $T.innerHTML = $0E;
                var end = function() {
                    $t.messageTimeout = setTimeout($c.$34, $0F);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($t.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $0K);
            } else {
                $0K();
            }
        };
        this.message.show = function($0E) {
            $c.message($0E);
        };
        this.message.hide = function() {
            $c.$34();
        };
        this.$34 = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$35 = function(ev) {
            if ($c.heightSpec === "Parent100Pct") {
                $c.$2g();
            }
        };
        this.$2g = function() {
            var $0y = this.nav.scrollable;
            if (this.heightSpec === "Parent100Pct" || this.heightSpec === 'Fixed') {
                $0y.style.top = this.headerHeight + "px";
                $0y.style.bottom = "0px";
                $0y.style.left = "0px";
                $0y.style.right = "0px";
                $0y.style.overflow = "auto";
                $0y.style.position = "absolute";
            } else {
                $0y.style.position = "relative";
            };
            if (this.heightSpec === 'Parent100Pct') {
                this.nav.top.style.height = "100%";
                var $J = this.nav.top.clientHeight;
            } else {
                this.nav.top.style.height = this.$2Y() + 'px';
            };
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].style.top = this.$2x(y) + 'px';
                    this.cells[x][y].style.height = this.rows[y].getHeight() + 'px';
                }
            };
            this.$36();
        };
        this.$2Q = function(x, y) {
            var $0L = Math.floor(this.nav.top.clientWidth / this.$2q());
            var $0M = Math.min(Math.floor(x / $0L), this.$2q() - 1);
            var $p = null;
            var $0N = 0;
            var $J = 0;
            var $0O = 0;
            for (var i = 0; i < this.rows.length; i++) {
                $J += this.rows[i].getHeight();
                if (y < $J) {
                    $0N = y - $0O;
                    $p = i;
                    break;
                };
                $0O = $J;
            };
            if ($p === null) {
                $p = this.rows.length - 1;
            };
            var $s = {};
            $s.x = $0M;
            $s.y = $p;
            $s.relativeY = $0N;
            return $s;
        };
        this.$33 = function($0h) {
            var $B = DayPilot.DateUtil.daysDiff(this.firstDate, $0h);
            var $s = {
                x: 0,
                y: 0
            };
            while ($B >= 7) {
                $s.y++;
                $B -= 7;
            };
            $s.x = $B;
            return $s;
        };
        this.$36 = function() {
            var $B = DayPilot.sw(this.nav.scrollable);
            this.nav.header.style.marginRight = $B + "px";
        };
        var $0P = null;
        this.$2f = function() {
            var $0x = this.nav.header;
            var $0z = this.nav.events;
            this.cells = [];
            for (var x = 0; x < this.$2q(); x++) {
                this.cells[x] = [];
                var $0Q = this.headerProperties ? this.headerProperties[x] : null;
                var $0R = x + $N.weekStarts();
                if ($0R > 6) {
                    $0R -= 7;
                };
                if (!$0Q) {
                    var $0Q = {};
                    $0Q.html = $N.locale().dayNames[$0R];
                    if (!this.cssOnly) {
                        $0Q.backColor = this.headerBackColor;
                    }
                };
                if (typeof $c.onBeforeHeaderRender === 'function') {
                    var $m = {};
                    $m.header = {};
                    $m.header.dayOfWeek = $0R;
                    var $0S = ['html', 'backColor', 'cssClass'];
                    DayPilot.Util.copyProps($0Q, $m.header, $0S);
                    $c.onBeforeHeaderRender($m);
                    DayPilot.Util.copyProps($m.header, $0Q, $0S);
                };
                var $0T = document.createElement("div");
                $0T.setAttribute("unselectable", "on");
                $0T.style.position = 'absolute';
                $0T.style.left = (this.$2z() * x) + '%';
                $0T.style.width = (this.$2z()) + '%';
                $0T.style.top = '0px';
                $0T.style.height = ($N.headerHeight()) + 'px';
                (function(x) {
                    $0T.onclick = function() {
                        $c.$37(x);
                    };
                })($0R);
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.className = this.$2l("_header_inner");
                $T.innerHTML = $0Q.html;
                $0T.appendChild($T);
                if (!this.cssOnly) {
                    $T.style.position = "absolute";
                    $T.style.top = "0px";
                    $T.style.bottom = "0px";
                    $T.style.left = "0px";
                    $T.style.right = "0px";
                    $T.style.backgroundColor = $0Q.backColor;
                    $T.style.fontFamily = this.headerFontFamily;
                    $T.style.fontSize = this.headerFontSize;
                    $T.style.color = this.headerFontColor;
                    $T.style.textAlign = 'center';
                    $T.style.cursor = 'default';
                    $T.className = this.$2l("header");
                    if (x !== this.$2q() - 1) {
                        $T.style.borderRight = '1px solid ' + this.borderColor;
                    }
                } else {
                    $0T.className = this.$2l("_header");
                    if ($0Q) {
                        if ($0Q.cssClass) {
                            DayPilot.Util.addClass($0T, $0Q.cssClass);
                        };
                        if ($0Q.backColor) {
                            $T.style.background = $0Q.backColor;
                        }
                    }
                };
                $0x.appendChild($0T);
                for (var y = 0; y < this.rows.length; y++) {
                    this.$38(x, y, $0z);
                }
            };
            if (!DayPilot.contains(this.nav.top.childNodes, $0P) && this.numberFormat) {
                var $t = document.createElement("div");
                $t.style.position = 'absolute';
                $t.style.padding = '2px';
                $t.style.top = '0px';
                $t.style.left = '0px';
                $t.style.backgroundColor = "#FF6600";
                $t.style.color = "white";
                $t.innerHTML = "\u0044\u0045\u004D\u004F";
                $0P = $t;
                this.nav.top.appendChild($t);
            }
        };
        this.$2e = function() {
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].onclick = null;
                }
            };
            this.nav.header.innerHTML = '';
            this.nav.events.innerHTML = '';
        };
        this.$38 = function(x, y, $0x) {
            var $p = this.rows[y];
            var d = this.firstDate.addDays(y * 7 + x);
            var $0U = this.cellProperties ? this.cellProperties[y * this.$2q() + x] : null;
            var $0V = null;
            if ($0U) {
                $0V = $0U["headerHtml"];
            } else {
                var $0h = d.getDay();
                if ($0h === 1) {
                    $0V = $N.locale().monthNames[d.getMonth()] + ' ' + $0h;
                } else {
                    $0V = $0h + "";
                }
            };
            if (!$0U) {
                var $0U = {};
                $0U.business = !$c.isWeekend(d);
                $0U.headerHtml = $0V;
            };
            if (typeof $c.onBeforeCellRender === 'function') {
                var $m = {};
                $m.cell = {};
                $m.cell.areas = null;
                $m.cell.backColor = null;
                $m.cell.backImage = null;
                $m.cell.backRepeat = null;
                $m.cell.business = $c.isWeekend(d);
                $m.cell.headerHtml = $0V;
                $m.cell.headerBackColor = null;
                $m.cell.cssClass = null;
                $m.cell.html = null;
                $m.cell.start = d;
                $m.cell.end = $m.cell.start.addDays(1);
                DayPilot.Util.copyProps($0U, $m.cell);
                $c.onBeforeCellRender($m);
                DayPilot.Util.copyProps($m.cell, $0U, ['areas', 'backColor', 'backImage', 'backRepeat', 'business', 'headerHtml', 'headerBackColor', 'cssClass', 'html']);
            };
            var $s = document.createElement("div");
            $s.setAttribute("unselectable", "on");
            $s.style.position = 'absolute';
            $s.style.cursor = 'default';
            $s.style.left = (this.$2z() * x) + '%';
            $s.style.width = (this.$2z()) + '%';
            $s.style.top = (this.$2x(y)) + 'px';
            $s.style.height = ($p.getHeight()) + 'px';
            $s.d = d;
            $s.x = x;
            $s.y = y;
            $s.props = $0U;
            var $0l = this.startDate.addMonths(-1).getMonth();
            var $0W = this.startDate.addMonths(1).getMonth();
            var $0X = this.startDate.getMonth();
            var $T = document.createElement("div");
            $T.setAttribute("unselectable", "on");
            $s.appendChild($T);
            $T.className = this.$2l("_cell_inner");
            $T.className = this.$2l("_cell_inner");
            if (d.getMonth() === $0X) {
                $s.className = this.$2l("_cell");
            } else if (d.getMonth() === $0l) {
                $s.className = this.$2l("_cell") + " " + this.$2l("_previous");
            } else if (d.getMonth() === $0W) {
                $s.className = this.$2l("_cell") + " " + this.$2l("_next");
            } else {
                $a();
            };
            if ($0U) {
                if ($0U["cssClass"]) {
                    DayPilot.Util.addClass($s, $0U.cssClass);
                };
                if ($0U["business"]) {
                    DayPilot.Util.addClass($s, this.$2l("_cell_business"));
                };
                if ($0U["backColor"]) {
                    $T.style.backgroundColor = $0U["backColor"];
                };
                if ($0U["backImage"]) {
                    $T.style.backgroundImage = "url('" + $0U["backImage"] + "')";
                };
                if ($0U["backRepeat"]) {
                    $T.style.backgroundRepeat = $0U["backRepeat"];
                }
            };
            $s.onmousedown = this.$39;
            $s.onmousemove = this.$3a;
            $s.onmouseout = this.$3b;
            $s.oncontextmenu = this.$3c;
            $s.onclick = this.$3d;
            $s.ondblclick = this.$3e;
            var $0Y = document.createElement("div");
            $0Y.setAttribute("unselectable", "on");
            $0Y.style.height = this.cellHeaderHeight + "px";
            if ($0U && $0U["headerBackColor"]) {
                $0Y.style.background = $0U["headerBackColor"];
            };
            $0Y.className = this.$2l("_cell_header");
            $0Y.innerHTML = $0U.headerHtml;
            $T.appendChild($0Y);
            if ($0U && $0U["html"]) {
                var $0E = document.createElement("div");
                $0E.setAttribute("unselectable", "on");
                $0E.style.height = ($p.getHeight() - this.cellHeaderHeight) + 'px';
                $0E.style.overflow = 'hidden';
                $0E.innerHTML = $0U["html"];
                $T.appendChild($0E);
            };
            if (this.cellMode) {
                var $0Z = document.createElement("div");
                $0Z.setAttribute("unselectable", "on");
                $0Z.style.height = (this.cellHeight - this.cellHeaderHeight) + "px";
                $0Z.style.overflow = 'auto';
                $0Z.style.position = 'relative';
                var $L = document.createElement('div');
                $L.setAttribute("unselectable", "on");
                $L.style.paddingTop = "1px";
                $L.style.paddingBottom = "1px";
                $0Z.appendChild($L);
                $T.appendChild($0Z);
                $s.body = $L;
                $s.scrolling = $0Z;
            };
            if ($s.props) {
                var $Y = $s.props.areas || [];
                for (var i = 0; i < $Y.length; i++) {
                    var $X = $Y[i];
                    if ($X.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($s, $s.props, $X);
                    $s.appendChild(a);
                }
            };
            this.cells[x][y] = $s;
            $0x.appendChild($s);
            if (typeof $c.onAfterCellRender === "function") {
                $m.cell.div = $s;
                $m.cell.divHeader = $0Y;
                $c.onAfterCellRender($m);
            }
        };
        this.$3a = function() {
            var c = this;
            if (c.props) {
                DayPilot.Areas.showAreas(c, c.props);
            }
        };
        this.$3b = function(ev) {
            var c = this;
            if (c.props) {
                DayPilot.Areas.hideAreas(c, ev);
            }
        };
        this.$3c = function() {
            var d = this.d;
            var go = function(d) {
                var $08 = new DayPilot.Date(d);
                var end = $08.addDays(1);
                var $10 = new DayPilot.Selection($08, end, null, $c);
                if ($c.contextMenuSelection) {
                    $c.contextMenuSelection.show($10);
                }
            };
            go(d);
            return false;
        };
        this.$3e = function() {
            var d = this.d;
            if ($c.timeouts) {
                for (var $11 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$11]);
                };
                $c.timeouts = null;
            };
            if ($c.timeRangeDoubleClickHandling !== 'Disabled') {
                var $08 = new DayPilot.Date(d);
                var end = $08.addDays(1);
                $c.$3f($08, end);
            }
        };
        this.$3d = function() {
            if (DayPilotMonth.cancelCellClick) {
                return;
            };
            var d = this.d;
            var $12 = function(d) {
                var $08 = new DayPilot.Date(d);
                var end = $08.addDays(1);
                $c.$2U($08, end);
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled' && $c.timeRangeDoubleClickHandling === 'Disabled') {
                $12(d);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            };
            var $13 = function(d) {
                return function() {
                    $12(d);
                };
            };
            $c.timeouts.push(window.setTimeout($13(d), $c.doubleClickTimeout));
        };
        this.$39 = function(e) {
            var $s = this;
            var x = $s.x;
            var y = $s.y;
            DayPilotMonth.cancelCellClick = false;
            if ($s.scrolling) {
                var $C = DayPilot.mo3($s.scrolling, e);
                var sw = DayPilot.sw($s.scrolling);
                var $B = $s.scrolling.offsetWidth;
                if ($C.x > $B - sw) {
                    return;
                }
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled') {
                $c.$2A();
                DayPilotMonth.timeRangeSelecting = {
                    "root": $c,
                    "x": x,
                    "y": y,
                    "from": {
                        x: x,
                        y: y
                    },
                    "width": 1
                };
            }
        };
        this.$2q = function() {
            if (this.showWeekend) {
                return 7;
            } else {
                return 5;
            }
        };
        this.$2z = function() {
            if (this.showWeekend) {
                return 14.285;
            } else {
                return 20;
            }
        };
        this.$3g = function(d) {
            if (d.getUTCDay() === 6 || d.getUTCDay() === 0) {
                return this.nonBusinessBackColor;
            };
            return this.backColor;
        };
        this.$2x = function($0u) {
            var top = 0;
            for (var i = 0; i < $0u; i++) {
                top += this.rows[i].getHeight();
            };
            return top;
        };
        this.clearSelection = function() {
            this.$2A();
        };
        this.$3h = function($14, $i, $15) {
            var $16 = {};
            $16.action = $14;
            $16.parameters = $15;
            $16.data = $i;
            $16.header = this.$3i();
            var $17 = "JSON" + DayPilot.JSON.stringify($16);
            __doPostBack($c.uniqueID, $17);
        };
        this.$3j = function($14, $15, $i, $18) {
            if (!this.$3k()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $18 === 'undefined') {
                $18 = "CallBack";
            };
            var $16 = {};
            $16.action = $14;
            $16.type = $18;
            $16.parameters = $15;
            $16.data = $i;
            $16.header = this.$3i();
            var $17 = "JSON" + DayPilot.JSON.stringify($16);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$3l, $17, this.$3m);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $17, this.$27, null, this.callbackError, true);
            }
        };
        this.$3k = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$3m = function($19) {
            if (typeof $c.onAjaxError === 'function') {
                var $m = {};
                $m.request = $19;
                $c.onAjaxError($m);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($19);
            }
        };
        this.$3l = function($1a) {
            $c.$27($1a.responseText);
        };
        this.$3i = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpm";
            h.id = this.id;
            h.visibleStart = new DayPilot.Date(this.firstDate);
            h.visibleEnd = h.visibleStart.addDays(this.days);
            h.clientState = this.clientState;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.startDate = $c.startDate;
            h.showWeekend = this.showWeekend;
            h.headerBackColor = this.headerBackColor;
            h.backColor = this.backColor;
            h.nonBusinessBackColor = this.nonBusinessBackColor;
            h.locale = this.locale;
            h.timeFormat = this.timeFormat;
            h.weekStarts = this.weekStarts;
            h.viewType = this.viewType;
            h.weeks = this.weeks;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.visibleStart = function() {
            return new DayPilot.Date(this.firstDate);
        };
        this.visibleEnd = function() {
            return $c.visibleStart().addDays($c.days);
        };
        this.$3n = function($18, $14, $1b, $i) {
            if ($18 === 'PostBack') {
                $c.postBack2($14, $1b, $i);
            } else if ($18 === 'CallBack') {
                $c.$3j($14, $1b, $i, "CallBack");
            } else if ($18 === 'Immediate') {
                $c.$3j($14, $1b, $i, "Notify");
            } else if ($18 === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $14, $1b, $i));
            } else if ($18 === 'Notify') {
                if ($N.notifyType() === 'Notify') {
                    $c.$3j($14, $1b, $i, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $14, $1b, $i));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$3o = function($m, $g) {
            var $f = $c.$3p($g);
            var $1b = {};
            $1b.args = $m;
            $1b.guid = $f;
            $c.$3j("Bubble", $1b);
        };
        this.$3p = function($g) {
            var $f = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$f] = $g;
            return $f;
        };
        this.eventClickPostBack = function(e, $i) {
            this.$3h("EventClick", $i, e);
        };
        this.eventClickCallBack = function(e, $i) {
            this.$3j('EventClick', e, $i);
        };
        this.$2K = function($t, e) {
            DayPilotMonth.movingEvent = null;
            DayPilotMonth.resizingEvent = null;
            var e = e || window.event;
            var $1c = e.ctrlKey;
            var $1d = e.metaKey;
            e.cancelBubble = true;
            if (e.stopPropagation) {
                e.stopPropagation();
            };
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$2S($t, e);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $11 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$11]);
                };
                $c.timeouts = [];
            };
            var $1e = function($t, e) {
                return function() {
                    $c.$2S($t, e);
                };
            };
            $c.timeouts.push(window.setTimeout($1e($t, e), $c.doubleClickTimeout));
        };
        this.$2S = function($t, ev) {
            var e = $t.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            var $1c = ev.ctrlKey;
            var $1d = ev.metaKey;
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.div = $t;
                $m.originalEvent = ev;
                $m.meta = ev.metaKey;
                $m.ctrl = ev.ctrlKey;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, $1c, $1d);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($m);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, $1c, $1d);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$2M = function(e) {
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($m);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $i) {
            this.$3h('EventDelete', e, $i);
        };
        this.eventDeleteCallBack = function(e, $i) {
            this.$3j('EventDelete', e, $i);
        };
        this.eventDoubleClickPostBack = function(e, $i) {
            this.$3h('EventDoubleClick', $i, e);
        };
        this.eventDoubleClickCallBack = function(e, $i) {
            this.$3j('EventDoubleClick', e, $i);
        };
        this.$2L = function($t, ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $11 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$11]);
                };
                $c.timeouts = null;
            };
            var ev = ev || window.event;
            var e = $t.event;
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($m);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$3q = function($t, e, $1c, $1d) {
            $c.$3r($t, e, $1c, $1d);
        };
        this.eventSelectPostBack = function(e, $1g, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.change = $1g;
            this.$3h('EventSelect', $i, $1b);
        };
        this.eventSelectCallBack = function(e, $1g, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.change = $1g;
            this.$3j('EventSelect', $1b, $i);
        };
        this.$3r = function($t, e, $1c, $1d) {
            var m = $c.multiselect;
            var $1h = false;
            var $1i = m.isSelected(e);
            var $1j = $1c || $1d;
            if (!$1j && $1i && !$1h && m.list.length === 1) {
                return;
            };
            if ($c.$2k()) {
                m.previous = m.events();
                var $m = {};
                $m.e = e;
                $m.selected = m.isSelected(e);
                $m.ctrl = $1c;
                $m.meta = $1d;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1g);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1g);
                        break;
                    case 'Update':
                        m.$3s($t, $1c);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $m.change = m.isSelected(e) ? "selected" : "deselected";
                    $m.selected = m.isSelected(e);
                    $c.onEventSelected($m);
                }
            } else {
                m.previous = m.events();
                m.$3s($t, $1c);
                var $1g = m.isSelected(e) ? "selected" : "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1g);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1g);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $1g);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $i) {
            this.$3h("EventRightClick", $i, e);
        };
        this.eventRightClickCallBack = function(e, $i) {
            this.$3j('EventRightClick', e, $i);
        };
        this.$2P = function(e) {
            this.event = e;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($m);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventMenuClickPostBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.command = $1k;
            this.$3h('EventMenuClick', $i, $1b);
        };
        this.eventMenuClickCallBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.command = $1k;
            this.$3j('EventMenuClick', $1b, $i);
        };
        this.$3t = function($1k, e, $1l) {
            switch ($1l) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $1k);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $1k);
                    break;
            }
        };
        this.eventMovePostBack = function(e, $1m, $1n, $i, $09) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            $1b.position = $09;
            this.$3h('EventMove', $i, $1b);
        };
        this.eventMoveCallBack = function(e, $1m, $1n, $i, $09) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            $1b.position = $09;
            this.$3j('EventMove', $1b, $i);
        };
        this.$2T = function(e, x, y, $C, ev, $09) {
            var $1o = e.start().getTimePart();
            var $0B = e.end().getDatePart();
            if ($0B.getTime() !== e.end().getTime()) {
                $0B = $0B.addDays(1);
            };
            var $1p = DayPilot.DateUtil.diff(e.end(), $0B);
            var $1q = this.$2B(x, y);
            $1q = $1q.addDays(-$C);
            var $B = DayPilot.DateUtil.daysSpan(e.start(), e.end()) + 1;
            var $1r = $1q.addDays($B);
            var $1m = $1q.addTime($1o);
            var $1n = $1r.addTime($1p);
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1m;
                $m.newEnd = $1n;
                $m.position = $09;
                $m.ctrl = false;
                if (ev) {
                    $m.ctrl = ev.ctrlKey;
                };
                $m.shift = false;
                if (ev) {
                    $m.shift = ev.shiftKey;
                };
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1m, $1n, null, $09);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1m, $1n, null, $09);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1m, $1n, null, $09);
                        break;
                    case 'Update':
                        e.start($1m);
                        e.end($1n);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($m);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1m, $1n, null, $09);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1m, $1n, null, $09);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $1m, $1n, ev.ctrlKey, ev.shiftKey, $09);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1m, $1n, null, $09);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $1m, $1n, $i, $u) {
            var $1s = new DayPilot.Event(e.copy(), this);
            e.start($1m);
            e.end($1n);
            e.commit();
            $c.update();
            this.$3u("Notify", $1s, $1m, $1n, $i, $u);
        };
        this.$3u = function($18, e, $1m, $1n, $i, $u) {
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            $1b.position = $u;
            this.$3n($18, "EventMove", $1b, $i);
        };
        this.eventResizePostBack = function(e, $1m, $1n, $i) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            this.$3h('EventResize', $i, $1b);
        };
        this.eventResizeCallBack = function(e, $1m, $1n, $i) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            this.$3j('EventResize', $1b, $i);
        };
        this.$3v = function(e, $08, $B) {
            var $1o = e.start().getTimePart();
            var $0B = e.end().getDatePart();
            if ($0B != e.end()) {
                $0B = $0B.addDays(1);
            };
            var $1p = DayPilot.DateUtil.diff(e.end(), $0B);
            var $1q = this.$2B($08.x, $08.y);
            var $1r = $1q.addDays($B);
            var $1m = $1q.addTime($1o);
            var $1n = $1r.addTime($1p);
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1m;
                $m.newEnd = $1n;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1m, $1n);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1m, $1n);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1m, $1n);
                        break;
                    case 'Update':
                        e.start($1m);
                        e.end($1n);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($m);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1m, $1n);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1m, $1n);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $1m, $1n);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1m, $1n);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $1m, $1n, $i) {
            var $1s = new DayPilot.Event(e.copy(), this);
            e.start($1m);
            e.end($1n);
            e.commit();
            $c.update();
            this.$3w("Notify", $1s, $1m, $1n, $i);
        };
        this.$3w = function($18, e, $1m, $1n, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            this.$3n($18, "EventResize", $1b, $i);
        };
        this.timeRangeSelectedPostBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3h('TimeRangeSelected', $i, $0d);
        };
        this.timeRangeSelectedCallBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3j('TimeRangeSelected', $0d, $i);
        };
        this.$2U = function($08, end) {
            if ($c.$2k()) {
                var $m = {};
                $m.start = $08;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($08, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($08, end);
                        $c.clearSelection();
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($m);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($08, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($08, end);
                        $c.clearSelection();
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($08, end);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.selection = e;
            $1b.command = $1k;
            this.$3h("TimeRangeMenuClick", $i, $1b);
        };
        this.timeRangeMenuClickCallBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.selection = e;
            $1b.command = $1k;
            this.$3j("TimeRangeMenuClick", $1b, $i);
        };
        this.$3x = function($1k, e, $1l) {
            switch ($1l) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $1k);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $1k);
                    break;
            }
        };
        this.headerClickPostBack = function(c, $i) {
            this.$3h('HeaderClick', $i, c);
        };
        this.headerClickCallBack = function(c, $i) {
            this.$3j('HeaderClick', c, $i);
        };
        this.$37 = function(x) {
            var $i = this.data;
            var c = {
                $0Y: x
            };
            if ($c.$2k()) {
                var $m = {};
                $m.header = {};
                $m.header.dayOfWeek = x;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($m);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3h('TimeRangeDoubleClick', $i, $0d);
        };
        this.timeRangeDoubleClickCallBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3j('TimeRangeDoubleClick', $0d, $i);
        };
        this.$3f = function($08, end) {
            if ($c.$2k()) {
                var $m = {};
                $m.start = $08;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($08, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($08, end);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($m);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($08, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($08, end);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($08, end);
                        break;
                }
            }
        };
        this.commandCallBack = function($1k, $i) {
            this.$3y();
            var $1b = {};
            $1b.command = $1k;
            this.$3j('Command', $1b, $i);
        };
        this.$3z = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $t = $c.elements.events[i];
                if ($t.event === e || $t.event.data === e.data) {
                    return $t;
                }
            };
            return null;
        };
        this.$2N = function(e) {
            var $d = {};
            $d.list = [];
            $d.each = function(m) {
                if (!m) {
                    return;
                };
                for (var i = 0; i < this.list.length; i++) {
                    m(this.list[i]);
                }
            };
            for (var i = 0; i < this.elements.events.length; i++) {
                var $t = this.elements.events[i];
                if ($t.event.data === e.data) {
                    $d.list.push($t);
                }
            };
            return $d;
        };
        this.$3A = function($1t) {
            var $t = document.createElement("div");
            $t.style.position = "absolute";
            $t.style.top = "-2000px";
            $t.style.left = "-2000px";
            $t.className = this.$2l($1t);
            document.body.appendChild($t);
            var $J = $t.offsetHeight;
            var $B = $t.offsetWidth;
            document.body.removeChild($t);
            var $d = {};
            $d.height = $J;
            $d.width = $B;
            return $d;
        };
        this.$2I = {};
        var $N = this.$2I;
        $N.lineHeight = function() {
            return $N.eventHeight() + $c.lineSpace;
        };
        $N.rounded = function() {
            return $c.eventCorners === "Rounded";
        };
        $N.loadFromServer = function() {
            if ($c.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        $N.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $N.getWeekStart = function() {
            if ($c.showWeekend) {
                return $c.weekStarts;
            } else {
                return 1;
            }
        };
        $N.weekStarts = function() {
            if (!$c.showWeekend) {
                return 1;
            };
            if ($c.weekStarts === 'Auto') {
                var $U = $N.locale();
                if ($U) {
                    return $U.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $c.weekStarts;
            }
        };
        $N.notifyType = function() {
            var $18;
            if ($c.notifyCommit === 'Immediate') {
                $18 = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $18 = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $18;
        };
        $N.eventHeight = function() {
            if ($c.$25.eventHeight) {
                return $c.$25.eventHeight;
            };
            var $J = $c.$3A("_event_height").height;
            if (!$J) {
                $J = $c.eventHeight;
            };
            $c.$25.eventHeight = $J;
            return $J;
        };
        $N.headerHeight = function() {
            if ($c.$25.headerHeight) {
                return $c.$25.headerHeight;
            };
            var $J = $c.$3A("_header_height").height;
            if (!$J) {
                $J = $c.headerHeight;
            };
            $c.$25.headerHeight = $J;
            return $J;
        };
        $N.timeFormat = function() {
            if ($c.timeFormat !== 'Auto') {
                return $c.timeFormat;
            };
            return $N.locale().timeFormat;
        };
        this.multiselect = {};
        this.multiselect.initList = [];
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$3B = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $1u = [];
            $1u.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $1u.push(m.list[i]);
            };
            return $1u;
        };
        this.multiselect.$3C = function() {};
        this.multiselect.$3s = function($t, $1v) {
            var m = $c.multiselect;
            if (m.isSelected($t.event)) {
                if ($c.allowMultiSelect) {
                    if ($1v) {
                        m.remove($t.event, true);
                    } else {
                        var $0q = m.list.length;
                        m.clear(true);
                        if ($0q > 1) {
                            m.add($t.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($1v) {
                        m.add($t.event, true);
                    } else {
                        m.clear(true);
                        m.add($t.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($t.event, true);
                }
            };
            m.redraw();
            m.$3C();
        };
        this.multiselect.$2J = function(ev) {
            var m = $c.multiselect;
            return m.$3D(ev, m.initList);
        };
        this.multiselect.$3E = function() {
            var m = $c.multiselect;
            var $Z = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $Z.push(event.value());
            };
            alert($Z.join("\n"));
        };
        this.multiselect.add = function(ev, $1w) {
            var m = $c.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($1w) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $1w) {
            var m = $c.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            }
        };
        this.multiselect.clear = function($1w) {
            var m = $c.multiselect;
            m.list = [];
            if ($1w) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $t = $c.elements.events[i];
                if (m.isSelected($t.event)) {
                    m.$3F($t);
                } else {
                    m.$3G($t);
                }
            }
        };
        this.multiselect.$3F = function($t) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$2l("_selected") : $c.$2l("selected");
            var $t = m.$3H($t);
            DayPilot.Util.addClass($t, cn);
            m.divs.push($t);
        };
        this.multiselect.$3H = function($t) {
            if ($c.cssOnly) {
                return $t;
            };
            return $t.firstChild;
        };
        this.multiselect.$3I = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $t = m.divs[i];
                m.$3G($t, true);
            };
            m.divs = [];
        };
        this.multiselect.$3G = function($t, $1x) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$2l("_selected") : $c.$2l("selected");
            var c = m.$3H($t);
            if (c && c.className && c.className.indexOf(cn) !== -1) {
                c.className = c.className.replace(cn, "");
            };
            if ($1x) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $t);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$3D(ev, $c.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            return DayPilot.indexOf($c.multiselect.list, ev);
        };
        this.multiselect.$3D = function(e, $Z) {
            if (!$Z) {
                return false;
            };
            for (var i = 0; i < $Z.length; i++) {
                var ei = $Z[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.events.forRange = function($08, end) {
            $08 = new DayPilot.Date($08);
            end = new DayPilot.Date(end);
            return DayPilot.list($c.events.list).filter(function($1y) {
                var $1z = new DayPilot.Date($1y.start);
                var $1A = new DayPilot.Date($1y.end);
                return DayPilot.Util.overlaps($08, end, $1z, $1A);
            }).map(function($1y) {
                return new DayPilot.Event($1y, $c);
            });
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1B = $c.events.list.length;
            for (var i = 0; i < $1B; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($1C, $1D) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1B = $c.events.list.length;
            for (var i = 0; i < $1B; i++) {
                if ($c.events.list[i].recurrentMasterId === $1C && $c.events.list[i].start.getTime() === $1D.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.update = function(e, $i) {
            var $1b = {};
            $1b.oldEvent = new DayPilot.Event(e.copy(), $c);
            $1b.newEvent = new DayPilot.Event(e.temp(), $c);
            var $14 = new DayPilot.Action($c, "EventUpdate", $1b, $i);
            e.commit();
            if ($c.$24) {
                $c.update();
            };
            $c.$30.notify();
            return $14;
        };
        this.events.remove = function(e, $i) {
            var $1b = {};
            $1b.e = new DayPilot.Event(e.data, $c);
            var $14 = new DayPilot.Action($c, "EventRemove", $1b, $i);
            var $0u = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($0u, 1);
            if ($c.$24) {
                $c.update();
            };
            $c.$30.notify();
            return $14;
        };
        this.events.add = function(e, $i) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $1b = {};
            $1b.e = e;
            var $14 = new DayPilot.Action($c, "EventAdd", $1b, $i);
            if ($c.$24) {
                $c.update();
            };
            $c.$30.notify();
            return $14;
        };
        this.events.load = function($1E, $1F, $1G) {
            var $1H = function($m) {
                var $1I = {};
                $1I.exception = $m.exception;
                $1I.request = $m.request;
                if (typeof $1G === 'function') {
                    $1G($1I);
                }
            };
            var $1J = function($m) {
                var r = $m.request;
                var $i;
                try {
                    $i = DayPilot.Util.parseJSON(r.responseText);
                } catch (e) {
                    var $1K = {};
                    $1K.exception = e;
                    $1H($1K);
                    return;
                };
                if (DayPilot.isArray($i)) {
                    var $1L = {};
                    $1L.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $1L.data = $i;
                    if (typeof $1F === "function") {
                        $1F($1L);
                    };
                    if ($1L.preventDefault.value) {
                        return;
                    };
                    $c.events.list = $i;
                    if ($c.$24) {
                        $c.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $c.visibleStart().toString(),
                    "end": $c.visibleEnd().toString()
                },
                "url": $1E,
                "success": $1J,
                "error": $1H
            });
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($14) {
            if (!$14) {
                return;
            };
            if ($14.isAction) {
                $c.queue.list.push($14);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($i) {
            var $1b = {};
            $1b.actions = $c.queue.list;
            $c.$3j('Notify', $1b, $i, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$2j = function($1M) {
            if ($1M) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$26 >= this.autoRefreshMaxCount) {
                return;
            };
            this.$3y();
            var $1N = this.autoRefreshInterval;
            if (!$1N || $1N < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $c.$3J();
            }, this.autoRefreshInterval * 1000);
        };
        this.$3y = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$3J = function() {
            if (!DayPilotMonth.eventResizing && !DayPilotMonth.eventMoving && !DayPilotMonth.timeRangeSelecting) {
                var $1O = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $m = {};
                    $m.i = this.$26;
                    $m.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($m);
                    if ($m.preventDefault.value) {
                        $1O = true;
                    }
                };
                if (!$1O && this.$3k()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$26++;
            };
            if (this.$26 < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$3J();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$3K = function($m) {
            if (!this.cells) {
                return;
            };
            var $m = $m || {};
            var $1P = !$m.eventsOnly;
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            $c.$2b();
            $c.$2c();
            $c.$2d();
            if ($1P) {
                $c.$2e();
                $c.$2f();
            };
            $c.$2g();
            $c.$2h();
            $c.$2i();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$3K();
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$3y();
            c.$2b();
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top = null;
            DayPilotMonth.unregister(c);
        };
        this.$3L = function() {
            if (!DayPilotMonth.globalHandlers) {
                DayPilotMonth.globalHandlers = true;
                DayPilot.re(document, 'mouseup', DayPilotMonth.gMouseUp);
            };
            DayPilot.re(window, 'resize', this.$35);
        };
        this.$2h = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$3M = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Month: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$3N = function() {
            this.$3M();
            this.$2c();
            this.$31();
            this.$2f();
            this.$2g();
            this.$3L();
            this.$2j();
            this.$3j('Init');
            DayPilotMonth.register(this);
        };
        this.init = function() {
            this.$3M();
            if (this.nav.top.dp) {
                return;
            };
            var $1Q = $N.loadFromServer();
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                window.console && window.console.log && window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if ($1Q) {
                this.$3N();
                this.$24 = true;
                return;
            };
            this.$2c();
            this.$2d();
            this.$31();
            this.$2f();
            this.$2h();
            this.$2i();
            this.$2g();
            this.$3L();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$29(null, false);
            this.$2j();
            DayPilotMonth.register(this);
            this.$24 = true;
            this.$3O();
        };
        this.$3P = null;
        this.$3Q = function($b) {
            var $1R = {
                "events": {
                    "preInit": function() {
                        var $1u = this.data;
                        if (!$1u) {
                            return;
                        };
                        if (DayPilot.isArray($1u.list)) {
                            $c.events.list = $1u.list;
                        } else {
                            $c.events.list = $1u;
                        }
                    }
                }
            };
            this.$3P = $1R;
            for (var name in $b) {
                if ($1R[name]) {
                    var $1y = $1R[name];
                    $1y.data = $b[name];
                    if ($1y.preInit) {
                        $1y.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$3O = function() {
            var $1R = this.$3P;
            for (var name in $1R) {
                var $1y = $1R[name];
                if ($1y.postInit) {
                    $1y.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$24;
        };
        this.internal.invokeEvent = this.$3n;
        this.internal.eventMenuClick = this.$3t;
        this.internal.timeRangeMenuClick = this.$3x;
        this.internal.bubbleCallBack = this.$3o;
        this.internal.findEventDiv = this.$3z;
        this.Init = this.init;
        this.$3Q($b);
    };
    DayPilotMonth.register = function($c) {
        if (!DayPilotMonth.registered) {
            DayPilotMonth.registered = [];
        };
        for (var i = 0; i < DayPilotMonth.registered.length; i++) {
            if (DayPilotMonth.registered[i] === $c) {
                return;
            }
        };
        DayPilotMonth.registered.push($c);
    };
    DayPilotMonth.unregister = function($c) {
        var a = DayPilotMonth.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mouseup', DayPilotMonth.gMouseUp);
            DayPilotMonth.globalHandlers = false;
        }
    };
    DayPilotMonth.gMouseUp = function(ev) {
        if (DayPilotMonth.movingEvent) {
            var $07 = DayPilotMonth.movingEvent;
            DayPilotMonth.movingEvent = null;
            if (!$07.event || !$07.event.calendar || !$07.event.calendar.shadow || !$07.event.calendar.shadow.start) {
                return;
            };
            var $c = $07.event.calendar;
            var e = $07.event;
            var $08 = $c.shadow.start;
            var $09 = $c.shadow.position;
            var $C = $07.offset;
            $c.$2A();
            var ev = ev || window.event;
            $c.$2T(e, $08.x, $08.y, $C, ev, $09);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            return false;
        } else if (DayPilotMonth.resizingEvent) {
            var $07 = DayPilotMonth.resizingEvent;
            DayPilotMonth.resizingEvent = null;
            if (!$07.event || !$07.event.calendar || !$07.event.calendar.shadow || !$07.event.calendar.shadow.start) {
                return;
            };
            var $c = $07.event.calendar;
            var e = $07.event;
            var $08 = $c.shadow.start;
            var $B = $c.shadow.width;
            $c.$2A();
            $c.$3v(e, $08, $B);
            ev.cancelBubble = true;
            return false;
        } else if (DayPilotMonth.timeRangeSelecting) {
            if (DayPilotMonth.timeRangeSelecting.moved) {
                var $0a = DayPilotMonth.timeRangeSelecting;
                var $c = $0a.root;
                var $08 = new DayPilot.Date($c.$2B($0a.from.x, $0a.from.y));
                var end = $08.addDays($0a.width);
                $c.$2U($08, end);
            };
            DayPilotMonth.timeRangeSelecting = null;
        }
    };
    DayPilot.MonthVisible.Month = DayPilotMonth.Month;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotMonth = function($b) {
                var $1S = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $1T = new DayPilot.Month(this.id, $b);
                    $1T.init();
                    this.daypilot = $1T;
                    if (!$1S) {
                        $1S = $1T;
                    }
                });
                if (this.length === 1) {
                    return $1S;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $1U = DayPilot.am();
        if (!$1U) {
            return;
        };
        $1U.directive("daypilotMonth", ['$parse', function($1V) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $1W) {
                    element.replaceWith(this["template"].replace("{{id}};", $1W["id"]));
                    return function link($1X, element, $1W) {
                        var $c = new DayPilot.Month(element[0]);
                        $c.$30.scope = $1X;
                        $c.init();
                        var $1Y = $1W["id"];
                        if ($1Y) {
                            $1X[$1Y] = $c;
                        };
                        var $1Z = $1W["publishAs"];
                        if ($1Z) {
                            var getter = $1V($1Z);
                            var setter = getter.assign;
                            setter($1X, $c);
                        };
                        for (var name in $1W) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $c[name] = function($m) {
                                        var f = $1V($1W[name]);
                                        $1X["$apply"](function() {
                                            f($1X, {
                                                "args": $m
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $20 = $1X["$watch"];
                        var $21 = $1W["config"] || $1W["daypilotConfig"];
                        var $1u = $1W["events"] || $1W["daypilotEvents"];
                        $20.call($1X, $21, function($22, $23) {
                            for (var name in $22) {
                                $c[name] = $22[name];
                            };
                            $c.update();
                        }, true);
                        $20.call($1X, $1u, function($22) {
                            $c.events.list = $22;
                            $c.$3K({
                                "eventsOnly": true
                            });
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotNavigator === 'undefined') {
    var DayPilotNavigator = DayPilot.NavigatorVisible = {};
};
(function() {
    if (typeof DayPilot.Navigator !== 'undefined') {
        return;
    };
    DayPilotNavigator = {};
    DayPilot.Navigator = function(id, $a) {
        this.v = '2130';
        var $b = this;
        this.id = id;
        this.api = 2;
        this.isNavigator = true;
        this.autoFocusOnClick = true;
        this.weekStarts = 'Auto';
        this.selectMode = 'day';
        this.titleHeight = 20;
        this.dayHeaderHeight = 20;
        this.cellWidth = 20;
        this.cellHeight = 20;
        this.cssOnly = true;
        this.cssClassPrefix = "navigator_default";
        this.selectionStart = new DayPilot.Date().getDatePart();
        this.selectionEnd = null;
        this.selectionDay = null;
        this.showMonths = 1;
        this.skipMonths = 1;
        this.command = "navigate";
        this.year = new DayPilot.Date().getYear();
        this.month = new DayPilot.Date().getMonth() + 1;
        this.showWeekNumbers = false;
        this.weekNumberAlgorithm = 'Auto';
        this.rowsPerMonth = 'Six';
        this.orientation = "Vertical";
        this.locale = "en-us";
        this.visible = true;
        this.timeRangeSelectedHandling = "Bind";
        this.visibleRangeChangedHandling = "Enabled";
        this.nav = {};
        this.$0p = {};
        this.$0q = function() {
            this.root.dp = this;
            if (this.cssOnly) {
                this.root.className = this.$0r('_main');
            } else {
                this.root.className = this.$0r('main');
            };
            if (this.orientation === "Horizontal") {
                this.root.style.width = this.showMonths * ($c.cellWidth() * 7 + this.$0s()) + 'px';
                this.root.style.height = (this.cellHeight * 6 + this.titleHeight + this.dayHeaderHeight) + 'px';
            } else {
                this.root.style.width = ($c.cellWidth() * 7 + this.$0s()) + 'px';
            };
            this.root.style.position = "relative";
            if (!this.visible) {
                this.root.style.display = "none";
            };
            var $d = document.createElement("input");
            $d.type = 'hidden';
            $d.name = $b.id + "_state";
            $d.id = $d.name;
            this.root.appendChild($d);
            this.state = $d;
            if (!this.startDate) {
                this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month);
            } else {
                this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth();
            };
            this.calendars = [];
            this.selected = [];
            this.months = [];
        };
        this.$0t = function() {
            return $b.api === 2;
        };
        this.$0u = function() {
            this.root.innerHTML = '';
        };
        this.$0r = function($e) {
            var $f = this.theme || this.cssClassPrefix;
            if ($f) {
                return $f + $e;
            } else {
                return "";
            }
        };
        this.$0v = function($g, name) {
            var $h = this.cssOnly ? this.$0r("_" + name) : this.$0r(name);
            DayPilot.Util.addClass($g, $h);
        };
        this.$0w = function($g, name) {
            var $h = this.cssOnly ? this.$0r("_" + name) : this.$0r(name);
            DayPilot.Util.removeClass($g, $h);
        };
        this.$0x = function(j, $i) {
            var $j = {};
            $j.cells = [];
            $j.days = [];
            $j.weeks = [];
            var $k = this.startDate.addMonths(j);
            var $l = $i.before;
            var $m = $i.after;
            var $n = $k.firstDayOfMonth();
            var $o = $n.firstDayOfWeek($c.weekStarts());
            var $p = $n.addMonths(1);
            var $q = DayPilot.DateUtil.daysDiff($o, $p);
            var $r = (this.rowsPerMonth === "Auto") ? Math.ceil($q / 7) : 6;
            $j.rowCount = $r;
            var $s = (new DayPilot.Date()).getDatePart();
            var $t = $c.cellWidth() * 7 + this.$0s();
            var $u = this.cellHeight * $r + this.titleHeight + this.dayHeaderHeight;
            $j.height = $u;
            var $v = document.createElement("div");
            $v.style.width = ($t) + 'px';
            $v.style.height = ($u) + 'px';
            if (this.orientation === "Horizontal") {
                $v.style.position = "absolute";
                $v.style.left = ($t * j) + "px";
                $v.style.top = "0px";
            } else {
                $v.style.position = 'relative';
            };
            if (this.cssOnly) {
                $v.className = this.$0r('_month');
            } else {
                $v.className = this.$0r('month');
            };
            $v.style.cursor = 'default';
            $v.style.MozUserSelect = 'none';
            $v.style.KhtmlUserSelect = 'none';
            $v.style.WebkitUserSelect = 'none';
            $v.month = $j;
            this.root.appendChild($v);
            var $w = this.titleHeight + this.dayHeaderHeight;
            var tl = document.createElement("div");
            tl.style.position = 'absolute';
            tl.style.left = '0px';
            tl.style.top = '0px';
            tl.style.width = $c.cellWidth() + 'px';
            tl.style.height = this.titleHeight + 'px';
            tl.style.lineHeight = this.titleHeight + 'px';
            tl.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tl.className = this.$0r('_titleleft');
            } else {
                tl.className = this.$0r('titleleft');
            };
            if ($i.left) {
                tl.style.cursor = 'pointer';
                tl.innerHTML = "<span>&lt;</span>";
                tl.onclick = this.$0y;
            };
            $v.appendChild(tl);
            this.tl = tl;
            var ti = document.createElement("div");
            ti.style.position = 'absolute';
            ti.style.left = $c.cellWidth() + 'px';
            ti.style.top = '0px';
            ti.style.width = ($c.cellWidth() * 5 + this.$0s()) + 'px';
            ti.style.height = this.titleHeight + 'px';
            ti.style.lineHeight = this.titleHeight + 'px';
            ti.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                ti.className = this.$0r('_title');
            } else {
                ti.className = this.$0r('title');
            };
            ti.innerHTML = $c.locale().monthNames[$k.getMonth()] + ' ' + $k.getYear();
            $v.appendChild(ti);
            this.ti = ti;
            var tr = document.createElement("div");
            tr.style.position = 'absolute';
            tr.style.left = ($c.cellWidth() * 6 + this.$0s()) + 'px';
            tr.style.top = '0px';
            tr.style.width = $c.cellWidth() + 'px';
            tr.style.height = this.titleHeight + 'px';
            tr.style.lineHeight = this.titleHeight + 'px';
            tr.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tr.className = this.$0r('_titleright');
            } else {
                tr.className = this.$0r('titleright');
            };
            if ($i.right) {
                tr.style.cursor = 'pointer';
                tr.innerHTML = "<span>&gt;</span>";
                tr.onclick = this.$0z;
            };
            $v.appendChild(tr);
            this.tr = tr;
            var $x = this.$0s();
            if (this.showWeekNumbers) {
                for (var y = 0; y < $r; y++) {
                    var $y = $o.addDays(y * 7);
                    var $z = null;
                    switch (this.weekNumberAlgorithm) {
                        case "Auto":
                            $z = ($c.weekStarts() === 1) ? $y.weekNumberISO() : $y.weekNumber();
                            break;
                        case "US":
                            $z = $y.weekNumber();
                            break;
                        case "ISO8601":
                            $z = $y.weekNumberISO();
                            break;
                        default:
                            throw "Unknown weekNumberAlgorithm value.";
                    };
                    var dh = document.createElement("div");
                    dh.style.position = 'absolute';
                    dh.style.left = (0) + 'px';
                    dh.style.top = (y * this.cellHeight + $w) + 'px';
                    dh.style.width = $c.cellWidth() + 'px';
                    dh.style.height = this.cellHeight + 'px';
                    dh.style.lineHeight = this.cellHeight + 'px';
                    dh.setAttribute("unselectable", "on");
                    if (this.cssOnly) {
                        dh.className = this.$0r('_weeknumber');
                    } else {
                        dh.className = this.$0r('weeknumber');
                    };
                    dh.innerHTML = "<span>" + $z + "</span>";
                    $v.appendChild(dh);
                    $j.weeks.push(dh);
                }
            };
            for (var x = 0; x < 7; x++) {
                $j.cells[x] = [];
                var dh = document.createElement("div");
                dh.style.position = 'absolute';
                dh.style.left = (x * $c.cellWidth() + $x) + 'px';
                dh.style.top = this.titleHeight + 'px';
                dh.style.width = $c.cellWidth() + 'px';
                dh.style.height = this.dayHeaderHeight + 'px';
                dh.style.lineHeight = this.dayHeaderHeight + 'px';
                dh.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    dh.className = this.$0r('_dayheader');
                } else {
                    dh.className = this.$0r('dayheader');
                };
                dh.innerHTML = "<span>" + this.$0A(x) + "</span>";
                $v.appendChild(dh);
                $j.days.push(dh);
                for (var y = 0; y < $r; y++) {
                    var $y = $o.addDays(y * 7 + x);
                    var $A = this.$0B($y) && this.$0C() !== 'none';
                    var $B = $y.firstDayOfMonth() === $k;
                    var $C = $y < $k;
                    var $D = $y >= $k.addMonths(1);
                    if (this.$0C() === "month") {
                        $A = $A && $B;
                    } else if (this.$0C() === "day") {
                        $A = $A && ($B || ($l && $C) || ($m && $D));
                    } else if (this.$0C() === "week") {
                        var $E = $y.firstDayOfMonth() === $k;
                        $A = $A && ($E || ($l && $C) || ($m && $D));
                    };
                    var dc = document.createElement("div");
                    $j.cells[x][y] = dc;
                    dc.day = $y;
                    dc.x = x;
                    dc.y = y;
                    dc.isCurrentMonth = $B;
                    if (this.cssOnly) {
                        dc.className = this.$0r(($B ? '_day' : '_dayother'));
                    } else {
                        dc.className = this.$0r(($B ? 'day' : 'dayother'));
                    };
                    $b.$0v(dc, "cell");
                    if ($y.getTime() === $s.getTime() && $B) {
                        this.$0v(dc, 'today');
                    };
                    if ($y.dayOfWeek() === 0 || $y.dayOfWeek() === 6) {
                        this.$0v(dc, 'weekend');
                    };
                    dc.style.position = 'absolute';
                    dc.style.left = (x * $c.cellWidth() + $x) + 'px';
                    dc.style.top = (y * this.cellHeight + $w) + 'px';
                    dc.style.width = $c.cellWidth() + 'px';
                    dc.style.height = this.cellHeight + 'px';
                    dc.style.lineHeight = this.cellHeight + 'px';
                    var $F = document.createElement("div");
                    $F.style.position = 'absolute';
                    if (this.cssOnly) {
                        $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0r('_todaybox') : this.$0r('_daybox');
                    } else {
                        $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0r('todaybox') : this.$0r('daybox');
                    };
                    $b.$0v($F, "cell_box");
                    $F.style.left = '0px';
                    $F.style.top = '0px';
                    $F.style.right = '0px';
                    $F.style.bottom = '0px';
                    dc.appendChild($F);
                    var $G = null;
                    if (this.cells && this.cells[$y.toStringSortable()]) {
                        $G = this.cells[$y.toStringSortable()];
                    };
                    if (typeof $b.onBeforeCellRender === "function") {
                        var $H = {};
                        $H.cell = {};
                        $H.cell.day = $y;
                        $H.cell.isCurrentMonth = $B;
                        $H.cell.isToday = $y.getTime() === $s.getTime() && $B;
                        $H.cell.isWeekend = $y.dayOfWeek() === 0 || $y.dayOfWeek() === 6;
                        $H.cell.html = $y.getDay();
                        $H.cell.cssClass = null;
                        $b.onBeforeCellRender($H);
                        $G = $H.cell;
                    };
                    if ($G) {
                        DayPilot.Util.addClass(dc, $G.cssClass || $G.css);
                    };
                    if ($B || ($l && $C) || ($m && $D)) {
                        var $I = document.createElement("div");
                        $I.innerHTML = $y.getDay();
                        $I.style.position = "absolute";
                        $I.style.left = '0px';
                        $I.style.top = '0px';
                        $I.style.right = '0px';
                        $I.style.bottom = '0px';
                        $b.$0v($I, "cell_text");
                        dc.style.cursor = 'pointer';
                        dc.isClickable = true;
                        if ($G && $G.html) {
                            $I.innerHTML = $G.html;
                        };
                        dc.appendChild($I);
                    };
                    dc.setAttribute("unselectable", "on");
                    dc.onclick = this.$0D;
                    dc.onmousedown = this.$0E;
                    dc.onmousemove = this.$0F;
                    $v.appendChild(dc);
                    if ($A) {
                        $b.$0G($v, x, y);
                        this.selected.push(dc);
                    }
                }
            };
            var $J = document.createElement("div");
            $J.style.position = 'absolute';
            $J.style.left = '0px';
            $J.style.top = ($w - 2) + 'px';
            $J.style.width = ($c.cellWidth() * 7 + this.$0s()) + 'px';
            $J.style.height = '1px';
            $J.style.fontSize = '1px';
            $J.style.lineHeight = '1px';
            if (this.cssOnly) {
                $J.className = this.$0r("_line");
            } else {
                $J.className = this.$0r("line");
            };
            $v.appendChild($J);
            this.months.push($j);
        };
        this.$0G = function($v, x, y) {
            var $K = $v.month.cells[x][y];
            $b.$0v($K, 'select');
        };
        this.$0H = function($v, x, y) {
            var $K = $v.month.cells[x][y];
            $b.$0w($K, 'select');
        };
        this.$0s = function() {
            if (this.showWeekNumbers) {
                return $c.cellWidth();
            };
            return 0;
        };
        this.$0I = function() {
            if (!this.items) {
                return;
            };
            for (var j = 0; j < this.showMonths; j++) {
                for (var x = 0; x < 7; x++) {
                    for (var y = 0; y < 6; y++) {
                        var $G = this.months[j].cells[x][y];
                        if (!$G) {
                            continue;
                        };
                        if (this.items[$G.day.toStringSortable()] === 1) {
                            this.$0v($G, 'busy');
                        } else {
                            this.$0w($G, 'busy');
                        }
                    }
                }
            }
        };
        this.$0J = function() {
            var s = {};
            s.startDate = $b.startDate;
            s.selectionStart = $b.selectionStart;
            s.selectionEnd = $b.selectionEnd.addDays(1);
            $b.state.value = DayPilot.JSON.stringify(s);
        };
        this.$0C = function() {
            var $L = this.selectMode || "";
            return $L.toLowerCase();
        };
        this.$0K = function() {
            var $M = this.selectionDay || this.selectionStart;
            var $M = new DayPilot.Date($M);
            switch (this.$0C()) {
                case 'day':
                    this.selectionDay = $M;
                    this.selectionEnd = $M;
                    break;
                case 'week':
                    this.selectionDay = $M;
                    this.selectionStart = $M.firstDayOfWeek($c.weekStarts());
                    this.selectionEnd = this.selectionStart.addDays(6);
                    break;
                case 'month':
                    this.selectionDay = $M;
                    this.selectionStart = $M.firstDayOfMonth();
                    this.selectionEnd = this.selectionStart.lastDayOfMonth();
                    break;
                case 'none':
                    this.selectionEnd = $M;
                    break;
                default:
                    throw "Unknown selectMode value.";
            }
        };
        this.select = function($N, $O) {
            var $P = !$O;
            var $Q = this.selectionStart;
            var $R = this.selectionEnd;
            this.selectionStart = new DayPilot.Date($N).getDatePart();
            this.selectionDay = this.selectionStart;
            var $S = false;
            if ($P) {
                var $T = this.startDate;
                if (this.selectionStart < this.$0L() || this.selectionStart >= this.$0M()) {
                    $T = this.selectionStart.firstDayOfMonth();
                };
                if ($T.toStringSortable() !== this.startDate.toStringSortable()) {
                    $S = true;
                };
                this.startDate = $T;
            };
            this.$0K();
            this.$0u();
            this.$0q();
            this.$0N();
            this.$0I();
            this.$0J();
            if (!$Q.equals(this.selectionStart) || !$R.equals(this.selectionEnd)) {
                this.$0O();
            };
            if ($S) {
                this.$0P();
            }
        };
        this.update = function() {
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            this.$0u();
            this.$0q();
            this.$0K();
            this.$0N();
            this.$0Q();
            this.$0I();
            this.$0J();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.$0R = function($U, $V, $W) {
            var $X = {};
            $X.action = $U;
            $X.parameters = $W;
            $X.data = $V;
            $X.header = this.$0S();
            var $Y = "JSON" + DayPilot.JSON.stringify($X);
            var $Z = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$0T, $Y, this.$0U);
            } else {
                WebForm_DoCallback(this.uniqueID, $Y, this.$0V, $Z, this.callbackError, true);
            }
        };
        this.$0U = function($00) {
            if (typeof $b.onAjaxError === 'function') {
                var $H = {};
                $H.request = $00;
                $b.onAjaxError($H);
            } else if (typeof $b.ajaxError === 'function') {
                $b.ajaxError($00);
            }
        };
        this.$0T = function($01) {
            $b.$0V($01.responseText);
        };
        this.$0W = function($U, $V, $W) {
            var $X = {};
            $X.action = $U;
            $X.parameters = $W;
            $X.data = $V;
            $X.header = this.$0S();
            var $Y = "JSON" + DayPilot.JSON.stringify($X);
            __doPostBack($b.uniqueID, $Y);
        };
        this.$0S = function() {
            var h = {};
            h.v = this.v;
            h.startDate = this.startDate;
            h.selectionStart = this.selectionStart;
            return h;
        };
        this.$0X = function($U, $V) {
            if ($U === 'refresh') {
                this.$0P();
            }
        };
        this.$0A = function(i) {
            var x = i + $c.weekStarts();
            if (x > 6) {
                x -= 7;
            };
            return $c.locale().dayNamesShort[x];
        };
        this.$0B = function($N) {
            if (this.selectionStart === null || this.selectionEnd === null) {
                return false;
            };
            if (this.selectionStart.getTime() <= $N.getTime() && $N.getTime() <= this.selectionEnd.getTime()) {
                return true;
            };
            return false;
        };
        this.$0E = function(ev) {};
        this.$0F = function(ev) {};
        this.$0D = function(ev) {
            var $v = this.parentNode;
            var $j = this.parentNode.month;
            var x = this.x;
            var y = this.y;
            var $y = $j.cells[x][y].day;
            if (!$j.cells[x][y].isClickable) {
                return;
            };
            $b.clearSelection();
            $b.selectionDay = $y;
            var $y = $b.selectionDay;
            switch ($b.$0C()) {
                case 'none':
                    $b.selectionStart = $y;
                    $b.selectionEnd = $y;
                    break;
                case 'day':
                    if ($b.autoFocusOnClick) {
                        var $02 = $y;
                        if ($y < $b.$0L() || $y >= $b.$0M()) {
                            $b.select($y);
                            return;
                        }
                    };
                    var s = $j.cells[x][y];
                    $b.$0G($v, x, y);
                    $b.selected.push(s);
                    $b.selectionStart = s.day;
                    $b.selectionEnd = s.day;
                    break;
                case 'week':
                    if ($b.autoFocusOnClick) {
                        var $02 = $j.cells[0][y].day;
                        var end = $j.cells[6][y].day;
                        if ($02.firstDayOfMonth() === end.firstDayOfMonth()) {
                            if ($02 < $b.$0L() || end >= $b.$0M()) {
                                $b.select($y);
                                return;
                            }
                        }
                    };
                    for (var j = 0; j < 7; j++) {
                        $b.$0G($v, j, y);
                        $b.selected.push($j.cells[j][y]);
                    };
                    $b.selectionStart = $j.cells[0][y].day;
                    $b.selectionEnd = $j.cells[6][y].day;
                    break;
                case 'month':
                    var $02 = null;
                    var end = null;
                    for (var y = 0; y < 6; y++) {
                        for (var x = 0; x < 7; x++) {
                            var s = $j.cells[x][y];
                            if (!s) {
                                continue;
                            };
                            if (s.day.getYear() === $y.getYear() && s.day.getMonth() === $y.getMonth()) {
                                $b.$0G($v, x, y);
                                $b.selected.push(s);
                                if ($02 === null) {
                                    $02 = s.day;
                                };
                                end = s.day;
                            }
                        }
                    };
                    $b.selectionStart = $02;
                    $b.selectionEnd = end;
                    break;
                default:
                    throw 'unknown selectMode';
            };
            $b.$0J();
            $b.$0O();
        };
        this.$0O = function() {
            var $02 = $b.selectionStart;
            var end = $b.selectionEnd.addDays(1);
            var $q = DayPilot.DateUtil.daysDiff($02, end);
            var $y = $b.selectionDay;
            if ($b.$0t()) {
                var $H = {};
                $H.start = $02;
                $H.end = end;
                $H.day = $y;
                $H.days = $q;
                $H.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onTimeRangeSelect === 'function') {
                    $b.onTimeRangeSelect($H);
                    if ($H.preventDefault.value) {
                        return;
                    }
                };
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        var $03 = DayPilot.Util.evalVariable($b.bound);
                        if ($03) {
                            var $04 = {};
                            $04.start = $02;
                            $04.end = end;
                            $04.days = $q;
                            $04.day = $y;
                            $03.commandCallBack($b.command, $04);
                        };
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($02, end, $y);
                        break;
                };
                if (typeof $b.onTimeRangeSelected === 'function') {
                    $b.onTimeRangeSelected($H);
                }
            } else {
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        var $03 = DayPilot.Util.evalVariable($b.bound);
                        if ($03) {
                            var $04 = {};
                            $04.start = $02;
                            $04.end = end;
                            $04.days = $q;
                            $04.day = $y;
                            $03.commandCallBack($b.command, $04);
                        };
                        break;
                    case 'JavaScript':
                        $b.onTimeRangeSelected($02, end, $y);
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($02, end, $y);
                        break;
                }
            }
        };
        this.timeRangeSelectedPostBack = function($02, end, $V, $y) {
            var $05 = {};
            $05.start = $02;
            $05.end = end;
            $05.day = $y;
            this.$0W('TimeRangeSelected', $V, $05);
        };
        this.$0z = function(ev) {
            $b.$0Y($b.skipMonths);
        };
        this.$0y = function(ev) {
            $b.$0Y(-$b.skipMonths);
        };
        this.$0Y = function(i) {
            this.startDate = this.startDate.addMonths(i);
            this.$0u();
            this.$0q();
            this.$0N();
            this.$0J();
            this.$0P();
            this.$0I();
        };
        this.$0L = function() {
            return $b.startDate.firstDayOfMonth();
        };
        this.$0M = function() {
            return $b.startDate.firstDayOfMonth().addMonths(this.showMonths);
        };
        this.visibleStart = function() {
            return $b.startDate.firstDayOfMonth().firstDayOfWeek($c.weekStarts());
        };
        this.visibleEnd = function() {
            return $b.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek($c.weekStarts()).addDays(42);
        };
        this.$0P = function() {
            var $02 = this.visibleStart();
            var end = this.visibleEnd();
            if ($b.$0t()) {
                var $H = {};
                $H.start = $02;
                $H.end = end;
                $H.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onVisibleRangeChange === 'function') {
                    $b.onVisibleRangeChange($H);
                    if ($H.preventDefault.value) {
                        return;
                    }
                };
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "Disabled":
                        break;
                };
                if (typeof $b.onVisibleRangeChanged === 'function') {
                    $b.onVisibleRangeChanged($H);
                }
            } else {
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "JavaScript":
                        this.onVisibleRangeChanged($02, end);
                        break;
                    case "Disabled":
                        break;
                }
            }
        };
        this.visibleRangeChangedCallBack = function($V) {
            var $W = {};
            this.$0R("Visible", $V, $W);
        };
        this.visibleRangeChangedPostBack = function($V) {
            var $W = {};
            this.$0W("Visible", $V, $W);
        };
        this.$0V = function($06, $Z) {
            var $06 = DayPilot.Util.parseJSON($06);
            $b.items = $06.Items;
            $b.cells = $06.Cells;
            $b.$0I();
        };
        this.$0N = function() {
            for (var j = 0; j < this.showMonths; j++) {
                var $i = this.$0Z(j);
                this.$0x(j, $i);
            };
            this.root.style.height = this.$10() + "px";
        };
        this.$10 = function() {
            if (this.orientation === "Horizontal") {
                var $07 = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $j = this.months[i];
                    if ($j.height > $07) {
                        $07 = $j.height;
                    }
                };
                return $07;
            } else {
                var $08 = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $j = this.months[i];
                    $08 += $j.height;
                };
                return $08;
            }
        };
        this.$0Z = function(j) {
            if (this.internal.showLinks) {
                return this.internal.showLinks;
            };
            var $i = {};
            $i.left = (j === 0);
            $i.right = (j === 0);
            $i.before = j === 0;
            $i.after = j === this.showMonths - 1;
            if (this.orientation === "Horizontal") {
                $i.right = (j === this.showMonths - 1);
            };
            return $i;
        };
        this.$11 = {};
        this.$11.scope = null;
        this.$11.notify = function() {
            if ($b.$11.scope) {
                $b.$11.scope["$apply"]();
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $b.$12;
        };
        this.$13 = {};
        var $c = this.$13;
        $c.locale = function() {
            return DayPilot.Locale.find($b.locale);
        };
        $c.weekStarts = function() {
            if ($b.weekStarts === 'Auto') {
                var $09 = $c.locale();
                if ($09) {
                    return $09.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $b.weekStarts;
            }
        };
        $c.cellWidth = function() {
            if ($b.$0p.cellWidth) {
                return $b.$0p.cellWidth;
            };
            var $t = $b.$14("_cell_dimensions").width;
            if (!$t) {
                $t = $b.cellWidth;
            };
            $b.$0p.cellWidth = $t;
            return $t;
        };
        this.clearSelection = function() {
            for (var j = 0; j < this.selected.length; j++) {
                var $K = this.selected[j];
                $b.$0H($K.parentNode, $K.x, $K.y);
            };
            this.selected = [];
        };
        this.$15 = function() {
            if (this.backendUrl) {
                return (typeof $b.items === 'undefined') || (!$b.items);
            } else {
                return false;
            }
        };
        this.events = {};
        this.$0Q = function() {
            if (!DayPilot.isArray(this.events.list)) {
                return;
            };
            this.items = {};
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var $q = this.$16(e);
                for (var name in $q) {
                    this.items[name] = 1;
                }
            }
        };
        this.$14 = function($0a) {
            var $K = document.createElement("div");
            $K.style.position = "absolute";
            $K.style.top = "-2000px";
            $K.style.left = "-2000px";
            $K.className = this.$0r($0a);
            var $0b = $b.root || document.body;
            $0b.appendChild($K);
            var $u = $K.offsetHeight;
            var $t = $K.offsetWidth;
            $0b.removeChild($K);
            var $06 = {};
            $06.height = $u;
            $06.width = $t;
            return $06;
        };
        this.$16 = function(e) {
            var $02 = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            var $q = {};
            var d = $02.getDatePart();
            while (d.getTime() < end.getTime()) {
                $q[d.toStringSortable()] = 1;
                d = d.addDays(1);
            };
            return $q;
        };
        this.show = function() {
            $b.visible = true;
            $b.root.style.display = '';
        };
        this.hide = function() {
            $b.visible = false;
            $b.root.style.display = 'none';
        };
        this.$17 = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Navigator: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
            };
            this.root = this.nav.top;
        };
        this.init = function() {
            this.$17();
            if (this.root.dp) {
                return;
            };
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            this.$0K();
            this.$0q();
            this.$0N();
            this.$0Q();
            this.$0I();
            this.$18();
            var $0c = this.$15();
            if ($0c) {
                this.$0P();
            };
            this.$12 = true;
        };
        this.dispose = function() {
            var c = $b;
            if (!c.root) {
                return;
            };
            c.root.removeAttribute("style");
            c.root.removeAttribute("class");
            c.root.dp = null;
            c.root.innerHTML = null;
            c.root = null;
        };
        this.$18 = function() {
            this.root.dispose = this.dispose;
        };
        this.Init = this.init;
    };
    DayPilot.NavigatorVisible.Navigator = DayPilotNavigator.Navigator;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotNavigator = function($a) {
                var $o = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $0d = new DayPilot.Navigator(this.id);
                    this.daypilot = $0d;
                    for (var name in $a) {
                        $0d[name] = $a[name];
                    };
                    $0d.Init();
                    if (!$o) {
                        $o = $0d;
                    }
                });
                if (this.length === 1) {
                    return $o;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $0e = DayPilot.am();
        if (!$0e) {
            return;
        };
        $0e.directive("daypilotNavigator", ['$parse', function($0f) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $0g) {
                    element.replaceWith(this["template"].replace("{{id}};", $0g["id"]));
                    return function link($0h, element, $0g) {
                        var $b = new DayPilot.Navigator(element[0]);
                        $b.$11.scope = $0h;
                        $b.init();
                        var $0i = $0g["id"];
                        if ($0i) {
                            $0h[$0i] = $b;
                        };
                        var $0j = $0g["publishAs"];
                        if ($0j) {
                            var getter = $0f($0j);
                            var setter = getter.assign;
                            setter($0h, $b);
                        };
                        for (var name in $0g) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $b[name] = function($H) {
                                        var f = $0f($0g[name]);
                                        $0h["$apply"](function() {
                                            f($0h, {
                                                "args": $H
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $0k = $0h["$watch"];
                        var $0l = $0g["config"] || $0g["daypilotConfig"];
                        var $0m = $0g["events"] || $0g["daypilotEvents"];
                        $0k.call($0h, $0l, function($0n, $0o) {
                            for (var name in $0n) {
                                $b[name] = $0n[name];
                            };
                            $b.update();
                        }, true);
                        $0k.call($0h, $0m, function($0n) {
                            $b.events.list = $0n;
                            $b.$0Q();
                            $b.$0I();
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotScheduler === 'undefined') {
    var DayPilotScheduler = DayPilot.SchedulerVisible = {};
};
(function() {
    if (typeof DayPilot.Scheduler !== 'undefined') {
        return;
    };
    var $a = (function() {
        var $b = navigator.userAgent;
        return (($b.indexOf('Mozilla/5.0') > -1 && $b.indexOf('Android ') > -1 && $b.indexOf('AppleWebKit') > -1) && !($b.indexOf('Chrome') > -1));
    })();
    var DayPilotScheduler = {};
    var $c = function() {};
    var debug = false;
    var $d = function($e) {
        if (!debug) {
            return;
        };
        window.console && window.console.log($e);
    };
    var $f = function($e) {
        if (typeof $g === "undefined") {
            return;
        };
        $d($e);
    };
    var console = {
        "log": $d
    };
    DayPilot.Scheduler = function(id, $h) {
        this.v = '2130';
        var $i = this;
        this.id = id;
        this.isScheduler = true;
        this.hideUntilInit = true;
        this.api = 2;
        this.allowDefaultContextMenu = false;
        this.allowEventOverlap = true;
        this.allowMultiMove = false;
        this.allowMultiRange = false;
        this.allowMultiResize = false;
        this.allowMultiSelect = true;
        this.multiSelectRectangle = "Disabled";
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.blockOnCallBack = false;
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.businessWeekends = false;
        this.cellDuration = 60;
        this.cellGroupBy = 'Day';
        this.cellStacking = false;
        this.cellStackingAutoHeight = false;
        this.cellWidth = 40;
        this.cellWidthMin = 1;
        this.cellWidthSpec = "Fixed";
        this.cellsMarkBusiness = true;
        this.eventMarginLeft = 0;
        this.eventMarginRight = 0;
        this.eventMarginBottom = 0;
        this.groupConcurrentEvents = false;
        this.groupConcurrentEventsLimit = 1;
        this.$9H = true;
        this.$9I = false;
        this.cellSweeping = true;
        this.cellSweepingCacheSize = 1000;
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.$9J = false;
        this.doubleClickTimeout = 300;
        this.dragOutAllowed = false;
        this.durationBarHeight = 3;
        this.durationBarVisible = true;
        this.durationBarMode = "Duration";
        this.durationBarDetached = false;
        this.days = 1;
        this.drawBlankCells = true;
        this.dynamicEventRendering = 'Progressive';
        this.dynamicEventRenderingMargin = 50;
        this.dynamicEventRenderingMarginX = null;
        this.dynamicEventRenderingMarginY = null;
        this.dynamicEventRenderingCacheSweeping = false;
        this.dynamicEventRenderingCacheSize = 200;
        this.dynamicLoading = false;
        this.eventBorderColor = "#000000";
        this.eventBorderVisible = true;
        this.eventBackColor = "#FFFFFF";
        this.eventEndSpec = "DateTime";
        this.eventFontFamily = "Tahoma, Arial";
        this.eventFontSize = '8pt';
        this.eventFontColor = '#000000';
        this.eventHeight = 25;
        this.eventMoveMargin = 5;
        this.eventMoveToPosition = false;
        this.eventResizeMargin = 5;
        this.eventStackingLineHeight = 100;
        this.eventTapAndHoldHandling = "Move";
        this.eventTextWrappingEnabled = false;
        this.$9K = false;
        this.headerFontColor = "#000000";
        this.headerFontFamily = "Tahoma, Arial";
        this.headerFontSize = '8pt';
        this.headerHeight = 20;
        this.heightSpec = 'Auto';
        this.hideBorderFor100PctHeight = false;
        this.hourFontFamily = "Tahoma, Arial";
        this.hourFontSize = '10pt';
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.$9L = 10;
        this.$9M = 30;
        this.initEventEnabled = true;
        this.jointEventsResize = true;
        this.jointEventsMove = true;
        this.layout = 'Auto';
        this.linkCreateHandling = "Disabled";
        this.linkBottomMargin = 10;
        this.linkPointSize = 10;
        this.locale = "en-us";
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.loadingLabelBackColor = "orange";
        this.loadingLabelFontColor = "#ffffff";
        this.loadingLabelFontFamily = "Tahoma";
        this.loadingLabelFontSize = "10pt";
        this.messageHideAfter = 5000;
        this.messageHideOnMouseOut = true;
        this.multiMoveVerticalMode = "Disabled";
        this.moveBy = 'Full';
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.tapAndHoldTimeout = 300;
        this.timeHeaders = [{
            "groupBy": "Default"
        }, {
            "groupBy": "Cell"
        }];
        this.treePreventParentUsage = false;
        this.treeAutoExpand = true;
        this.rowHeaderColumnDefaultWidth = 80;
        this.rowHeaderHideIconEnabled = false;
        this.rowHeaderWidth = 80;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderWidthAutoFit = true;
        this.rowHeaderWidthMarginRight = 0;
        this.rowHeaderCols = null;
        this.rowMarginBottom = 0;
        this.rowMarginTop = 0;
        this.rowMinHeight = 0;
        this.scale = "CellDuration";
        this.scrollDelayDynamic = 500;
        this.scrollDelayEvents = 200;
        this.scrollDelayCells = 0;
        this.scrollDelayFloats = 0;
        this.scrollX = 0;
        this.scrollY = 0;
        this.selectedRows = [];
        this.shadow = "Fill";
        this.showBaseTimeHeader = true;
        this.showNonBusiness = true;
        this.showToolTip = true;
        this.snapToGrid = true;
        this.startDate = new DayPilot.Date().getDatePart();
        this.syncResourceTree = false;
        this.timeBreakColor = '#000000';
        this.timeHeaderTextWrappingEnabled = false;
        this.treeEnabled = false;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeFormat = "Auto";
        this.useEventBoxes = 'Always';
        this.viewType = 'Resources';
        this.visible = true;
        this.weekStarts = 'Auto';
        this.width = null;
        this.floatingEvents = true;
        this.floatingTimeHeaders = true;
        this.eventCorners = 'Regular';
        this.separators = [];
        this.cornerHtml = '';
        this.$9N = -1;
        this.$9O = -1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventHoverHandling = 'Bubble';
        this.eventDoubleClickHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.rowClickHandling = 'Enabled';
        this.rowDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowEditHandling = 'Update';
        this.rowHeaderColumnResizedHandling = "Update";
        this.rowSelectHandling = 'Update';
        this.rowMoveHandling = "Disabled";
        this.timeRangeDoubleClickHandling = 'Disabled';
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeRightClickHandling = "ContextMenu";
        this.eventMovingStartEndEnabled = false;
        this.eventMovingStartEndFormat = "MMMM d, yyyy";
        this.timeRangeSelectingStartEndEnabled = false;
        this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy";
        this.eventResizingStartEndEnabled = false;
        this.eventResizingStartEndFormat = "MMMM d, yyyy";
        this.cssOnly = true;
        this.cssClassPrefix = "scheduler_default";
        this.eventVersionsEnabled = false;
        this.eventVersionHeight = 25;
        this.eventVersionMargin = 2;
        this.backendUrl = null;
        if ($i.api === 1) {
            this.onEventMove = function() {};
            this.onEventResize = function() {};
            this.onResourceExpand = function() {};
            this.onResourceCollapse = function() {};
        };
        this.onEventMove = null;
        this.onEventMoved = null;
        this.onEventMoving = null;
        this.onEventResize = null;
        this.onEventResized = null;
        this.onEventResizing = null;
        this.onEventMouseOver = null;
        this.onEventMouseOut = null;
        this.onRowClick = null;
        this.onRowClicked = null;
        this.onTimeRangeSelect = null;
        this.onTimeRangeSelected = null;
        this.onTimeRangeSelecting = null;
        this.onTimeRangeRightClick = null;
        this.onTimeRangeRightClicked = null;
        this.onRowHeaderResized = null;
        this.onCellMouseOver = null;
        this.onCellMouseOut = null;
        this.onGridMouseDown = null;
        this.onBeforeCellRender = null;
        this.onBeforeEventRender = null;
        this.onBeforeTimeHeaderRender = null;
        this.onBeforeCellExport = null;
        this.onBeforeEventExport = null;
        this.onRectangleEventSelecting = null;
        this.onRectangleEventSelect = null;
        this.onRectangleEventSelected = null;
        this.onHeightChanged = null;
        this.onDimensionsChanged = null;
        this.onAfterUpdate = null;
        this.$9P = 0;
        this.$9Q = 0;
        this.rowlist = DayPilot.list();
        this.itline = DayPilot.list();
        this.timeline = null;
        this.events = {};
        this.cells = {};
        this.elements = {};
        this.elements.events = [];
        this.elements.bars = [];
        this.elements.text = [];
        this.elements.cells = [];
        this.elements.linesVertical = [];
        this.elements.separators = [];
        this.elements.range = [];
        this.elements.breaks = [];
        this.elements.links = [];
        this.elements.linkpoints = [];
        this.elements.rectangle = [];
        this.elements.hover = [];
        this.$9R = {};
        this.$9R.cells = [];
        this.$9R.linesVertical = {};
        this.$9R.linesHorizontal = {};
        this.$9R.timeHeaderGroups = [];
        this.$9R.timeHeader = {};
        this.$9R.pixels = [];
        this.$9R.breaks = [];
        this.$9R.events = [];
        this.clientState = {};
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"];
        this.members.ignoreFilter = function(name) {
            if (name.indexOf("div") === 0) {
                return true;
            };
            return false;
        };
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader"];
        this.members.noCssOnly = ["borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cellSelectColor", "durationBarColor", "eventBackColor", "eventBorderColor", "eventBorderVisible", "eventCorners", "eventFontColor", "eventFontFamily", "eventFontSize", "headerFontColor", "headerFontFamily", "headerFontSize", "hourFontFamily", "hourFontSize", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "shadow", "timeBreakColor"];
        this.nav = {};
        this.$9S = function($j, $k) {
            var $j = DayPilot.Util.parseJSON($j);
            $i.onScrollCalled = false;
            if ($j.CallBackRedirect) {
                document.location.href = $j.CallBackRedirect;
                return;
            };
            if (typeof $i.onCallBackResult === "function") {
                var $l = {};
                $l.result = $j;
                $l.preventDefault = function() {
                    $l.preventDefault.value = true;
                };
                $i.onCallBackResult($l);
                if ($l.preventDefault.value) {
                    $i.$9T();
                    $i.$9U();
                    $i.$9V();
                    if ($j.Message) {
                        if ($i.message) {
                            $i.message($j.Message);
                        }
                    };
                    $i.$9W($j.CallBackData, true);
                    $i.$9X();
                    $i.$9Y();
                    return;
                }
            };
            if ($j.BubbleGuid) {
                var $m = $j.BubbleGuid;
                var $n = this.bubbles[$m];
                delete this.bubbles[$m];
                $i.$9U();
                if (typeof $j.Result.BubbleHTML !== 'undefined' && $n) {
                    $n.updateView($j.Result.BubbleHTML, $n);
                };
                $i.$9X();
                return;
            };
            if (typeof DayPilot.Bubble !== "undefined") {
                DayPilot.Bubble.hideActive();
            };
            if (typeof $j.ClientState !== 'undefined') {
                if ($j.ClientState === null) {
                    $i.clientState = {};
                } else {
                    $i.clientState = $j.ClientState;
                }
            };
            if ($j.UpdateType === "None") {
                $i.$9U();
                $i.$9X();
                if ($j.Message) {
                    $i.message($j.Message);
                };
                $i.$9W($j.CallBackData, true);
                return;
            };
            if ($j.VsUpdate) {
                var $o = document.createElement("input");
                $o.type = 'hidden';
                $o.name = $i.id + "_vsupdate";
                $o.id = $o.name;
                $o.value = $j.VsUpdate;
                $i.$9Z.innerHTML = '';
                $i.$9Z.appendChild($o);
            };
            if (typeof $j.TagFields !== 'undefined') {
                $i.tagFields = $j.TagFields;
            };
            if (typeof $j.SortDirections !== 'undefined') {
                $i.sortDirections = $j.SortDirections;
            };
            $i.$9R.drawArea = null;
            if ($j.UpdateType === "Full") {
                $i.resources = $j.Resources;
                $i.colors = $j.Colors;
                $i.palette = $j.Palette;
                $i.dirtyColors = $j.DirtyColors;
                $i.cellProperties = $j.CellProperties;
                $i.cellConfig = $j.CellConfig;
                $i.separators = $j.Separators;
                $i.timeline = $j.Timeline;
                $i.timeHeader = $j.TimeHeader;
                $i.timeHeaders = $j.TimeHeaders;
                if (typeof $j.Links !== "undefined") {
                    $i.links.list = $j.Links;
                };
                if (typeof $j.RowHeaderColumns !== 'undefined') $i.rowHeaderColumns = $j.RowHeaderColumns;
                $i.startDate = $j.StartDate ? new DayPilot.Date($j.StartDate) : $i.startDate;
                $i.days = $j.Days ? $j.Days : $i.days;
                $i.cellDuration = $j.CellDuration ? $j.CellDuration : $i.cellDuration;
                $i.cellGroupBy = $j.CellGroupBy ? $j.CellGroupBy : $i.cellGroupBy;
                $i.cellWidth = $j.CellWidth ? $j.CellWidth : $i.cellWidth;
                $i.viewType = $j.ViewType ? $j.ViewType : $i.viewType;
                $i.hourNameBackColor = $j.HourNameBackColor ? $j.HourNameBackColor : $i.hourNameBackColor;
                if (typeof $j.ShowNonBusiness !== 'undefined') $i.showNonBusiness = $j.ShowNonBusiness;
                $i.businessBeginsHour = $j.BusinessBeginsHour ? $j.BusinessBeginsHour : $i.businessBeginsHour;
                $i.businessEndsHour = $j.BusinessEndsHour ? $j.BusinessEndsHour : $i.businessEndsHour;
                if (typeof $j.DynamicLoading !== 'undefined') $i.dynamicLoading = $j.DynamicLoading;
                if (typeof $j.TreeEnabled !== 'undefined') $i.treeEnabled = $j.TreeEnabled;
                $i.backColor = $j.BackColor ? $j.BackColor : $i.backColor;
                $i.nonBusinessBackColor = $j.NonBusinessBackColor ? $j.NonBusinessBackColor : $i.nonBusinessBackColor;
                $i.locale = $j.Locale ? $j.Locale : $i.locale;
                if (typeof $j.TimeZone !== 'undefined') $i.timeZone = $j.TimeZone;
                $i.timeFormat = $j.TimeFormat ? $j.TimeFormat : $i.timeFormat;
                $i.rowHeaderCols = $j.RowHeaderCols ? $j.RowHeaderCols : $i.rowHeaderCols;
                if (typeof $j.DurationBarMode !== "undefined") $i.durationBarMode = $j.DurationBarMode;
                $i.cornerBackColor = $j.CornerBackColor ? $j.CornerBackColor : $i.cornerBackColor;
                if (typeof $j.CornerHTML !== 'undefined') {
                    $i.cornerHtml = $j.CornerHTML;
                };
                $i.hashes = $j.Hashes;
                $i.$a0();
                $i.$a1();
                $i.$a2();
                $i.$a3();
            };
            if ($j.Action !== "Scroll") {
                $i.$a4($j.Events);
            };
            if ($j.UpdateType === 'Full') {
                $i.$a5();
                $i.$a6();
            };
            $i.$a7();
            $i.$a8();
            $i.$a9();
            $i.$9R.drawArea = null;
            if ($j.Action !== "Scroll") {
                $i.$aa();
                $i.$ab();
                if ($i.heightSpec === 'Auto' || $i.heightSpec === 'Max') {
                    $i.$ac();
                };
                $i.$ad();
                $i.$ae();
                $i.$af();
                $i.multiselect.clear(true);
                $i.multiselect.$ag($j.SelectedEvents);
                $i.$ah();
                $i.$ai();
                $i.$aj();
            } else {
                $i.multiselect.clear(true);
                $i.multiselect.$ag($j.SelectedEvents);
                $i.$ak($j.Events);
            };
            if ($i.timeRangeSelectedHandling !== "HoldForever") {
                $i.$al();
            };
            if ($j.UpdateType === "Full") {
                $i.setScroll($j.ScrollX, $j.ScrollY);
                $i.$am();
            };
            $i.$an();
            $i.$9T();
            if ($j.SelectedRows) {
                $i.$ao($j.SelectedRows);
            };
            $i.$9U();
            if ($j.UpdateType === 'Full' && navigator.appVersion.indexOf("MSIE 7.") !== -1) {
                window.setTimeout(function() {
                    $i.$a5();
                    $i.$ac();
                }, 0);
            };
            $i.$9V();
            if ($j.Message) {
                if ($i.message) {
                    $i.message($j.Message);
                }
            };
            $i.$9W($j.CallBackData, true);
            $i.$9X();
            $i.$9Y();
            if ($j.UpdateType === 'Full' && $j.Action !== "Scroll" && !$i.onScrollCalled) {
                setTimeout(function() {
                    $i.$ap();
                }, 0);
            }
        };
        this.$9T = function() {
            if ($i.todo) {
                if ($i.todo.del) {
                    var $p = $i.todo.del;
                    $p.parentNode.removeChild($p);
                    $i.todo.del = null;
                }
            }
        };
        this.$9W = function($q, $r) {
            var $s = function($q, $t) {
                return function() {
                    if ($i.$aq()) {
                        if (typeof $i.onAfterRender === 'function') {
                            var $l = {};
                            $l.isCallBack = $t;
                            $l.data = $q;
                            $i.onAfterRender($l);
                        }
                    } else {
                        if ($i.afterRender) {
                            $i.afterRender($q, $t);
                        }
                    }
                };
            };
            window.setTimeout($s($q, $r), 0);
        };
        this.scrollTo = function($u, $v, $w) {
            if (!$u) {
                return;
            };
            if ($i.viewType === "Days") {
                var $x = $i.$ar(new DayPilot.Date($u));
                if (!$x) {
                    return;
                };
                setTimeout(function() {
                    var scrollY = $x.top;
                    $i.nav.scroll.scrollTop = scrollY;
                }, 100);
                return;
            };
            var $y;
            if ($u instanceof DayPilot.Date) {
                $y = this.getPixels($u).left;
            } else if (typeof $u === "string") {
                $y = this.getPixels(new DayPilot.Date($u)).left;
            } else if (typeof $u === "number") {
                $y = $u;
            } else {
                throw "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";
            };
            var $z = this.$as.clientWidth;
            var $A = this.nav.scroll.clientWidth;
            $w = $w || "left";
            switch ($w.toLowerCase()) {
                case "left":
                    break;
                case "middle":
                    $y -= $A / 2;
                    break;
                case "right":
                    $y -= $A;
                    break;
            };
            if ($y < 0) {
                $y = 0;
            };
            if ($y > $z - $A) {
                $y = $z - $A;
            };
            if (!$v) {
                this.setScrollX($y);
                return;
            };
            var $B = Math.abs($i.nav.scroll.scrollLeft - $y);
            var $C = $B / $z;
            var $D = 50;
            if (typeof $v === "number") {
                $D = $v;
            } else if (typeof $v === "string") {
                switch ($v) {
                    case "fast":
                        $D = 30;
                        break;
                    case "normal":
                        $D = 50;
                        break;
                    case "slow":
                        $D = 100;
                        break;
                    case "linear":
                        $D = Math.floor(100 * $C);
                        break;
                }
            };
            if ($C > .6) {
                $D = Math.min($D, 80);
            };
            this.$at($y, $D);
        };
        this.$at = function($y, $D) {
            var $E = {};
            $E.steps = [];
            $E.index = 0;
            $E.delay = 10;
            $E.next = function() {
                var $F = $E.steps[$E.index];
                $E.index += 1;
                return $F;
            };
            $E.finished = function() {
                $i.$ap();
            };
            var $G = $i.getScrollX();
            var $D = $D || 100;
            var $H = $y - $G;
            for (var i = 0; i < $D; i++) {
                var x = i / $D;
                var $I = ((x - .5) * 2) / (Math.pow(((x - 0.5) * 2), 2) + 1) + .5;
                $E.steps.push($G + $H * $I);
            };
            $E.steps.push($y);
            scrollStep($E);

            function scrollStep($E) {
                var $F = $E.next();
                if (typeof $F === "undefined") {
                    $E.finished && $E.finished();
                    return;
                };
                $i.setScrollX($F);
                window.clearTimeout($i.refreshTimeout);
                setTimeout(function() {
                    scrollStep($E);
                }, $E.delay);
            }
        };
        this.scrollToResource = function(id) {
            DayPilot.complete(function() {
                var $x = $i.$au(id);
                if (!$x) {
                    return;
                };
                setTimeout(function() {
                    var scrollY = $x.top;
                    $i.nav.scroll.scrollTop = scrollY;
                }, 100);
            });
        };
        this.$av = function() {
            if (!this.floatingTimeHeaders) {
                return;
            };
            if (!this.timeHeader) {
                return;
            };
            var $J = this.$aw();
            if (!$J) {
                return;
            };
            this.$ax();
            var $K = $J.pixels.left + $L.shiftX;
            var end = $J.pixels.right + $L.shiftX;
            var $M = [];
            for (var y = 0; y < this.timeHeader.length; y++) {
                for (var x = 0; x < this.timeHeader[y].length; x++) {
                    var h = this.timeHeader[y][x];
                    var $N = h.left;
                    var $O = h.left + h.width;
                    var $P = null;
                    if ($N < $K && $K < $O) {
                        $P = {};
                        $P.x = x;
                        $P.y = y;
                        $P.marginLeft = $K - $N;
                        $P.marginRight = 0;
                        $P.div = this.$9R.timeHeader[x + "_" + y];
                        $M.push($P);
                    };
                    if ($N < end && end < $O) {
                        if (!$P) {
                            $P = {};
                            $P.x = x;
                            $P.y = y;
                            $P.marginLeft = 0;
                            $P.div = this.$9R.timeHeader[x + "_" + y];
                            $M.push($P);
                        };
                        $P.marginRight = $O - end;
                        break;
                    }
                }
            };
            for (var i = 0; i < $M.length; i++) {
                var $P = $M[i];
                this.$ay($P.div, $P.marginLeft, $P.marginRight);
            }
        };
        this.$an = function() {
            this.$av();
            this.$az();
        };
        this.$aA = {};
        var $Q = this.$aA;
        $Q.eventsInRectangle = function(x, y, $A, $R) {
            var $S = x;
            var $T = x + $A;
            var $U = y;
            var $V = y + $R;
            return DayPilot.list($i.elements.events).filter(function(e) {
                var $q = e.event;
                var $N = $q.part.left;
                var $O = $q.part.left + $q.part.width;
                var $x = $i.rowlist[$q.part.dayIndex];
                var top = $x.top + $q.part.top;
                var $W = top + $q.part.height;
                if (DayPilot.Util.overlaps($N, $O, $S, $T) && DayPilot.Util.overlaps(top, $W, $U, $V)) {
                    return true;
                }
            });
        };
        $Q.events = function($X) {
            var $Y = [];
            var $X = $X || "All";
            var $J = $i.$aw();
            if (!$J) {
                return DayPilot.list($Y);
            };
            var $K = $J.pixels.left;
            var end = $J.pixels.right;
            for (var i = 0; i < $i.elements.events.length; i++) {
                var e = $i.elements.events[i];
                var $q = e.event;
                var $N = $q.part.left;
                var $O = $q.part.left + $q.part.width;
                switch ($X) {
                    case "Left":
                        if ($N < $K && $K < $O) {
                            $Y.push(e);
                        };
                        break;
                    case "All":
                        if (DayPilot.Util.overlaps($N, $O, $K, end)) {
                            $Y.push(e);
                        };
                        break;
                }
            };
            return DayPilot.list($Y).addProps({
                "area": $J
            });
        };
        this.$az = function() {
            if (!this.floatingEvents) {
                return;
            };
            var $Z = $Q.events("Left");
            this.$aB();
            $Z.each(function($00) {
                var $N = $Z.area.pixels.left;
                var $q = $00.event;
                var $K = $q.part.left;
                var $01 = $N - $K;
                $i.$aC($00, $01, 0);
            });
        };
        this.elements.sections = [];
        this.elements.hsections = [];
        this.$ay = function($02, $01, $03) {
            var $04 = document.createElement("div");
            $04.setAttribute("unselectable", "on");
            $04.className = this.$aD("_timeheader_float");
            $04.style.position = "absolute";
            $04.style.left = $01 + "px";
            $04.style.right = $03 + "px";
            $04.style.top = "0px";
            $04.style.bottom = "0px";
            $04.style.overflow = "hidden";
            var $05 = document.createElement("div");
            $05.className = this.$aD("_timeheader_float_inner");
            $05.setAttribute("unselectable", "on");
            if ($02.cell.th.innerHTML) {
                $05.innerHTML = $02.cell.th.innerHTML;
            };
            $04.appendChild($05);
            $02.section = $04;
            $02.insertBefore($04, $02.firstChild.nextSibling);
            $02.firstChild.innerHTML = '';
            this.elements.hsections.push($02);
        };
        this.$ax = function() {
            for (var i = 0; i < this.elements.hsections.length; i++) {
                var e = this.elements.hsections[i];
                var $q = e.cell;
                if ($q && e.firstChild) {
                    e.firstChild.innerHTML = $q.th.innerHTML;
                };
                DayPilot.de(e.section);
                e.section = null;
            };
            this.elements.hsections = [];
        };
        this.$aC = function($02, $01, $03) {
            var $04 = document.createElement("div");
            $04.setAttribute("unselectable", "on");
            $04.className = this.$aD($06.eventFloat);
            $04.style.position = "absolute";
            $04.style.left = $01 + "px";
            $04.style.right = $03 + "px";
            $04.style.top = "0px";
            $04.style.bottom = "0px";
            $04.style.overflow = "hidden";
            var $05 = document.createElement("div");
            $05.className = this.$aD($06.eventFloatInner);
            $05.setAttribute("unselectable", "on");
            $05.innerHTML = $02.event.client.html();
            if ($02.event.data.fontColor) {
                $05.style.color = $02.event.data.fontColor;
            };
            $04.appendChild($05);
            $02.section = $04;
            $02.insertBefore($04, $02.firstChild.nextSibling);
            $02.firstChild.innerHTML = '';
            var $h = {
                "offsetX": parseInt(new DayPilot.StyleReader($05).get("padding-left")),
                "eventDiv": $02
            };
            DayPilot.Areas.attach($04, $02.event, $h);
            DayPilot.Areas.disable($02);
            this.elements.sections.push($02);
        };
        this.$aB = function() {
            for (var i = 0; i < this.elements.sections.length; i++) {
                var e = this.elements.sections[i];
                var $q = e.event;
                if ($q) {
                    e.firstChild.innerHTML = $q.client.html();
                };
                DayPilot.de(e.section);
                DayPilot.Areas.enable(e);
                e.section = null;
            };
            this.elements.sections = [];
        };
        this.setScrollX = function(scrollX) {
            var scroll = $i.nav.scroll;
            var $07 = $i.$aE() * $i.cellWidth;
            if (scroll.clientWidth + scrollX > $07) {
                scrollX = $07 - scroll.clientWidth;
            };
            $i.divTimeScroll.scrollLeft = scrollX;
            scroll.scrollLeft = scrollX;
        };
        this.setScrollY = function(scrollY) {
            var scroll = $i.nav.scroll;
            var $08 = $i.$9Q;
            if (scroll.clientHeight + scrollY > $08) {
                scrollY = $08 - scroll.clientHeight;
            };
            $i.divResScroll.scrollTop = scrollY;
            scroll.scrollTop = scrollY;
        };
        this.setScroll = function(scrollX, scrollY) {
            $i.setScrollX(scrollX);
            $i.setScrollY(scrollY);
        };
        this.message = function($09, $0a) {
            if ($09 === null) {
                return;
            };
            var $h = {};
            if (typeof arguments[1] === "object") {
                $h = arguments[1];
                $0a = $h.delay;
            };
            var $0a = $0a || this.messageHideAfter || 2000;
            var top = this.$aF() + 1;
            var $N = this.$aG() + $0b.splitterWidth();
            var $O = DayPilot.sw($i.nav.scroll) + 1;
            var $W = DayPilot.sh($i.nav.scroll) + 1;
            var $02;
            if (!this.nav.message) {
                $02 = document.createElement("div");
                $02.style.position = "absolute";
                $02.style.left = $N + "px";
                $02.style.right = $O + "px";
                $02.style.display = 'none';
                DayPilot.re($02, DayPilot.touch.start, function(e) {
                    $i.nav.message.style.display = 'none';
                    e.preventDefault();
                    e.stopPropagation();
                });
                $02.onmousemove = function() {
                    if (!$i.messageHideOnMouseOut) {
                        return;
                    };
                    if ($02.messageTimeout && !$02.status) {
                        clearTimeout($02.messageTimeout);
                    }
                };
                $02.onmouseout = function() {
                    if (!$i.messageHideOnMouseOut) {
                        return;
                    };
                    if ($i.nav.message.style.display !== 'none') {
                        $02.messageTimeout = setTimeout($i.$aH, 500);
                    }
                };
                var $05 = document.createElement("div");
                $05.onclick = function() {
                    $i.nav.message.style.display = 'none';
                };
                $05.className = this.$aD("_message");
                $02.appendChild($05);
                var close = document.createElement("div");
                close.style.position = "absolute";
                close.className = this.$aD("_message_close");
                close.onclick = function() {
                    $i.nav.message.style.display = 'none';
                };
                $02.appendChild(close);
                this.nav.top.appendChild($02);
                this.nav.message = $02;
            } else {
                $02 = $i.nav.message;
            };
            var $0c = function() {
                var $02 = $i.nav.message;
                if ($h.cssClass) {
                    DayPilot.Util.addClass($02.firstChild, $h.cssClass);
                };
                var $05 = $i.nav.message.firstChild;
                $05.innerHTML = $09;
                var $O = DayPilot.sw($i.nav.scroll) + 1;
                $i.nav.message.style.right = $O + "px";
                var $w = $i.messageBarPosition || "Top";
                if ($w === "Bottom") {
                    $i.nav.message.style.bottom = $W + "px";
                    $i.nav.message.style.top = "";
                } else if ($w === "Top") {
                    $i.nav.message.style.bottom = "";
                    $i.nav.message.style.top = top + "px";
                };
                var end = function() {
                    $02.messageTimeout = setTimeout($i.$aH, $0a);
                };
                DayPilot.fade($i.nav.message, 0.2, end);
            };
            clearTimeout($02.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($i.nav.message, -0.2, $0c);
            } else {
                $0c();
            }
        };
        this.$aH = function() {
            if (!$i.nav.message) {
                return;
            };
            var end = function() {
                $i.nav.message.style.display = 'none';
            };
            DayPilot.fade($i.nav.message, -0.2, end);
        };
        this.message.show = function($09) {
            $i.message($09);
        };
        this.message.hide = function() {
            $i.$aH();
        };
        this.$aI = null;
        this.$ac = function() {
            if (!this.nav.scroll) {
                return;
            };
            var $0d = 1;
            if (this.$aI !== null) {
                this.nav.top.style.border = this.$aI;
                this.$aI = null;
            };
            if (this.heightSpec === 'Parent100Pct') {
                this.nav.top.style.height = "100%";
                if (this.hideBorderFor100PctHeight) {
                    this.$aI = this.nav.top.style.border;
                    this.nav.top.style.border = "0 none";
                };
                this.height = parseInt(this.nav.top.clientHeight, 10) - (this.$aF()) - $0d;
            };
            this.nav.scroll.style.height = '30px';
            var $R = this.$aJ();
            var $0e = $R + this.$aF() + $0d;
            if ($R >= 0) {
                this.nav.scroll.style.height = ($R) + 'px';
                this.$aK.style.height = ($R) + 'px';
            };
            if (this.nav.divider) {
                if (!$0e || isNaN($0e) || $0e < 0) {
                    $0e = 0;
                };
                this.nav.divider.style.height = ($0e) + "px";
            };
            if (this.heightSpec !== "Parent100Pct") {
                this.nav.top.style.height = ($0e) + "px";
            };
            if ($i.nav.resScrollSpace) {
                $i.nav.resScrollSpace.style.height = ($R + 20) + "px";
            };
            for (var i = 0; i < this.elements.separators.length; i++) {
                this.elements.separators[i].style.height = this.$9Q + 'px';
            };
            for (var i = 0; i < this.elements.linesVertical.length; i++) {
                this.elements.linesVertical[i].style.height = this.$9Q + 'px';
            };
            $i.$aL();
        };
        this.$a1 = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            this.$9R.pixels = [];
            this.itline = DayPilot.list();
            var $0f = this.cellWidthSpec === "Auto";
            var $0g = function() {
                if (!$0f) {
                    return;
                };
                var $0h = 0;
                if ($i.$aM() && $i.timeline) {
                    $0h = $i.timeline.length;
                } else {
                    if ($i.scale === "Manual") {
                        $0h = $i.timeline.length;
                    } else {
                        $i.$aN();
                        $0h = $i.itline.length;
                        $i.itline = DayPilot.list();
                    }
                };
                var $A = $i.$aO();
                if ($0h > 0 && $A > 0) {
                    var $P = $A / $0h;
                    $i.cellWidth = Math.max($P, $i.cellWidthMin);
                    $i.$aP = $P < $i.cellWidthMin;
                }
            };
            $0g();
            if (this.$aM() && this.timeline) {
                if (this.timeline) {
                    this.itline = DayPilot.list();
                    var $0i = null;
                    var $N = 0;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0j = this.timeline[i];
                        var $P = {};
                        $P.start = new DayPilot.Date($0j.start);
                        $P.end = $0j.end ? new DayPilot.Date($0j.end) : $P.start.addMinutes(this.cellDuration);
                        if (!$0j.width) {
                            var $O = Math.floor($N + this.cellWidth);
                            var $A = $O - Math.floor($N);
                            $P.left = Math.floor($N);
                            $P.width = $A;
                            $N += this.cellWidth;
                        } else {
                            $P.left = $0j.left || $N;
                            $P.width = $0j.width || this.cellWidth;
                            $N += $P.width;
                        };
                        $P.breakBefore = $0i && $0i.ticks !== $P.start.ticks;
                        $0i = $P.end;
                        this.itline.push($P);
                    }
                };
                if ($0f) {
                    this.$aQ();
                }
            } else {
                this.timeHeader = [];
                if (this.scale === "Manual") {
                    this.itline = DayPilot.list();
                    var $N = 0;
                    var $0i = null;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0j = this.timeline[i];
                        var $P = {};
                        $P.start = new DayPilot.Date($0j.start);
                        $P.end = $0j.end ? new DayPilot.Date($0j.end) : $P.start.addMinutes(this.cellDuration);
                        if ($0i && $P.start.ticks < $0i.ticks) {
                            throw "The timeline must be sequential";
                        };
                        var w = $0j.width || this.cellWidth;
                        var $O = Math.floor($N + w);
                        var $A = $O - Math.floor($N);
                        $P.left = Math.floor($N);
                        $P.width = $A;
                        $N += w;
                        $P.breakBefore = $0i && $0i.ticks !== $P.start.ticks;
                        $0i = $P.end;
                        this.itline.push($P);
                    }
                } else {
                    this.$aN();
                };
                this.$aR();
            }
        };
        this.$aS = {};
        var $L = this.$aS;
        $L.shiftX = 0;
        $L.active = false;
        $L.updateRowStarts = function() {
            DayPilot.list($i.rowlist).each(function($x, i) {
                $x.start = $i.$aT();
                $x.data = null;
                $i.$aU(i);
            });
        };
        $L.isEnabled = function() {
            return $i.temp.infiniteScrolling;
        };
        $L.shiftTo = function($0k) {
            var $0k = new DayPilot.Date($0k);
            var $K = $0k.addDays(-$i.$9M).getDatePart();
            var $H = new DayPilot.Duration($K.getTime() - $i.startDate.getDatePart().getTime()).totalDays();
            $L.shiftStart($H, $0k);
        };
        $L.shiftStart = function($0l, scrollTo) {
            var $y;
            $L.active = true;
            var $0m = $i.startDate;
            var $0n = $i.startDate.addDays($0l);
            if ($0l > 0) {
                $y = -$i.getPixels($0n).left;
            };
            $i.startDate = $i.startDate.addDays($0l);
            $i.itline = DayPilot.list();
            $i.$9R.pixels = [];
            $i.$aN();
            $L.updateRowStarts();
            if ($0l < 0) {
                $y = $i.getPixels($0m).left;
            };
            $i.timeHeader = [];
            $i.$aR();
            $i.$a6();
            $i.cellProperties = {};
            $i.$ad();
            $i.$af();
            $i.$a4();
            $i.$ae();
            if (typeof scrollTo !== 'undefined') {
                $i.scrollTo(new DayPilot.Date(scrollTo));
                $i.$ap();
            } else {
                $i.nav.scroll.scrollLeft += $y;
            };
            $i.$aj();
            $L.active = false;
        };
        this.$aN = function() {
            var $0o = (this.viewType !== 'Days') ? this.startDate.addDays(this.days) : this.startDate.addDays(1);
            var $K = this.startDate;
            var end = this.$aV($K);
            var $0p = false;
            var $N = 0;
            while (end.ticks <= $0o.ticks && end.ticks > $K.ticks) {
                if (this.$aW($K, end)) {
                    var $O = Math.floor($N + this.cellWidth);
                    var $A = $O - Math.floor($N);
                    var $0q = {};
                    $0q.start = $K;
                    $0q.end = end;
                    $0q.left = Math.floor($N);
                    $0q.width = $A;
                    $0q.breakBefore = $0p;
                    this.itline.push($0q);
                    $N += this.cellWidth;
                    $0p = false;
                } else {
                    $0p = true;
                };
                $K = end;
                end = this.$aV($K);
            }
        };
        this.$aQ = function() {
            if (!this.timeHeader) {
                return;
            };
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $x = this.timeHeader[y];
                for (var x = 0; x < $x.length; x++) {
                    var h = $x[x];
                    h.left = this.getPixels(new DayPilot.Date(h.start)).left;
                    var $O = this.getPixels(new DayPilot.Date(h.end)).left;
                    var $A = $O - h.left;
                    h.width = $A;
                }
            }
        };
        this.$aR = function() {
            var $0r = this.timeHeaders;
            if (!$0r) {
                $0r = [{
                    "groupBy": this.cellGroupBy
                }, {
                    "groupBy": "Cell"
                }];
            };
            var $0s = $i.$aX();
            for (var i = 0; i < $0r.length; i++) {
                var $0t = $0r[i].groupBy;
                var $0u = $0r[i].format;
                if ($0t === "Default") {
                    $0t = this.cellGroupBy;
                };
                var $0v = [];
                var $K = this.$aT();
                while ($K.ticks < $0s.ticks) {
                    var h = {};
                    h.start = $K;
                    h.end = this.$aY(h.start, $0t);
                    if (h.start.ticks === h.end.ticks) {
                        break;
                    };
                    h.left = this.getPixels(h.start).left;
                    var $O = this.getPixels(h.end).left;
                    var $A = $O - h.left;
                    h.width = $A;
                    h.colspan = Math.ceil($A / (1.0 * this.cellWidth));
                    if (typeof $0u === "string") {
                        h.innerHTML = h.start.toString($0u, $0b.locale());
                    } else {
                        h.innerHTML = this.$aZ(h, $0t);
                    };
                    if ($A > 0) {
                        if (typeof this.onBeforeTimeHeaderRender === 'function') {
                            var $P = {};
                            $P.start = h.start;
                            $P.end = h.end;
                            $P.html = h.innerHTML;
                            $P.toolTip = h.innerHTML;
                            $P.backColor = null;
                            $P.level = this.timeHeader.length;
                            $P.cssClass = null;
                            var $l = {};
                            $l.header = $P;
                            this.onBeforeTimeHeaderRender($l);
                            h.innerHTML = $P.html;
                            h.backColor = $P.backColor;
                            h.toolTip = $P.toolTip;
                            h.areas = $P.areas;
                            h.cssClass = $P.cssClass;
                        };
                        $0v.push(h);
                    };
                    $K = h.end;
                };
                this.timeHeader.push($0v);
            }
        };
        this.$aW = function($K, end) {
            if (typeof this.onIncludeTimeCell === 'function') {
                var $P = {};
                $P.start = $K;
                $P.end = end;
                $P.visible = true;
                var $l = {};
                $l.cell = $P;
                this.onIncludeTimeCell($l);
                return $P.visible;
            };
            if (this.showNonBusiness) {
                return true;
            };
            return this.isBusiness({
                "start": $K,
                "end": end
            });
        };
        this.getPixels = function($u) {
            var $0w = $u.ticks;
            var $0x = this.$9R.pixels[$0w];
            if ($0x) {
                return $0x;
            };
            var $0y = null;
            var $0z = 221876841600000;
            if (this.itline.length === 0 || $0w < this.itline[0].start.ticks) {
                var $j = {};
                $j.cut = false;
                $j.left = 0;
                $j.boxLeft = $j.left;
                $j.boxRight = $j.left;
                $j.i = null;
                return $j;
            };
            var $0A = this.$b0($u);
            var si = Math.max($0A.i - 1, 0);
            for (var i = si; i < this.itline.length; i++) {
                var $P = this.itline[i];
                var $0B = $P.start.ticks;
                var $0C = $P.end.ticks;
                if ($0B < $0w && $0w < $0C) {
                    var $0D = $0w - $0B;
                    var $j = {};
                    $j.cut = false;
                    $j.left = $P.left + this.$b1($P, $0D);
                    $j.boxLeft = $P.left;
                    $j.boxRight = $P.left + $P.width;
                    $j.i = i;
                    break;
                } else if ($0B === $0w) {
                    var $j = {};
                    $j.cut = false;
                    $j.left = $P.left;
                    $j.boxLeft = $j.left;
                    $j.boxRight = $j.left + $P.width;
                    $j.i = i;
                    break;
                } else if ($0C === $0w) {
                    var $j = {};
                    $j.cut = false;
                    $j.left = $P.left + $P.width;
                    $j.boxLeft = $j.left;
                    $j.boxRight = $j.left;
                    $j.i = i + 1;
                    break;
                } else if ($0w < $0B && $0w > $0z) {
                    var $j = {};
                    $j.cut = true;
                    $j.left = $P.left;
                    $j.boxLeft = $j.left;
                    $j.boxRight = $j.left;
                    $j.i = i;
                    break;
                };
                $0z = $0C;
            };
            if (!$j) {
                var $0E = this.itline[this.itline.length - 1];
                var $j = {};
                $j.cut = true;
                $j.left = $0E.left + $0E.width;
                $j.boxLeft = $j.left;
                $j.boxRight = $j.left;
                $j.i = null;
            };
            this.$9R.pixels[$0w] = $j;
            return $j;
        };
        this.getDate = function($N, $0F, $0G) {
            var $w = this.$b2($N, $0G);
            if (!$w) {
                return null;
            };
            var x = $w.x;
            var $0H = this.itline[x];
            if (!$0H) {
                return null;
            };
            var $K = ($0G && !$0F) ? $0H.end : $0H.start;
            if (!$0F) {
                return $K;
            } else {
                return $K.addTime(this.$b3($w.cell, $w.offset));
            }
        };
        this.$b2 = function($y, $0G) {
            if (this.itline.length === 0) {
                return null;
            };
            var $G = 0;
            var $0y = 0;
            for (var i = 0; i < this.itline.length; i++) {
                var $P = this.itline[i];
                var $A = $P.width || this.cellWidth;
                $G += $A;
                if (($y < $G) || ($0G && $y === $G)) {
                    var $j = {};
                    $j.x = i;
                    $j.offset = $y - $0y;
                    $j.cell = $P;
                    return $j;
                };
                $0y = $G;
            };
            var $P = $i.itline.last();
            var $j = {};
            $j.x = this.itline.length - 1;
            $j.offset = $P.width || this.cellWidth;
            $j.cell = $P;
            return $j;
        };
        this.$b4 = function($0I) {
            return this.$b0($0I);
        };
        this.$b5 = function($0I) {
            var $G = new DayPilot.Date($0I);
            for (var i = 0; i < this.itline.length; i++) {
                var $P = this.itline[i];
                if ($P.start.ticks <= $G.ticks && $G.ticks < $P.end.ticks) {
                    var $j = {};
                    $j.hidden = false;
                    $j.current = $P;
                    return $j;
                };
                if ($G.ticks < $P.start.ticks) {
                    var $j = {};
                    $j.hidden = true;
                    $j.previous = i > 0 ? this.itline[i - 1] : null;
                    $j.current = null;
                    $j.next = this.itline[i];
                    return $j;
                }
            };
            var $j = {};
            $j.past = true;
            $j.previous = this.itline[this.itline.length - 1];
            return $j;
        };
        this.$b0 = function($0I) {
            var $G = new DayPilot.Date($0I);
            var $0J = 0;
            var $0K = this.itline[0];
            if ($G.ticks < $0K.start.ticks) {
                var $j = {};
                $j.hidden = true;
                $j.previous = null;
                $j.current = null;
                $j.next = this.itline[0];
                $j.i = -1;
                return $j;
            };
            var to = this.itline.length - 1;
            var $0E = this.itline[to];
            if ($G.ticks > $0E.end.ticks) {
                var $j = {};
                $j.past = true;
                $j.previous = this.itline[this.itline.length - 1];
                $j.i = this.itline.length;
                return $j;
            };
            var si = (function() {
                var $0L = $i.itline;
                var $0M;
                while ($0J <= to) {
                    $0M = Math.floor(($0J + to) / 2);
                    if ($0L[$0M].start.ticks > $G.ticks) {
                        to = $0M - 1;
                    } else if ($0L[$0M].end.ticks < $G.ticks) {
                        $0J = $0M + 1;
                    } else {
                        return $0M;
                    }
                };
                return $0J;
            })();
            for (var i = si; i < this.itline.length; i++) {
                var $P = this.itline[i];
                if ($P.start.ticks <= $G.ticks && $G.ticks < $P.end.ticks) {
                    var $j = {};
                    $j.hidden = false;
                    $j.current = $P;
                    $j.i = i;
                    return $j;
                };
                if ($G.ticks < $P.start.ticks) {
                    var $j = {};
                    $j.hidden = true;
                    $j.previous = i > 0 ? this.itline[i - 1] : null;
                    $j.current = null;
                    $j.next = this.itline[i];
                    $j.i = i;
                    return $j;
                }
            };
            var $j = {};
            $j.past = true;
            $j.previous = this.itline[this.itline.length - 1];
            $j.i = this.itline.length;
            return $j;
        };
        this.$b1 = function($P, $0w) {
            var $A = $P.width || this.cellWidth;
            var $0N = $P.end.ticks - $P.start.ticks;
            return Math.floor(($A * $0w) / ($0N));
        };
        this.$b3 = function($P, $y) {
            var $0N = $P.end.ticks - $P.start.ticks;
            var $A = $P.width || this.cellWidth;
            return Math.floor($y / $A * $0N);
        };
        this.$b6 = function(ev) {
            if ($0O.start) {
                return;
            };
            if (DayPilotScheduler.preventEventClick) {
                return;
            };
            $0P = {};
            $i.$b7(this, ev);
        };
        this.eventClickPostBack = function(e, $q) {
            this.$b8('EventClick', e, $q);
        };
        this.eventClickCallBack = function(e, $q) {
            this.$b9('EventClick', e, $q);
        };
        this.$b7 = function($02, ev) {
            var e = $02.event;
            var ev = ev || window.event;
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if (!e.client.doubleClickEnabled()) {
                $i.$ba($02, ev);
                return;
            };
            if (!$i.timeouts.click) {
                $i.timeouts.click = [];
            };
            var $0Q = function($02, ev) {
                return function() {
                    $i.$ba($02, ev);
                };
            };
            $i.timeouts.click.push(window.setTimeout($0Q($02, ev), $i.doubleClickTimeout));
        };
        this.$bb = function(x) {
            return $i.itline[x];
        };
        this.$ba = function($02, ev) {
            if (typeof ev === "boolean") {
                throw "Invalid _eventClickSingle parameters";
            };
            var e = $02.event;
            var $0R = ev.ctrlKey;
            var $0S = ev.metaKey;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($i.$aq()) {
                var $l = {};
                $l.e = e;
                $l.div = $02;
                $l.originalEvent = ev;
                $l.ctrl = $0R;
                $l.meta = $0S;
                $l.shift = ev.shiftKey;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onEventClick === 'function') {
                    $i.onEventClick($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.eventClickHandling) {
                    case 'PostBack':
                        $i.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $i.$bc($02);
                        break;
                    case 'Select':
                        $i.$bd($02, e, $0R, $0S);
                        break;
                    case 'ContextMenu':
                        var $0T = e.client.contextMenu();
                        if ($0T) {
                            $0T.show(e);
                        } else {
                            if ($i.contextMenu) {
                                $i.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($i.bubble) {
                            $i.bubble.showEvent(e);
                        };
                        break;
                    case "RectangleSelect":
                        if ($i.multiSelectRectangle !== "Disabled") {
                            $0U.start();
                            return false;
                        };
                        break;
                };
                if (typeof $i.onEventClicked === 'function') {
                    $i.onEventClicked($l);
                }
            } else {
                switch ($i.eventClickHandling) {
                    case 'PostBack':
                        $i.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onEventClick(e);
                        break;
                    case 'Edit':
                        $i.$bc($02);
                        break;
                    case 'Select':
                        $i.$bd($02, e, $0R, $0S);
                        break;
                    case 'ContextMenu':
                        var $0T = e.client.contextMenu();
                        if ($0T) {
                            $0T.show(e);
                        } else {
                            if ($i.contextMenu) {
                                $i.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($i.bubble) {
                            $i.bubble.showEvent(e);
                        };
                        break;
                    case "RectangleSelect":
                        if ($i.multiSelectRectangle !== "Disabled") {
                            $0U.start();
                            return false;
                        };
                        break;
                }
            }
        };
        this.$be = function(e) {
            if ($i.$aq()) {
                var $l = {};
                $l.e = e;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onEventDelete === 'function') {
                    $i.onEventDelete($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.eventDeleteHandling) {
                    case 'PostBack':
                        $i.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $i.events.remove(e);
                        break;
                };
                if (typeof $i.onEventDeleted === 'function') {
                    $i.onEventDeleted($l);
                }
            } else {
                switch ($i.eventDeleteHandling) {
                    case 'PostBack':
                        $i.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $q) {
            this.$b8('EventDelete', e, $q);
        };
        this.eventDeleteCallBack = function(e, $q) {
            this.$b9('EventDelete', e, $q);
        };
        this.setHScrollPosition = function($y) {
            this.nav.scroll.scrollLeft = $y;
        };
        this.getScrollX = function() {
            return this.nav.scroll.scrollLeft;
        };
        this.getHScrollPosition = this.getScrollX;
        this.getScrollY = function() {
            return this.nav.scroll.scrollTop;
        };
        this.$bd = function($02, e, $0R, $0S) {
            $i.$bf($02, e, $0R, $0S);
        };
        this.eventSelectPostBack = function(e, $0V, $q) {
            var $0W = {};
            $0W.e = e;
            $0W.change = $0V;
            this.$b8('EventSelect', $0W, $q);
        };
        this.eventSelectCallBack = function(e, $0V, $q) {
            var $0W = {};
            $0W.e = e;
            $0W.change = $0V;
            this.$b9('EventSelect', $0W, $q);
        };
        this.$bf = function($02, e, $0R, $0S) {
            var m = $i.multiselect;
            var $0X = false;
            var $0Y = m.isSelected(e);
            var $0Z = $0R || $0S;
            if (!$0Z && $0Y && !$0X && m.list.length === 1) {
                return;
            };
            if ($i.$aq()) {
                m.previous = m.events();
                var $l = {};
                $l.e = e;
                $l.selected = $0Y;
                $l.ctrl = $0R;
                $l.meta = $0S;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onEventSelect === 'function') {
                    $i.onEventSelect($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.eventSelectHandling) {
                    case 'PostBack':
                        $i.eventSelectPostBack(e, $0V);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $i.eventSelectCallBack(e, $0V);
                        break;
                    case 'Update':
                        m.$bg($02, $0R, $0S);
                        break;
                };
                if (typeof $i.onEventSelected === 'function') {
                    $l.change = m.isSelected(e) ? "selected" : "deselected";
                    $l.selected = m.isSelected(e);
                    $i.onEventSelected($l);
                }
            } else {
                m.previous = m.events();
                m.$bg($02, $0R, $0S);
                var $0V = m.isSelected(e) ? "selected" : "deselected";
                switch ($i.eventSelectHandling) {
                    case 'PostBack':
                        $i.eventSelectPostBack(e, $0V);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $i.eventSelectCallBack(e, $0V);
                        break;
                    case 'JavaScript':
                        $i.onEventSelect(e, $0V);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $q) {
            this.$b8('EventRightClick', e, $q);
        };
        this.eventRightClickCallBack = function(e, $q) {
            this.$b9('EventRightClick', e, $q);
        };
        this.$bh = function(ev) {
            var e = this.event;
            ev = ev || window.event;
            ev.cancelBubble = true;
            if (!this.event.client.rightClickEnabled()) {
                return false;
            };
            if ($i.$aq()) {
                var $l = {};
                $l.e = e;
                $l.div = this;
                $l.originalEvent = ev;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onEventRightClick === 'function') {
                    $i.onEventRightClick($l);
                    if ($l.preventDefault.value) {
                        return false;
                    }
                };
                switch ($i.eventRightClickHandling) {
                    case 'PostBack':
                        $i.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $0T = e.client.contextMenu();
                        if ($0T) {
                            $0T.show(e);
                        } else {
                            if ($i.contextMenu) {
                                $i.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($i.bubble) {
                            $i.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $i.onEventRightClicked === 'function') {
                    $i.onEventRightClicked($l);
                }
            } else {
                switch ($i.eventRightClickHandling) {
                    case 'PostBack':
                        $i.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $0T = e.client.contextMenu();
                        if ($0T) {
                            $0T.show(e);
                        } else {
                            if ($i.contextMenu) {
                                $i.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($i.bubble) {
                            $i.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventDoubleClickPostBack = function(e, $q) {
            this.$b8('EventDoubleClick', e, $q);
        };
        this.eventDoubleClickCallBack = function(e, $q) {
            this.$b9('EventDoubleClick', e, $q);
        };
        this.$bi = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($i.timeouts.click) {
                for (var $10 in $i.timeouts.click) {
                    window.clearTimeout($i.timeouts.click[$10]);
                };
                $i.timeouts.click = null;
            };
            var ev = ev || window.event;
            var e = this.event;
            ev.stopPropagation && ev.stopPropagation();
            ev.cancelBubble = true;
            if ($i.$aq()) {
                var $l = {};
                $l.e = e;
                $l.originalEvent = ev;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onEventDoubleClick === 'function') {
                    $i.onEventDoubleClick($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.eventDoubleClickHandling) {
                    case 'PostBack':
                        $i.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        $i.$bc(this);
                        break;
                    case 'Select':
                        $i.$bd($02, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($i.bubble) {
                            $i.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0T = e.client.contextMenu();
                        if ($0T) {
                            $0T.show(e);
                        } else {
                            if ($i.contextMenu) {
                                $i.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $i.onEventDoubleClicked === 'function') {
                    $i.onEventDoubleClicked($l);
                }
            } else {
                switch ($i.eventDoubleClickHandling) {
                    case 'PostBack':
                        $i.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        $i.$bc(this);
                        break;
                    case 'Select':
                        $i.$bd($02, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($i.bubble) {
                            $i.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0T = e.client.contextMenu();
                        if ($0T) {
                            $0T.show(e);
                        } else {
                            if ($i.contextMenu) {
                                $i.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0n, $11, $q) {
            this.$bj("PostBack", e, $0n, $11, $q);
        };
        this.eventResizeCallBack = function(e, $0n, $11, $q) {
            this.$bj("CallBack", e, $0n, $11, $q);
        };
        this.$bj = function($X, e, $0n, $11, $q) {
            var $0W = {};
            $0W.e = e;
            $0W.newStart = $0n;
            $0W.newEnd = $11;
            this.$bk($X, "EventResize", $0W, $q);
        };
        this.$bl = function(e, $0n, $11) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            $11 = $i.$bm($11);
            if ($i.$aq()) {
                var $l = {};
                var $12 = function() {
                    $13.hide();
                    if ($l.preventDefault.value) {
                        return;
                    };
                    $0n = $l.newStart;
                    $11 = $l.newEnd;
                    switch ($i.eventResizeHandling) {
                        case 'PostBack':
                            $i.eventResizePostBack(e, $0n, $11);
                            break;
                        case 'CallBack':
                            $i.eventResizeCallBack(e, $0n, $11);
                            break;
                        case 'Notify':
                            $i.eventResizeNotify(e, $0n, $11);
                            break;
                        case 'Update':
                            $i.$bn($l);
                            break;
                    };
                    if (typeof $i.onEventResized === 'function') {
                        $i.onEventResized($l);
                    }
                };
                $l.e = e;
                $l.async = false;
                $l.loaded = function() {
                    $12();
                };
                $l.newStart = $0n;
                $l.newEnd = $11;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                $l.multiresize = DayPilot.list($14.list);
                var $15 = {};
                $15.event = e;
                $15.start = $0n;
                $15.end = $11;
                $l.multiresize.splice(0, 0, $15);
                if (typeof $i.onEventResize === 'function') {
                    $i.onEventResize($l);
                };
                if (!$l.async) {
                    $12();
                } else {
                    if ($i.blockOnCallBack) {
                        $13.show();
                    }
                }
            } else {
                switch ($i.eventResizeHandling) {
                    case 'PostBack':
                        $i.eventResizePostBack(e, $0n, $11);
                        break;
                    case 'CallBack':
                        $i.eventResizeCallBack(e, $0n, $11);
                        break;
                    case 'JavaScript':
                        $i.onEventResize(e, $0n, $11);
                        break;
                    case 'Notify':
                        $i.eventResizeNotify(e, $0n, $11);
                        break;
                    case 'Update':
                        $i.$bn($l);
                        break;
                }
            }
        };
        this.eventMovePostBack = function(e, $0n, $11, $16, $q, $0v) {
            this.$bo("PostBack", e, $0n, $11, $16, $q, $0v);
        };
        this.eventMoveCallBack = function(e, $0n, $11, $16, $q, $0v) {
            this.$bo("CallBack", e, $0n, $11, $16, $q, $0v);
        };
        this.$bo = function($X, e, $0n, $11, $16, $q, $0v) {
            var $17 = e && !!e.preventDefault;
            var $0W = {};
            if ($17) {
                var $l = e;
                $0W.e = $l.e;
                $0W.newStart = $l.newStart;
                $0W.newEnd = $l.newEnd;
                $0W.newResource = $l.newResource;
                $0W.position = $l.position;
                $0W.multimove = [];
                $l.multimove.each(function($00) {
                    var $18 = {};
                    $18.e = $00.event;
                    $18.newStart = $00.start;
                    $18.newEnd = $00.end;
                    $18.newResource = $00.event.resource();
                    if ($18.e === $l.e || $18.e.data.id == $l.e.data.id) {
                        $18.newResource = $l.newResource;
                    } else if (mm.rowoffset) {
                        var ri = $00.event.part.dayIndex + mm.rowoffset;
                        $18.newResource = $i.rowlist[ri].id;
                    };
                    $0W.multimove.push($18);
                });
            } else {
                $0W.e = e;
                $0W.newStart = $0n;
                $0W.newEnd = $11;
                $0W.newResource = $16;
                $0W.position = $0v;
            };
            this.$bk($X, "EventMove", $0W, $q);
        };
        this.$bp = function($X, $l, $q) {
            var $0W = {};
            $0W.start = $l.start;
            $0W.end = $l.end;
            $0W.resource = $l.resource;
            $0W.multirange = [];
            $l.multirange.each(function($00) {
                var $19 = {};
                $19.start = $00.start;
                $19.end = $00.end;
                $19.resource = $00.resource;
                $0W.multirange.push($19);
            });
            this.$bk($X, "TimeRangeSelected", $0W, $q);
        };
        this.$bk = function($X, $1a, $0W, $q) {
            if ($X === 'PostBack') {
                $i.$b8($1a, $0W, $q);
            } else if ($X === 'CallBack') {
                $i.$b9($1a, $0W, $q, "CallBack");
            } else if ($X === 'Immediate') {
                $i.$b9($1a, $0W, $q, "Notify");
            } else if ($X === 'Queue') {
                $i.queue.add(new DayPilot.Action(this, $1a, $0W, $q));
            } else if ($X === 'Notify') {
                if ($0b.notifyType() === 'Notify') {
                    $i.$b9($1a, $0W, $q, "Notify");
                } else {
                    $i.queue.add(new DayPilot.Action($i, $1a, $0W, $q));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.eventMoveNotify = function(e, $0n, $11, $16, $q, $0v) {
            var $17 = e && !!e.preventDefault;
            if ($17) {
                var $l = e;
                $l.old = new DayPilot.Event($l.e.copy(), $i);
                $l.multimove.each(function($00) {
                    $00.old = new DayPilot.Event($00.event.copy(), $i);
                });
                $i.$bn($l);
                $l.e = $l.old;
                delete $l.old;
                $l.multimove.each(function($00) {
                    $00.event = $00.old;
                    delete $00.old;
                });
            } else {
                e = new DayPilot.Event(e.copy(), $i);
                var $1b = $i.events.$bq(e.data);
                e.start($0n);
                e.end($11);
                e.resource($16);
                e.commit();
                $1b = $1b.concat($i.events.$br(e.data));
                $i.$bs($1b);
                $i.$bt();
                $i.$bu($1b);
            };
            this.$bo("Notify", e, $0n, $11, $16, $q, $0v);
        };
        this.eventResizeNotify = function(e, $0n, $11, $q) {
            var $1c = new DayPilot.Event(e.copy(), this);
            var $1b = $i.events.$bq(e.data);
            e.start($0n);
            e.end($11);
            e.commit();
            $1b = $1b.concat($i.events.$br(e.data));
            $i.$bs($1b);
            $i.$bt();
            $i.$bu($1b);
            this.$bj("Notify", $1c, $0n, $11, $q);
        };
        this.multiselect = {};
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$ag = function($Y) {
            $i.multiselect.list = DayPilot.list($Y).map(function($00) {
                return new DayPilot.Event($00, $i);
            });
        };
        this.multiselect.$bv = function() {
            var m = $i.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $i.multiselect;
            var $Z = DayPilot.list();
            $Z.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $Z.push(m.list[i]);
            };
            return $Z;
        };
        this.multiselect.$bw = function() {};
        this.multiselect.$bg = function($02, $1d, $1e) {
            var m = $i.multiselect;
            if (m.isSelected($02.event)) {
                if ($i.allowMultiSelect) {
                    if ($1d || $1e) {
                        m.remove($02.event, true);
                    } else {
                        var $0h = m.list.length;
                        m.clear();
                        if ($0h > 1) {
                            m.add($02.event, true);
                        }
                    }
                } else {
                    m.clear();
                }
            } else {
                if ($i.allowMultiSelect) {
                    if ($1d || $1e) {
                        m.add($02.event, true);
                    } else {
                        m.clear();
                        m.add($02.event, true);
                    }
                } else {
                    m.clear();
                    m.add($02.event, true);
                }
            };
            m.$bx($02);
            m.$bw();
        };
        this.multiselect.$by = function(ev) {
            var m = $i.multiselect;
            return m.$bz(ev, m.initList);
        };
        this.multiselect.$bA = function() {
            var m = $i.multiselect;
            var $Y = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $Y.push(event.value());
            };
            alert($Y.join("\n"));
        };
        this.multiselect.add = function(ev, $1f) {
            var m = $i.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($1f) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $1f) {
            var m = $i.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            };
            if ($1f) {
                return;
            };
            m.redraw();
        };
        this.multiselect.clear = function($1f) {
            var m = $i.multiselect;
            m.list = [];
            if ($1f) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $i.multiselect;
            m.divs = [];
            for (var i = 0; i < $i.elements.events.length; i++) {
                var $02 = $i.elements.events[i];
                if (!$02.event) {
                    continue;
                };
                if (!$02.event.isEvent) {
                    continue;
                };
                if (m.isSelected($02.event)) {
                    m.$bB($02);
                } else {
                    m.$bC($02);
                }
            }
        };
        this.multiselect.$bD = function(ev) {
            var m = $i.multiselect;
            var $02 = null;
            for (var i = 0; i < $i.elements.events.length; i++) {
                if (m.isSelected($i.elements.events[i].event)) {
                    $02 = $i.elements.events[i];
                    break;
                }
            };
            m.$bx($02);
        };
        this.multiselect.$bx = function($02) {
            if (!$02) {
                return;
            };
            var m = $i.multiselect;
            if (m.isSelected($02.event)) {
                m.$bB($02);
            } else {
                m.$bC($02);
            }
        };
        this.multiselect.$bB = function($02) {
            var m = $i.multiselect;
            var cn = $i.$aD("_selected");
            var $02 = m.$bE($02);
            DayPilot.Util.addClass($02, cn);
            m.divs.push($02);
        };
        this.multiselect.$bE = function($02) {
            return $02;
        };
        this.multiselect.$bF = function() {
            var m = $i.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $02 = m.divs[i];
                m.$bC($02, true);
            };
            m.divs = [];
        };
        this.multiselect.$bC = function($02, $1g) {
            var m = $i.multiselect;
            var cn = $i.$aD("_selected");
            DayPilot.Util.removeClass($02, cn);
            if ($1g) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $02);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            if (!ev) {
                return false;
            };
            if (!ev.isEvent) {
                return false;
            };
            return $i.multiselect.$bz(ev, $i.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            var $q = ev.data;
            for (var i = 0; i < $i.multiselect.list.length; i++) {
                var $00 = $i.multiselect.list[i];
                if ($00.data === $q) {
                    return i;
                }
            };
            return -1;
        };
        this.multiselect.$bz = function(e, $Y) {
            if (!$Y) {
                return false;
            };
            for (var i = 0; i < $Y.length; i++) {
                var ei = $Y[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.id === 'function') {
                    if (ei.id() !== null && e.id() !== null && ei.id() === e.id()) {
                        return true;
                    };
                    if (ei.id() === null && e.id() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start().toStringSortable()) {
                        return true;
                    }
                } else {
                    if (ei.id !== null && e.id() !== null && ei.id === e.id()) {
                        return true;
                    };
                    if (ei.id === null && e.id() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.multiselect.startRectangle = function() {
            $0U.start();
        };
        this.$bG = function() {
            this.$af();
            this.$ai();
        };
        this.$bH = function() {
            $i.$a5();
            $i.$aa();
            $i.$bI();
            if ($i.progressiveRowRendering) {
                $i.$bJ();
            }
        };
        this.$bx = function($l) {
            var $l = $l || {};
            var $1h = !$l.eventsOnly;
            if (!$i.cssOnly) {
                $i.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")
            };
            if ($1h) {
                if (!this.$aM()) {
                    $i.timeHeader = null;
                    $i.cellProperties = {};
                };
                $i.$a0();
                $i.$a1();
                if (!$l || !$l.dontLoadResources) {
                    $i.$a2();
                }
            };
            this.$a4();
            if ($1h) {
                $i.$bK();
                $i.$a6();
                $i.$ao($i.selectedRows);
            };
            $i.$a5();
            $i.$a7();
            $i.$aa();
            $i.$bI();
            $i.$ab();
            $1i.hideLinkpoints();
            this.$ae();
            this.$ad();
            this.$9Y();
            this.$a3();
            this.$ah();
            this.$bG();
            $i.$ac();
            if ($l.immediateEvents || $l.eventsOnly) {
                $i.$aj();
            } else {
                setTimeout(function() {
                    $i.$aj();
                }, 100);
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            };
            this.$an();
            this.$ap();
            this.$bL();
            this.$9V();
        };
        this.$bL = function() {
            if (typeof $i.onAfterUpdate !== "function") {
                return;
            };
            var $l = {};
            $i.onAfterUpdate($l);
        };
        this.update = function($h) {
            if ($i.$9J) {
                throw "You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";
            };
            $1j.request($h);
        };
        var $1j = {};
        $1j.timeout = null;
        $1j.options = null;
        $1j.enabled = false;
        $1j.request = function($h) {
            if ($1j.enabled) {
                clearTimeout($1j.timeout);
                $1j.mergeOptions($h);
                $1j.timeout = setTimeout($1j.doit);
            } else {
                $1j.mergeOptions($h);
                $1j.doit();
            }
        };
        $1j.mergeOptions = function($h) {
            if (!$h) {
                return;
            };
            if (!$1j.options) {
                $1j.options = {};
            };
            for (var name in $h) {
                $1j.options[name] = $h[name];
            }
        };
        $1j.doit = function() {
            var $h = $1j.options;
            $1j.options = null;
            if (!$h) {
                $i.$bM && $i.$bx({
                    "immediateEvents": true
                });
                return;
            };
            if ($h.events) {
                $i.events.list = $h.events;
                $i.$bM && $i.$bx({
                    "eventsOnly": true
                });
            } else if ($h.separators) {
                $i.separators = $h.separators;
                $i.$bM && $i.$bG();
            } else if ($h.rowHeaderColumns) {
                $i.rowHeaderColumns = $h.rowHeaderColumns;
                $i.$bM && $i.$bH();
            }
        };
        this.$bu = function($1b, $1k, $1l) {
            $1b = DayPilot.ua($1b);
            for (var i = 0; i < $1b.length; i++) {
                var ri = $1b[i];
                $i.$bN(ri);
            };
            if (this.$bO) {
                this.$a7();
                this.$aa();
                this.$ad();
                this.$af();
                for (var i = 0; i < $1b.length; i++) {
                    var ri = $1b[i];
                    this.$bP(ri);
                };
                for (var i = 0; i < $1b.length; i++) {
                    var ri = $1b[i];
                    this.$bQ(ri);
                };
                this.$ah();
                this.$ai();
                this.$bR();
            } else {
                var $1m = true;
                if ($1m) {
                    var $1n = function(i) {
                        if (i >= $1b.length) {
                            return;
                        };
                        var ri = $1b[i];
                        if (!$1k) {
                            $i.$bP(ri);
                        };
                        $i.$bQ(ri);
                        if (i + 1 < $1b.length) {
                            setTimeout(function() {
                                $1n(i + 1);
                            }, 10);
                        } else {
                            $i.$az();
                            $1i.load();
                            $i.multiselect.redraw();
                            if ($1l) {
                                $1l();
                            }
                        }
                    };
                    $1n(0);
                } else {
                    for (var i = 0; i < $1b.length; i++) {
                        var ri = $1b[i];
                        if (!$1k) {
                            this.$bP(ri);
                        };
                        this.$bQ(ri);
                    }
                };
                DayPilot.list($1b).each(function(y) {
                    $i.$bS(y);
                });
                $i.$ah();
            };
            $i.$az();
            $1i.load();
            $i.multiselect.redraw();
            if ($1l) {
                $1l();
            };
            this.$9Y();
        };
        this.$bm = function($u) {
            if ($i.eventEndSpec === "DateTime") {
                return $u;
            };
            if ($u.getDatePart().ticks === $u.ticks) {
                return $u.addDays(-1);
            };
            return $u.getDatePart();
        };
        this.$bT = function($u) {
            if ($i.eventEndSpec === "DateTime") {
                return $u;
            };
            return $u.getDatePart().addDays(1);
        };
        this.$bU = function($u) {
            if ($i.eventEndSpec === "DateTime") {
                return $u;
            };
            return $u.getDatePart();
        };
        this.$bV = function(e, $0n, $11, $16, external, ev, $0v) {
            $i.$bW = null;
            if ($i.eventMoveHandling === 'Disabled') {
                return;
            };
            $11 = $i.$bm($11);
            var $l = {};
            $l.e = e;
            $l.newStart = $0n;
            $l.newEnd = $11;
            $l.newResource = $16;
            $l.external = external;
            $l.ctrl = false;
            $l.meta = false;
            $l.shift = false;
            if (ev) {
                $l.shift = ev.shiftKey;
                $l.ctrl = ev.ctrlKey;
                $l.meta = ev.metaKey;
            };
            $l.multimove = DayPilot.list(mm.list);
            var $15 = {};
            $15.event = e;
            $15.start = $0n;
            $15.end = $11;
            $l.multimove.splice(0, 0, $15);
            $l.position = $0v;
            $l.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if ($i.$aq()) {
                var $12 = function() {
                    $13.hide();
                    if ($l.preventDefault.value) {
                        $i.$bX();
                        return;
                    };
                    $0n = $l.newStart;
                    $11 = $l.newEnd;
                    switch ($i.eventMoveHandling) {
                        case 'PostBack':
                            $i.eventMovePostBack($l);
                            break;
                        case 'CallBack':
                            $i.eventMoveCallBack($l);
                            break;
                        case 'Notify':
                            $i.eventMoveNotify($l);
                            break;
                        case 'Update':
                            $i.$bn($l);
                            break;
                    };
                    $i.$bX();
                    if (typeof $i.onEventMoved === 'function') {
                        $i.onEventMoved($l);
                    }
                };
                $l.async = false;
                $l.loaded = function() {
                    $12();
                };
                if (typeof $i.onEventMove === 'function') {
                    $i.onEventMove($l);
                };
                if (!$l.async) {
                    $12();
                } else {
                    if ($i.blockOnCallBack) {
                        $13.show();
                    }
                }
            } else {
                switch ($i.eventMoveHandling) {
                    case 'PostBack':
                        $i.eventMovePostBack($l);
                        break;
                    case 'CallBack':
                        $i.eventMoveCallBack($l);
                        break;
                    case 'JavaScript':
                        $i.onEventMove(e, $0n, $11, $16, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false, $0v);
                        break;
                    case 'Notify':
                        $i.eventMoveNotify($l);
                        break;
                    case 'Update':
                        $i.$bn($l);
                        break;
                };
                $i.$bX();
            }
        };
        this.$bn = function($l) {
            var e = $l.e;
            var $0n = $l.newStart;
            var $11 = $l.newEnd;
            var $16 = $l.newResource;
            var external = $l.external;
            e.start($0n);
            e.end($11);
            e.resource($16);
            if (external) {
                e.commit();
                $i.events.add(e);
            } else {
                $i.events.update(e);
            };
            if ($l.multimove && !$l.multimove.isEmpty()) {
                $l.multimove.each(function($00) {
                    if ($00.event === e) {
                        return;
                    };
                    $00.event.start($00.start);
                    $00.event.end($00.end);
                    if (mm.rowoffset) {
                        var ri = $00.event.part.dayIndex + mm.rowoffset;
                        var $16 = $i.rowlist[ri].id;
                        $00.event.resource($16);
                    };
                    $00.event.commit();
                    $i.events.update($00.event);
                });
            };
            if ($l.multiresize && !$l.multiresize.isEmpty()) {
                $l.multiresize.each(function($00) {
                    if ($00.event === e) {
                        return;
                    };
                    $00.event.start($00.start);
                    $00.event.end($00.end);
                    $00.event.commit();
                    $i.events.update($00.event);
                });
            };
            $i.$9T();
        };
        this.$bY = function($l, $n) {
            var $m = $i.$bZ($n);
            var $0W = {};
            $0W.args = $l;
            $0W.guid = $m;
            $i.$b9("Bubble", $0W);
        };
        this.$bZ = function($n) {
            var $m = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$m] = $n;
            return $m;
        };
        this.eventMenuClickPostBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.e = e;
            $0W.command = $1o;
            this.$b8('EventMenuClick', $0W, $q);
        };
        this.eventMenuClickCallBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.e = e;
            $0W.command = $1o;
            this.$b9('EventMenuClick', $0W, $q);
        };
        this.$c0 = function($1o, e, $1p) {
            switch ($1p) {
                case 'PostBack':
                    $i.eventMenuClickPostBack(e, $1o);
                    break;
                case 'CallBack':
                    $i.eventMenuClickCallBack(e, $1o);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($K, end, $1q, $q) {
            var $1r = {};
            $1r.start = $K;
            $1r.end = end;
            $1r.resource = $1q;
            this.$b8('TimeRangeSelected', $1r, $q);
        };
        this.timeRangeSelectedCallBack = function($K, end, $1q, $q) {
            var $1r = {};
            $1r.start = $K;
            $1r.end = end;
            $1r.resource = $1q;
            this.$b9('TimeRangeSelected', $1r, $q);
        };
        this.$c1 = function($1r) {
            if (!$1r) {
                return;
            };
            if ($1r.disabled) {
                $i.clearSelection();
                return;
            };
            var $1s = $i.$c2($1r);
            if (!$1s) {
                return;
            };
            $i.$c3($1s.start, $1s.end, $1s.resource);
        };
        this.$c3 = function($K, end, $1q) {
            if ($i.timeRangeSelectedHandling === 'Disabled') {
                return;
            };
            var $1t = end;
            end = $i.$bm($1t);
            var $l = {};
            $l.start = $K;
            $l.end = end;
            $l.resource = $1q;
            $l.preventDefault = function() {
                this.preventDefault.value = true;
            };
            $l.multirange = DayPilot.list(mr.list).map(function($00) {
                return $i.$c2($00);
            });
            if ($l.multirange.isEmpty()) {
                $l.multirange.push({
                    "start": $l.start,
                    "end": $l.end,
                    "resource": $l.resource
                });
            };
            if ($i.$aq()) {
                if (typeof $i.onTimeRangeSelect === 'function') {
                    $i.onTimeRangeSelect($l);
                    if ($l.preventDefault.value) {
                        return;
                    };
                    $K = $l.start;
                    end = $l.end;
                };
                $i.$c4(DayPilotScheduler.rangeHold, $K, end, $l.multirange);
                $i.$c5(DayPilotScheduler.rangeHold);
                switch ($i.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $i.$bp("PostBack", $l);
                        break;
                    case 'CallBack':
                        $i.$bp("CallBack", $l);
                        break;
                };
                if (typeof $i.onTimeRangeSelected === 'function') {
                    $i.onTimeRangeSelected($l);
                }
            } else {
                switch ($i.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $i.$bp("PostBack", $l);
                        break;
                    case 'CallBack':
                        $i.$bp("CallBack", $l);
                        break;
                    case 'JavaScript':
                        $i.onTimeRangeSelected($K, end, $1q, $l.multirange);
                        break;
                    case 'Hold':
                        break;
                }
            }
        };
        this.$c4 = function($1r, $K, end, $1u) {
            if (!$1r || ($1u && $1u.length > 1)) {
                return;
            };
            var $1t = $i.$bT(end);
            var $0H, $P;
            var $1v = 0;
            if ($i.viewType === "Days") {
                var $x = $i.$ar($K);
                $1v = $x.start.getTime() - $i.$aT().getTime();
            };
            if ($K.getTime() < $i.itline[0].start.getTime()) {
                $1r.start.x = 0;
            } else {
                $0H = $i.$b4($K.addTime(-$1v));
                $P = $0H.current || $0H.previous;
                $1r.start.x = DayPilot.indexOf($i.itline, $P);
            };
            $0H = $i.$b4($1t.addSeconds(-1).addTime(-$1v));
            if ($0H.past) {
                $1r.end.x = $i.itline.length - 1;
            } else {
                $P = $0H.current || $0H.next;
                $1r.end.x = DayPilot.indexOf($i.itline, $P);
            }
        };
        this.$ar = function($K) {
            var $0k = $K.getDatePart();
            return DayPilot.list($i.rowlist).find(function($00) {
                return $00.start.getDatePart() === $0k;
            });
        };
        this.timeRangeDoubleClickPostBack = function($K, end, $1q, $q) {
            var $1r = {};
            $1r.start = $K;
            $1r.end = end;
            $1r.resource = $1q;
            this.$b8('TimeRangeDoubleClick', $1r, $q);
        };
        this.timeRangeDoubleClickCallBack = function($K, end, $1q, $q) {
            var $1r = {};
            $1r.start = $K;
            $1r.end = end;
            $1r.resource = $1q;
            this.$b9('TimeRangeDoubleClick', $1r, $q);
        };
        this.$c6 = function($K, end, $1q) {
            end = $i.$bm(end);
            if ($i.$aq()) {
                var $l = {};
                $l.start = $K;
                $l.end = end;
                $l.resource = $1q;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onTimeRangeDoubleClick === 'function') {
                    $i.onTimeRangeDoubleClick($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $i.timeRangeDoubleClickPostBack($K, end, $1q);
                        break;
                    case 'CallBack':
                        $i.timeRangeDoubleClickCallBack($K, end, $1q);
                        break;
                };
                if (typeof $i.onTimeRangeDoubleClicked === 'function') {
                    $i.onTimeRangeDoubleClicked($l);
                }
            } else {
                switch ($i.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $i.timeRangeDoubleClickPostBack($K, end, $1q);
                        break;
                    case 'CallBack':
                        $i.timeRangeDoubleClickCallBack($K, end, $1q);
                        break;
                    case 'JavaScript':
                        $i.onTimeRangeDoubleClick($K, end, $1q);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.selection = e;
            $0W.command = $1o;
            this.$b8("TimeRangeMenuClick", $0W, $q);
        };
        this.timeRangeMenuClickCallBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.selection = e;
            $0W.command = $1o;
            this.$b9("TimeRangeMenuClick", $0W, $q);
        };
        this.$c7 = function($1o, e, $1p) {
            switch ($1p) {
                case 'PostBack':
                    $i.timeRangeMenuClickPostBack(e, $1o);
                    break;
                case 'CallBack':
                    $i.timeRangeMenuClickCallBack(e, $1o);
                    break;
            }
        };
        this.linkMenuClickPostBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.link = e;
            $0W.command = $1o;
            this.$b8("LinkMenuClick", $0W, $q);
        };
        this.linkMenuClickCallBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.link = e;
            $0W.command = $1o;
            this.$b9("LinkMenuClick", $0W, $q);
        };
        this.$c8 = function($1o, e, $1p) {
            switch ($1p) {
                case 'PostBack':
                    $i.linkMenuClickPostBack(e, $1o);
                    break;
                case 'CallBack':
                    $i.linkMenuClickCallBack(e, $1o);
                    break;
            }
        };
        this.rowMenuClickPostBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.resource = e;
            $0W.command = $1o;
            this.$b8("RowMenuClick", $0W, $q);
        };
        this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack;
        this.rowMenuClickCallBack = function(e, $1o, $q) {
            var $0W = {};
            $0W.resource = e;
            $0W.command = $1o;
            this.$b9("RowMenuClick", $0W, $q);
        };
        this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack;
        this.$c9 = function($1o, e, $1p) {
            switch ($1p) {
                case 'PostBack':
                    $i.rowMenuClickPostBack(e, $1o);
                    break;
                case 'CallBack':
                    $i.rowMenuClickCallBack(e, $1o);
                    break;
            }
        };
        this.$ca = function($x, $1w) {
            var r = $1x.$cb($x);
            var c = r.cells[0];
            var $1y = c.textDiv;
            $1y.innerHTML = $1w;
            $x.Text = $1w;
            $x.html = $1w;
        };
        this.$cc = function($x, $1w) {
            if (!$1w) {
                return;
            };
            var $l = {};
            $l.text = $1w;
            $l.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof $i.onRowCreate === "function") {
                $i.onRowCreate($l);
                if ($l.preventDefault.value) {
                    return;
                }
            };
            switch ($i.rowCreateHandling) {
                case "CallBack":
                    $i.rowCreateCallBack($l.text);
                    break;
                case "PostBack":
                    $i.rowCreatePostBack($l.text);
                    break;
            };
            if (typeof $i.onRowCreated === "function") {
                $i.onRowCreated($l);
            }
        };
        this.$cd = function($x, $1w) {
            if ($x.isNewRow) {
                $i.$cc($x, $1w);
                return;
            };
            var $1z = DayPilot.indexOf($i.rowlist, $x);
            var e = $i.$ce($x, $1z);
            if ($i.$aq()) {
                var $l = {};
                $l.resource = e;
                $l.newText = $1w;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onRowEdit === 'function') {
                    $i.onRowEdit($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.rowEditHandling) {
                    case 'PostBack':
                        $i.rowEditPostBack(e, $1w);
                        break;
                    case 'CallBack':
                        $i.rowEditCallBack(e, $1w);
                        break;
                    case 'Update':
                        $i.$ca($x, $1w);
                        break;
                };
                if (typeof $i.onRowEdited === 'function') {
                    $i.onRowEdited($l);
                }
            } else {
                switch ($i.rowEditHandling) {
                    case 'PostBack':
                        $i.rowEditPostBack(e, $1w);
                        break;
                    case 'CallBack':
                        $i.rowEditCallBack(e, $1w);
                        break;
                    case 'JavaScript':
                        $i.onrowEdit(e, $1w);
                        break;
                }
            }
        };
        this.rowCreatePostBack = function($1w, $q) {
            var $0W = {};
            $0W.text = $1w;
            this.$b8("RowCreate", $0W, $q);
        };
        this.rowCreateCallBack = function($1w, $q) {
            var $0W = {};
            $0W.text = $1w;
            this.$b9("RowCreate", $0W, $q);
        };
        this.rowEditPostBack = function(e, $1w, $q) {
            var $0W = {};
            $0W.resource = e;
            $0W.newText = $1w;
            this.$b8("RowEdit", $0W, $q);
        };
        this.rowEditCallBack = function(e, $1w, $q) {
            var $0W = {};
            $0W.resource = e;
            $0W.newText = $1w;
            this.$b9("RowEdit", $0W, $q);
        };
        this.rowMovePostBack = function($1A, $1B, $w, $q) {
            var $0W = {};
            $0W.source = $1A;
            $0W.target = $1B;
            $0W.position = $w;
            this.$b8("RowMove", $0W, $q);
        };
        this.rowMoveCallBack = function($1A, $1B, $w, $q) {
            var $0W = {};
            $0W.source = $1A;
            $0W.target = $1B;
            $0W.position = $w;
            this.$b9("RowMove", $0W, $q);
        };
        this.rowMoveNotify = function($1A, $1B, $w, $q) {
            var $0W = {};
            $0W.source = $1A;
            $0W.target = $1B;
            $0W.position = $w;
            this.$b9("RowMove", $0W, $q, "Notify");
        };
        this.rowClickPostBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b8("RowClick", $0W, $q);
        };
        this.resourceHeaderClickPostBack = this.rowClickPostBack;
        this.rowClickCallBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b9("RowClick", $0W, $q);
        };
        this.resourceHeaderClickCallBack = this.rowClickCallBack;
        this.$cf = function(e, $1d, $1C, $1e) {
            if ($i.rowDoubleClickHandling === "Disabled") {
                $i.$cg(e, $1d, $1C, $1e);
                return;
            };
            if (!$i.timeouts.resClick) {
                $i.timeouts.resClick = [];
            };
            var $1D = function(e, $1d, $1C, $1e) {
                return function() {
                    $i.$cg(e, $1d, $1C, $1e);
                };
            };
            $i.timeouts.resClick.push(window.setTimeout($1D(e, $1d, $1C, $1e), $i.doubleClickTimeout));
        };
        this.$cg = function(e, $1d, $1C, $1e) {
            var $1E = $i.resourceHeaderClickHandling || $i.rowClickHandling;
            if ($i.$aq()) {
                var $l = {};
                $l.resource = e;
                $l.row = e;
                $l.ctrl = $1d;
                $l.shift = $1C;
                $l.meta = $1e;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onRowClick === 'function') {
                    $i.onRowClick($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                if (typeof $i.onResourceHeaderClick === 'function') {
                    $i.onResourceHeaderClick($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($1E) {
                    case 'PostBack':
                        $i.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.rowClickCallBack(e);
                        break;
                    case 'Select':
                        $i.$ch(e.$.row, $1d, $1C, $1e);
                        break;
                    case 'Edit':
                        $i.$ci.edit(e.$.row);
                        break;
                };
                if (typeof $i.onRowClicked === 'function') {
                    $i.onRowClicked($l);
                };
                if (typeof $i.onResourceHeaderClicked === 'function') {
                    $i.onResourceHeaderClicked($l);
                }
            } else {
                switch ($1E) {
                    case 'PostBack':
                        $i.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.rowClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onRowClick(e);
                        break;
                    case 'Select':
                        $i.$ch(e.$.row, $1d, $1C);
                        break;
                    case 'Edit':
                        $i.$ci.edit(e.$.row);
                        break;
                }
            }
        };
        this.timeHeaderClickPostBack = function(e, $q) {
            var $0W = {};
            $0W.header = e;
            this.$b8("TimeHeaderClick", $0W, $q);
        };
        this.timeHeaderClickCallBack = function(e, $q) {
            var $0W = {};
            $0W.header = e;
            this.$b9("TimeHeaderClick", $0W, $q);
        };
        this.$cj = function(e) {
            if ($i.$aq()) {
                var $l = {};
                $l.header = e;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onTimeHeaderClick === 'function') {
                    $i.onTimeHeaderClick($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $i.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.timeHeaderClickCallBack(e);
                        break;
                };
                if (typeof $i.onTimeHeaderClicked === 'function') {
                    $i.onTimeHeaderClicked($l);
                }
            } else {
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $i.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.timeHeaderClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onTimeHeaderClick(e);
                        break;
                }
            }
        };
        this.resourceCollapsePostBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b8("ResourceCollapse", $0W, $q);
        };
        this.resourceCollapseCallBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b9("ResourceCollapse", $0W, $q);
        };
        this.$ck = function(e) {
            if ($i.$aq()) {
                var $l = {};
                $l.resource = e;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onResourceCollapse === 'function') {
                    $i.onResourceCollapse($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $i.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $i.resourceCollapseCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $i.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $i.resourceCollapseCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onResourceCollapse(e);
                        break;
                }
            }
        };
        this.resourceExpandPostBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b8("ResourceExpand", $0W, $q);
        };
        this.resourceExpandCallBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b9("ResourceExpand", $0W, $q);
        };
        this.$cl = function(e) {
            if ($i.$aq()) {
                var $l = {};
                $l.resource = e;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onResourceExpand === 'function') {
                    $i.onResourceExpand($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $i.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $i.resourceExpandCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $i.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $i.resourceExpandCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onResourceExpand(e);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $1w, $q) {
            var $0W = {};
            $0W.e = e;
            $0W.newText = $1w;
            this.$b8("EventEdit", $0W, $q);
        };
        this.eventEditCallBack = function(e, $1w, $q) {
            var $0W = {};
            $0W.e = e;
            $0W.newText = $1w;
            this.$b9("EventEdit", $0W, $q);
        };
        this.$cm = function(e, $1w, $1F) {
            if ($i.$aq()) {
                var $l = {};
                $l.e = e;
                $l.newText = $1w;
                $l.canceled = $1F;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onEventEdit === 'function') {
                    $i.onEventEdit($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                if (!$1F) {
                    switch ($i.eventEditHandling) {
                        case 'PostBack':
                            $i.eventEditPostBack(e, $1w);
                            break;
                        case 'CallBack':
                            $i.eventEditCallBack(e, $1w);
                            break;
                        case 'Update':
                            e.text($1w);
                            $i.events.update(e);
                            break;
                    }
                };
                if (typeof $i.onEventEdited === 'function') {
                    $i.onEventEdited($l);
                }
            } else {
                switch ($i.eventEditHandling) {
                    case 'PostBack':
                        $i.eventEditPostBack(e, $1w);
                        break;
                    case 'CallBack':
                        $i.eventEditCallBack(e, $1w);
                        break;
                    case 'JavaScript':
                        $i.onEventEdit(e, $1w);
                        break;
                }
            }
        };
        this.commandCallBack = function($1o, $q) {
            this.$cn("CallBack", $1o, $q);
        };
        this.commandPostBack = function($1o, $q) {
            this.$cn("PostBack", $1o, $q);
        };
        this.$cn = function($X, $1o, $q) {
            var $0W = {};
            $0W.command = $1o;
            this.$bk($X, "Command", $0W, $q);
        };
        this.$b8 = function($1a, $1G, $q) {
            var $1H = {};
            $1H.action = $1a;
            $1H.type = "PostBack";
            $1H.parameters = $1G;
            $1H.data = $q;
            $1H.header = this.$co();
            var $1I = "JSON" + DayPilot.JSON.stringify($1H);
            __doPostBack($i.uniqueID, $1I);
        };
        this.$b9 = function($1a, $1G, $q, $X) {
            if (!$i.$aM()) {
                $i.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $X === 'undefined') {
                $X = "CallBack";
            };
            this.$cp();
            $i.$cq();
            var $1H = {};
            $1H.action = $1a;
            $1H.type = $X;
            $1H.parameters = $1G;
            $1H.data = $q;
            $1H.header = this.$co();
            var $1J = DayPilot.JSON.stringify($1H);
            var $1I;
            if (typeof Iuppiter !== 'undefined' && Iuppiter.compress) {
                $1I = "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress($1J));
            } else {
                $1I = "JSON" + $1J;
            };
            this.$cr($1H);
            var $k = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$cs, $1I, this.$ct);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $1I, this.$9S, $k, this.callbackError, true);
            }
        };
        this.$cr = function($1H) {
            var $l = {};
            if (typeof $i.onCallBackStart === 'function') {
                $i.onCallBackStart($l);
            }
        };
        this.$9X = function() {
            var $l = {};
            if (typeof $i.onCallBackEnd === 'function') {
                setTimeout(function() {
                    $i.onCallBackEnd($l);
                }, 0);
            }
        };
        this.$aM = function() {
            if (this.backendUrl) {
                return true;
            };
            if (this.$cu()) {
                return true;
            };
            return false;
        };
        this.$cu = function() {
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$ct = function($1K) {
            if (typeof $i.onAjaxError === 'function') {
                var $l = {};
                $l.request = $1K;
                $i.onAjaxError($l);
            } else if (typeof $i.ajaxError === 'function') {
                $i.ajaxError($1K);
            }
        };
        this.$cs = function($1L) {
            $i.$9S($1L.responseText);
        };
        this.$co = function() {
            var h = {};
            h.v = this.v;
            h.control = "dps";
            h.id = this.id;
            h.startDate = $i.startDate;
            h.days = $i.days;
            h.cellDuration = $i.cellDuration;
            h.cellGroupBy = $i.cellGroupBy;
            h.cellWidth = $i.cellWidth;
            h.cellWidthSpec = $i.cellWidthSpec;
            h.viewType = $i.viewType;
            h.hourNameBackColor = $i.hourNameBackColor;
            h.showNonBusiness = $i.showNonBusiness;
            h.businessBeginsHour = $i.businessBeginsHour;
            h.businessEndsHour = $i.businessEndsHour;
            h.weekStarts = $i.weekStarts;
            h.treeEnabled = $i.treeEnabled;
            h.locale = $i.locale;
            h.timeZone = $i.timeZone;
            h.tagFields = $i.tagFields;
            h.timeHeaders = $i.timeHeaders;
            h.cssClassPrefix = $i.cssClassPrefix;
            h.durationBarMode = $i.durationBarMode;
            h.showBaseTimeHeader = true;
            h.rowHeaderColumns = $i.rowHeaderColumns;
            h.rowMarginBottom = $i.rowMarginBottom;
            h.rowMarginTop = $i.rowMarginTop;
            h.rowMinHeight = $i.rowMinHeight;
            h.scale = $i.scale;
            h.clientState = $i.clientState;
            if (this.nav.scroll) {
                h.scrollX = this.nav.scroll.scrollLeft;
                h.scrollY = this.nav.scroll.scrollTop;
            };
            h.selected = $i.multiselect.events();
            h.selectedRows = $1x.$cv();
            h.hashes = $i.hashes;
            var $J = $i.$cw(h.scrollX, h.scrollY);
            var $1r = $i.$cx($J);
            var $1M = $i.$cy($J);
            h.rangeStart = $1r.start;
            h.rangeEnd = $1r.end;
            h.resources = $1M;
            h.dynamicLoading = $i.dynamicLoading;
            h.separators = this.separators;
            if (this.syncResourceTree && this.viewType != "Days") {
                h.tree = this.$cz();
            };
            if (this.syncLinks) {
                h.links = this.$cA();
            };
            if (this.scale === "Manual") {
                h.timeline = this.$cB();
            };
            if (typeof $i.onCallBackHeader === "function") {
                var $l = {};
                $l.header = h;
                $i.onCallBackHeader($l);
            };
            return h;
        };
        this.$cB = function() {
            var $Y = [];
            DayPilot.list($i.timeline).each(function($00) {
                var $1J = {};
                $1J.start = $00.start;
                $1J.end = $00.end;
                $1J.width = $00.width;
                $Y.push($1J);
            });
            return $Y;
        };
        this.$cA = function() {
            var $Y = [];
            var $1N = function(link) {
                var $j = {};
                if (link.tags) {
                    for (var name in link.tags) {
                        $j[name] = "" + link.tags[name];
                    }
                };
                return $j;
            };
            if (!DayPilot.isArray($i.links.list)) {
                return $Y;
            };
            for (var i = 0; i < $i.links.list.length; i++) {
                var link = $i.links.list[i];
                var $1J = {};
                $1J.id = link.id;
                $1J.from = link.from;
                $1J.to = link.to;
                $1J.type = link.type;
                $1J.tags = $1N(link);
                $Y.push($1J);
            };
            return $Y;
        };
        this.getViewPort = function() {
            var scrollX = this.nav.scroll.scrollLeft - $L.shiftX;
            var scrollY = this.nav.scroll.scrollTop;
            var $Q = {};
            if ($i.viewType !== "Days") {
                var $J = $i.$cw(scrollX, scrollY);
                var $1r = $i.$cx($J);
                var $1M = $i.$cy($J);
                $Q.start = $1r.start;
                $Q.end = $1r.end;
                $Q.resources = $1M;
            } else {
                var $J = $i.$cw(scrollX, scrollY);
                var $1r = $i.$cC($J);
                $Q.start = $1r.start;
                $Q.end = $1r.end;
                $Q.resources = [];
            };
            return $Q;
        };
        this.$cw = function(scrollX, scrollY) {
            var $J = {};
            $J.start = {};
            $J.end = {};
            $J.start.x = Math.floor(scrollX / $i.cellWidth);
            $J.end.x = Math.floor((scrollX + $i.nav.scroll.clientWidth) / $i.cellWidth);
            $J.start.y = $i.$cD(scrollY).i;
            $J.end.y = $i.$cD(scrollY + $i.nav.scroll.clientHeight).i;
            var $1O = this.itline.length;
            if ($J.end.x >= $1O) {
                $J.end.x = $1O - 1;
            };
            return $J;
        };
        this.$cx = function($J) {
            var $j = {};
            if (this.itline.length <= 0) {
                $j.start = this.startDate;
                $j.end = this.startDate;
                return $j;
            };
            if (!this.itline[$J.start.x]) {
                throw 'Internal error: area.start.x is null.';
            };
            $j.start = this.itline[$J.start.x].start;
            $j.end = this.itline[$J.end.x].end;
            return $j;
        };
        this.$cy = function($J) {
            if (!$J) {
                var $J = this.$cw(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
            };
            var $1M = [];
            $1M.ignoreToJSON = true;
            for (var i = $J.start.y; i <= $J.end.y; i++) {
                var r = $i.rowlist[i];
                if (r && !r.hidden) {
                    $1M.push(r.id);
                }
            };
            return $1M;
        };
        this.$cC = function($J) {
            if (!$J) {
                var $J = this.$cw(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
            };
            var $1M = {};
            if ($i.rowlist.length === 0) {
                return $1M;
            };
            var $1P = $i.itline[$i.itline.length - 1].end.getTime() - $i.itline[0].start.getTime();
            $1M.start = $i.rowlist[$J.start.y] && $i.rowlist[$J.start.y].start;
            $1M.end = $i.rowlist[$J.end.y] && $i.rowlist[$J.end.y].start.addTime($1P);
            return $1M;
        };
        this.$cz = function() {
            var $1Q = [];
            $1Q.ignoreToJSON = true;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $x = this.rowlist[i];
                if ($x.level > 0) {
                    continue;
                };
                if ($x.isNewRow) {
                    continue;
                };
                var $1R = this.$cE(i);
                $1Q.push($1R);
            };
            return $1Q;
        };
        this.$cF = function($1S) {
            var $1T = [];
            $1T.ignoreToJSON = true;
            for (var i = 0; i < $1S.length; i++) {
                var $1z = $1S[i];
                var $x = $i.rowlist[$1z];
                if ($x.isNewRow) {
                    continue;
                };
                $1T.push($i.$cE($1z));
            };
            return $1T;
        };
        this.$cE = function(i) {
            var $x = this.rowlist[i];
            if (typeof $i.onGetNodeState === "function") {
                var $l = {};
                $l.row = $x;
                $l.preventDefault = function() {
                    $l.preventDefault.value = true;
                };
                $l.result = {};
                $i.onGetNodeState($l);
                if ($l.preventDefault.value) {
                    return $l.result;
                }
            };
            var $1R = {};
            $1R.Value = $x.id;
            $1R.BackColor = $x.backColor;
            $1R.Name = $x.name;
            $1R.InnerHTML = $x.html;
            $1R.ToolTip = $x.toolTip;
            $1R.Expanded = $x.expanded;
            $1R.Children = this.$cF($x.children);
            $1R.Loaded = $x.loaded;
            $1R.IsParent = $x.isParent;
            $1R.Columns = this.$cG($x);
            if ($x.start.getTime() !== $i.$aT().getTime()) {
                $1R.Start = $x.start;
            };
            if ($x.minHeight !== $i.rowMinHeight) {
                $1R.MinHeight = $x.minHeight;
            };
            if ($x.marginBottom !== $i.rowMarginBottom) {
                $1R.MarginBottom = $x.marginBottom;
            };
            if ($x.marginTop !== $i.rowMarginTop) {
                $1R.MarginTop = $x.marginTop;
            };
            if ($x.eventHeight !== $i.eventHeight) {
                $1R.EventHeight = $x.eventHeight;
            };
            return $1R;
        };
        this.$cG = function($x) {
            if (!$x.columns || $x.columns.length === 0) {
                return null;
            };
            var $1U = [];
            $1U.ignoreToJSON = true;
            for (var i = 0; i < $x.columns.length; i++) {
                var c = {};
                c.InnerHTML = $x.columns[i].html;
                $1U.push(c);
            };
            return $1U;
        };
        this.$aD = function($1V) {
            var $1W = this.theme || this.cssClassPrefix;
            if ($1W) {
                return $1W + $1V;
            } else {
                return "";
            }
        };
        this.$cH = function() {
            this.nav.top.dispose = this.dispose;
        };
        this.dispose = function() {
            var c = $i;
            if (c.$9J) {
                return;
            };
            c.$9J = true;
            c.$cp();
            c.$ae();
            c.divBreaks = null;
            c.divCells = null;
            c.divCorner = null;
            c.divCrosshair = null;
            c.divEvents = null;
            if (c.divHeader) {
                c.divHeader.rows = null;
            };
            c.divHeader = null;
            c.divLines = null;
            c.divNorth = null;
            c.divRange = null;
            c.divResScroll = null;
            c.divSeparators = null;
            c.divSeparatorsAbove = null;
            c.divStretch = null;
            c.divTimeScroll = null;
            c.$aK = null;
            c.$9Z = null;
            c.$as.calendar = null;
            c.$as = null;
            c.nav.loading = null;
            c.nav.top.onmousemove = null;
            c.nav.top.dispose = null;
            c.nav.top.ontouchstart = null;
            c.nav.top.ontouchmove = null;
            c.nav.top.ontouchend = null;
            c.nav.top.removeAttribute('style');
            c.nav.top.removeAttribute('class');
            c.nav.top.innerHTML = "";
            c.nav.top.dp = null;
            c.nav.top = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            c.nav.scroll = null;
            DayPilot.ue(window, 'resize', c.$cI);
            DayPilotScheduler.unregister(c);
        };
        this.$cJ = function($1X, $X) {
            var $1Y = $i.$as;
            var $1Z = $i.$cK($1X);
            var event = $1X.event;
            var $R = event.part.height || $i.$cL.eventHeight();
            var top = (event.part && event.part.top) ? (event.part.top + $i.rowlist[event.part.dayIndex].top) : $1Z.top;
            var $20 = document.createElement('div');
            $20.setAttribute('unselectable', 'on');
            $20.style.position = 'absolute';
            $20.style.width = ($1Z.width) + 'px';
            $20.style.height = $R + 'px';
            $20.style.left = $1Z.left + 'px';
            $20.style.top = top + 'px';
            $20.style.zIndex = 101;
            $20.style.overflow = 'hidden';
            var $05 = document.createElement("div");
            $20.appendChild($05);
            $20.className = this.$aD("_shadow");
            $05.className = this.$aD("_shadow_inner");
            $1Y.appendChild($20);
            $20.calendar = $i;
            return $20;
        };
        this.$cM = function($1X, $X) {
            var $1Y = $i.$as;
            var $1Z = $i.$cK($1X);
            var event = $1X.event;
            var ev = event;
            if ($i.$cN($1Z.rowIndex)) {
                return;
            };
            var $R = event.part.height || $i.$cL.eventHeight();
            var top = (event.part && event.part.top && $i.rowlist[event.part.dayIndex]) ? (event.part.top + $i.rowlist[event.part.dayIndex].top) : $1Z.top;
            var $N = $1Z.left;
            var $21 = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
            var $22 = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
            if (!$21 && DayPilotScheduler.moving) {
                top = $i.rowlist[ev.part.dayIndex].top;
            };
            if (!$22 && DayPilotScheduler.moving) {
                $N = event.part.left;
            };
            var $20 = document.createElement('div');
            $20.setAttribute('unselectable', 'on');
            $20.style.position = 'absolute';
            $20.style.width = ($1Z.width) + 'px';
            $20.style.height = $R + 'px';
            $20.style.left = $N + 'px';
            $20.style.top = top + 'px';
            $20.style.zIndex = 101;
            $20.style.overflow = 'hidden';
            var $05 = document.createElement("div");
            $20.appendChild($05);
            $20.className = this.$aD("_shadow");
            $05.className = this.$aD("_shadow_inner");
            $1Y.appendChild($20);
            $20.calendar = $i;
            return $20;
        };
        this.$cD = function(y) {
            var $j = {};
            var element;
            var top = 0;
            var $23 = 0;
            var $24 = this.rowlist.length;
            for (var i = 0; i < $24; i++) {
                var $x = this.rowlist[i];
                if ($x.hidden) {
                    continue;
                };
                $23 += $x.height;
                if (y < $23 || i === $24 - 1) {
                    top = $23 - $x.height;
                    element = $x;
                    break;
                }
            };
            $j.top = top;
            $j.bottom = $23;
            $j.i = i;
            $j.element = element;
            return $j;
        };
        this.links = {};
        var $1i = {};
        this.$cO = $1i;
        $1i.clear = function() {
            $i.divLinksAbove.innerHTML = '';
            $i.divLinksBelow.innerHTML = '';
            $i.elements.links = [];
        };
        $1i.showLinkpoints = function() {
            var $Z = $Q.events();
            $Z.each(function($02) {
                $1i.showLinkpoint($02);
            });
        };
        $1i.showLinkpoint = function($02) {
            var $A = $i.linkPointSize;
            var $25 = $A / 2;
            var $N = $02.event.part.left;
            var top = $i.rowlist[$02.event.part.dayIndex].top + $02.event.part.top;
            var $R = $02.event.part.height;
            var $O = $02.event.part.right;
            var $K = DayPilot.Util.div($i.divLinkpoints, $N - $25, top - $25 + $R / 2, $A, $A);
            $K.className = $i.$aD("_linkpoint");
            $K.style.boxSizing = "border-box";
            $K.coords = {
                x: $N,
                y: top + $R / 2
            };
            $K.type = "Start";
            $K.event = $02.event;
            $1i.activateLinkpoint($K);
            $i.elements.linkpoints.push($K);
            var end = DayPilot.Util.div($i.divLinkpoints, $O - $25, top - $25 + $R / 2, $A, $A);
            end.className = $i.$aD("_linkpoint");
            end.style.boxSizing = "border-box";
            end.coords = {
                x: $O,
                y: top + $R / 2
            };
            end.type = "Finish";
            end.event = $02.event;
            $1i.activateLinkpoint(end);
            $i.elements.linkpoints.push(end);
        };
        $1i.activateLinkpoint = function($02) {
            $02.onmousedown = function(ev) {
                var ev = ev || window.event;
                $26.source = $02;
                $26.calendar = $i;
                $1i.showLinkpoints();
                ev.preventDefault && ev.preventDefault();
                ev.stopPropagation && ev.stopPropagation();
                return false;
            };
            $02.onmousemove = function(ev) {
                DayPilot.Util.addClass($02, $i.$aD("_linkpoint_hover"));
                $1i.clearHideTimeout();
            };
            $02.onmouseout = function(ev) {
                if (!$26.source || $26.source.event !== $02.event) {
                    DayPilot.Util.removeClass($02, $i.$aD("_linkpoint_hover"));
                }
            };
            $02.onmouseup = function(ev) {
                if ($26.source) {
                    var $X = $26.source.type + "To" + $02.type;
                    var $0J = $26.source.event.id();
                    var to = $02.event.id();
                    var $l = {};
                    $l.from = $0J;
                    $l.to = to;
                    $l.type = $X;
                    $l.id = null;
                    $l.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    if (typeof $i.onLinkCreate === "function") {
                        $i.onLinkCreate($l);
                        if ($l.preventDefault.value) {
                            return;
                        }
                    };
                    var $27 = function() {
                        $i.links.list.push({
                            "from": $0J,
                            "to": to,
                            "type": $X,
                            "id": $l.id
                        });
                        $1i.load();
                    };
                    switch ($i.linkCreateHandling) {
                        case "Update":
                            $27();
                            break;
                        case "CallBack":
                            $i.$cP($l);
                            break;
                        case "PostBack":
                            $i.$cQ($l);
                            break;
                        case "Notify":
                            $27();
                            $i.$cR($l);
                            break;
                    };
                    if (typeof $i.onLinkCreated === "function") {
                        $i.onLinkCreated($l);
                    }
                }
            };
        };
        $1i.hideLinkpoints = function() {
            $i.divLinkpoints.innerHTML = '';
            $i.elements.linkpoints = [];
        };
        $1i.hideTimeout = null;
        $1i.hideLinkpointsWithDelay = function() {
            $1i.hideTimeout = setTimeout(function() {
                $1i.hideLinkpoints();
            }, 100);
        };
        $1i.clearHideTimeout = function() {
            if ($1i.hideTimeout) {
                clearTimeout($1i.hideTimeout);
                $1i.hideTimeout = null;
            }
        };
        $1i.load = function() {
            $1i.clear();
            if (!DayPilot.isArray($i.links.list)) {
                return;
            };
            for (var i = 0; i < $i.links.list.length; i++) {
                var link = $i.links.list[i];
                $1i.drawLinkId(link.from, link.to, link);
            }
        };
        $1i.drawLinkId = function($0J, to, $28) {
            var $K = $i.events.find($0J);
            var end = $i.events.find(to);
            $1i.drawLink($K, end, $28);
        };
        $1i.drawLink = function($0J, to, $28) {
            var $29 = $i.$cS($0J);
            var $2a = $i.$cS(to);
            if (!$29) {
                return;
            };
            if (!$2a) {
                return;
            };
            var $X = $28.type || "FinishToStart";
            var $K, end;
            var $2b = $i.rowlist[$29.event.part.dayIndex].top;
            var $2c = $i.rowlist[$2a.event.part.dayIndex].top;
            switch ($X) {
                case "FinishToStart":
                    $K = {
                        x: $29.event.part.right,
                        y: $2b + $29.event.part.top
                    };
                    end = {
                        x: $2a.event.part.left,
                        y: $2c + $2a.event.part.top
                    };
                    if ($K.y > end.y) {
                        if ($K.x < end.x) {
                            end.y += $2a.event.part.height;
                            end.bottom = true;
                        } else {}
                    };
                    break;
                case "StartToFinish":
                    $K = {
                        x: $29.event.part.left,
                        y: $2b + $29.event.part.top
                    };
                    end = {
                        x: $2a.event.part.right,
                        y: $2c + $2a.event.part.top
                    };
                    break;
                case "StartToStart":
                    $K = {
                        x: $29.event.part.left,
                        y: $2b + $29.event.part.top
                    };
                    end = {
                        x: $2a.event.part.left,
                        y: $2c + $2a.event.part.top
                    };
                    break;
                case "FinishToFinish":
                    $K = {
                        x: $29.event.part.right,
                        y: $2b + $29.event.part.top
                    };
                    end = {
                        x: $2a.event.part.right,
                        y: $2c + $2a.event.part.top
                    };
                    break;
            };
            $1i.drawLinkXy($K, end, $28);
        };
        $1i.clearShadow = function() {
            $i.divLinkShadow.innerHTML = '';
            $i.elements.linkshadow = [];
        };
        $1i.drawShadow = function($0J, to) {
            $1i.clearShadow();
            if (DayPilot.browser.ielt9) {
                $1i.drawShadowOldStyle($0J, to);
            } else {
                var parent = $i.divLinkShadow;
                var $0v = DayPilot.line($0J.x, $0J.y, to.x, to.y, true);
                parent.appendChild($0v);
                $i.elements.linkshadow.push($0v);
            }
        };
        $1i.drawShadowOldStyle = function($0J, to) {
            var nx = Math.min($0J.x, to.x);
            var $A = 2;
            var parent = $i.divLinkShadow;
            var $2d = "black";
            var h1 = DayPilot.Util.div(parent, nx, $0J.y, $0J.x - nx, $A);
            h1.style.backgroundColor = $2d;
            $i.elements.linkshadow.push(h1);
            var v1 = DayPilot.Util.div(parent, nx, $0J.y, $A, to.y - $0J.y);
            v1.style.backgroundColor = $2d;
            $i.elements.linkshadow.push(v1);
            var h3 = DayPilot.Util.div(parent, nx, to.y, to.x - nx, $A);
            h3.style.backgroundColor = $2d;
            $i.elements.linkshadow.push(h3);
            var a = DayPilot.Util.div(parent, to.x - 6, to.y - 5, 0, 0);
            a.style.borderColor = "transparent transparent transparent " + $2d;
            a.style.borderStyle = "solid";
            a.style.borderWidth = "6px";
            $i.elements.linkshadow.push(a);
        };
        $1i.drawLinkXy = function($0J, to, $28) {
            var $2e = $i.eventHeight / 2;
            var $A = $28.width || 1;
            var $X = $28.type || "FinishToStart";
            var $2d = $28.color;
            var style = $28.style;
            var $2f = $28.layer || "Above";
            var $2g = $2f === "Above";
            var $2h = $2g ? $i.divLinksAbove : $i.divLinksBelow;
            var $R = $i.eventHeight;
            var $W = $i.linkBottomMargin;
            var $2i = function($02, $2j) {
                if ($2d) {
                    $02.style["border" + $2j + "Color"] = $2d;
                };
                if (style) {
                    $02.style["border" + $2j + "Style"] = style;
                }
            };
            var $2k = [];
            var $2l = function($02, $2m) {
                $i.elements.links.push($02);
                $2n($02);
                $2o($02);
                $02.divs = $2k;
                if (!$2m) {
                    $2k.push($02);
                }
            };
            var $2o = function($02) {
                $02.oncontextmenu = function(ev) {
                    ev = ev || window.event;
                    if ($i.contextMenuLink) {
                        var link = new DayPilot.Link($28, $i);
                        $i.contextMenuLink.show(link);
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault ? ev.preventDefault() : null;
                }
            };
            var $2n = function($02) {
                $02.onmouseenter = function() {
                    DayPilot.Util.addClass($02.divs, $i.$aD("_link_hover"));
                };
                $02.onmouseleave = function() {
                    DayPilot.Util.removeClass($02.divs, $i.$aD("_link_hover"));
                };
            };
            if ($X === "FinishToStart") {
                if ($0J.y > to.y || ($0J.y == to.y && to.bottom)) {
                    if ($0J.x < to.x) {
                        var $2p = $0J.x;
                        var $2q = $0J.y + $R - $W;
                        var $2r = to.x + $2e;
                        var $2s = to.y;
                        var h1 = DayPilot.Util.div($2h, $2p, $2q, $2r - $0J.x, $A);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $A + "px";
                        h1.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h1, $28.cssClass);
                        $2i(h1, "Bottom");
                        $2l(h1);
                        var v1 = DayPilot.Util.div($2h, $2r, $2q, $A, $2s - $2q);
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $A + "px";
                        v1.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v1, $28.cssClass);
                        $2i(v1, "Right");
                        $2l(v1);
                        var a;
                        if ($2d) {
                            a = DayPilot.Util.div($2h, $2r - 5 + Math.floor($A / 2), $2s - 5, 0, 0);
                            if ($0J.y < to.y) {
                                a.style.borderColor = $2d + " transparent transparent transparent";
                            } else {
                                a.style.borderColor = "transparent transparent " + $2d + " transparent";
                            };
                            a.style.borderStyle = "solid";
                            a.style.borderWidth = "5px";
                        } else {
                            a = DayPilot.Util.div($2h, $2r - 6 + Math.floor($A / 2), $2s - 6, 6, 6);
                            if ($0J.y < to.y) {
                                a.className = $i.$aD("_link_arrow_down");
                            } else {
                                a.className = $i.$aD("_link_arrow_up");
                            };
                            DayPilot.Util.addClass(a, $28.cssClass);
                        };
                        $2l(a, true);
                    } else {
                        var $2t = 5;
                        var $2u = to.y + $R + $2t;
                        var h1 = DayPilot.Util.div($2h, $0J.x, $0J.y + $R - $W, $2e + $A, $A);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $A + "px";
                        h1.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h1, $28.cssClass);
                        $2i(h1, "Bottom");
                        $2l(h1);
                        var v1 = DayPilot.Util.div($2h, $0J.x + $2e, $0J.y + $R - $W, $A, $2u - ($0J.y + $R - $W));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $A + "px";
                        v1.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v1, $28.cssClass);
                        $2i(v1, "Right");
                        $2l(v1);
                        var h2 = DayPilot.Util.div($2h, to.x - $2e, $2u, $0J.x + 2 * $2e + $A - to.x, $A);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $A + "px";
                        h2.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h2, $28.cssClass);
                        $2i(h2, "Bottom");
                        $2l(h2);
                        var v2 = DayPilot.Util.div($2h, to.x - $2e, $2u, $A, to.y - $2u + $R - $W);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $A + "px";
                        v2.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v2, $28.cssClass);
                        $2i(v2, "Right");
                        $2l(v2);
                        var h3 = DayPilot.Util.div($2h, to.x - $2e, to.y + $R - $W, $2e, $A);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $A + "px";
                        h3.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h3, $28.cssClass);
                        $2i(h3, "Bottom");
                        $2l(h3);
                        var a;
                        if ($2d) {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2d;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 6, 6);
                            a.className = $i.$aD("_link_arrow_right");
                            DayPilot.Util.addClass(a, $28.cssClass);
                        };
                        $2l(a, true);
                    }
                } else if ($0J.y === to.y) {
                    if ($0J.x < to.x) {
                        var $2p = $0J.x;
                        var $2q = $0J.y + $R - $W;
                        var $2r = to.x;
                        var h1 = DayPilot.Util.div($2h, $2p, $2q, $2r - $0J.x, $A);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $A + "px";
                        h1.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h1, $28.cssClass);
                        $2i(h1, "Bottom");
                        $2l(h1);
                        var a;
                        if ($2d) {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2d;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 6, 6);
                            a.className = $i.$aD("_link_arrow_right");
                            DayPilot.Util.addClass(a, $28.cssClass);
                        };
                        $2l(a, true);
                    } else {
                        var $2t = 5;
                        var $2u = to.y + $R + $2t;
                        var h1 = DayPilot.Util.div($2h, $0J.x, $0J.y + $R - $W, $2e + $A, $A);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $A + "px";
                        h1.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h1, $28.cssClass);
                        $2i(h1, "Bottom");
                        $2l(h1);
                        var v1 = DayPilot.Util.div($2h, $0J.x + $2e, $0J.y + $R - $W, $A, $2u - ($0J.y + $R - $W));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $A + "px";
                        v1.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v1, $28.cssClass);
                        $2i(v1, "Right");
                        $2l(v1);
                        var h2 = DayPilot.Util.div($2h, to.x - $2e, $2u, $0J.x + 2 * $2e + $A - to.x, $A);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $A + "px";
                        h2.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h2, $28.cssClass);
                        $2i(h2, "Bottom");
                        $2l(h2);
                        var v2 = DayPilot.Util.div($2h, to.x - $2e, $2u, $A, to.y - $2u + $R - $W);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $A + "px";
                        v2.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v2, $28.cssClass);
                        $2i(v2, "Right");
                        $2l(v2);
                        var h3 = DayPilot.Util.div($2h, to.x - $2e, to.y + $R - $W, $2e, $A);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $A + "px";
                        h3.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h3, $28.cssClass);
                        $2i(h3, "Bottom");
                        $2l(h3);
                        var a;
                        if ($2d) {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2d;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 6, 6);
                            a.className = $i.$aD("_link_arrow_right");
                            DayPilot.Util.addClass(a, $28.cssClass);
                        };
                        $2l(a, true);
                    }
                } else {
                    if ($0J.x > to.x) {
                        var $2g = 5;
                        var $2u = to.y - $2g;
                        var h1 = DayPilot.Util.div($2h, $0J.x, $0J.y + $R - $W, $2e + $A, $A);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $A + "px";
                        h1.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h1, $28.cssClass);
                        $2i(h1, "Bottom");
                        $2l(h1);
                        var v1 = DayPilot.Util.div($2h, $0J.x + $2e, $0J.y + $R - $W, $A, $2u - ($0J.y + $R - $W));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $A + "px";
                        v1.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v1, $28.cssClass);
                        $2i(v1, "Right");
                        $2l(v1);
                        var h2 = DayPilot.Util.div($2h, to.x - $2e, $2u, $0J.x + 2 * $2e + $A - to.x, $A);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $A + "px";
                        h2.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h2, $28.cssClass);
                        $2i(h2, "Bottom");
                        $2l(h2);
                        var v2 = DayPilot.Util.div($2h, to.x - $2e, $2u, $A, to.y - $2u + $R - $W);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $A + "px";
                        v2.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v2, $28.cssClass);
                        $2i(v2, "Right");
                        $2l(v2);
                        var h3 = DayPilot.Util.div($2h, to.x - $2e, to.y + $R - $W, $2e, $A);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $A + "px";
                        h3.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h3, $28.cssClass);
                        $2i(h3, "Bottom");
                        $2l(h3);
                        var a;
                        if ($2d) {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2d;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 6, 6);
                            a.className = $i.$aD("_link_arrow_right");
                            DayPilot.Util.addClass(a, $28.cssClass);
                        };
                        $2l(a, true);
                    } else {
                        var $2p = $0J.x;
                        var $2q = $0J.y + $R - $W;
                        var $2r = to.x + $2e;
                        var $2s = to.y;
                        var h1 = DayPilot.Util.div($2h, $2p, $2q, $2r - $0J.x, $A);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $A + "px";
                        h1.className = $i.$aD("_link_horizontal");
                        DayPilot.Util.addClass(h1, $28.cssClass);
                        $2i(h1, "Bottom");
                        $2l(h1);
                        var v1 = DayPilot.Util.div($2h, $2r, $2q, $A, $2s - $2q);
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $A + "px";
                        v1.className = $i.$aD("_link_vertical");
                        DayPilot.Util.addClass(v1, $28.cssClass);
                        $2i(v1, "Right");
                        $2l(v1);
                        var a;
                        if ($2d) {
                            a = DayPilot.Util.div($2h, $2r - 5 + Math.floor($A / 2), $2s - 5, 0, 0);
                            if ($0J.y < to.y) {
                                a.style.borderColor = $2d + " transparent transparent transparent";
                            } else {
                                a.style.borderColor = "transparent transparent " + $2d + "transparent";
                            };
                            a.style.borderStyle = "solid";
                            a.style.borderWidth = "5px";
                        } else {
                            a = DayPilot.Util.div($2h, $2r - 6 + Math.floor($A / 2), $2s - 6, 6, 6);
                            if ($0J.y < to.y) {
                                a.className = $i.$aD("_link_arrow_down");
                            } else {
                                a.className = $i.$aD("_link_arrow_up");
                            };
                            DayPilot.Util.addClass(a, $28.cssClass);
                        };
                        $2l(a, true);
                    }
                }
            } else if ($X === "StartToFinish") {
                var $2g = 5;
                var $2u = to.y - $2g;
                var h1 = DayPilot.Util.div($2h, to.x, to.y + $R - $W, $2e + $A, $A);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $A + "px";
                h1.className = $i.$aD("_link_horizontal");
                DayPilot.Util.addClass(h1, $28.cssClass);
                $2i(h1, "Bottom");
                $2l(h1);
                var v1 = DayPilot.Util.div($2h, to.x + $2e, to.y + $R - $W, $A, $2u - (to.y + $R - $W) + 0);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $A + "px";
                v1.className = $i.$aD("_link_vertical");
                DayPilot.Util.addClass(v1, $28.cssClass);
                $2i(v1, "Right");
                $2l(v1);
                var h2 = DayPilot.Util.div($2h, $0J.x - $2e, $2u, to.x + 2 * $2e + $A - $0J.x, $A);
                h2.style.boxSizing = "border-box";
                h2.style.borderBottomWidth = $A + "px";
                h2.className = $i.$aD("_link_horizontal");
                DayPilot.Util.addClass(h2, $28.cssClass);
                $2i(h2, "Bottom");
                $2l(h2);
                var v2 = DayPilot.Util.div($2h, $0J.x - $2e, $2u, $A, $0J.y + $R - $W - $2u + 0);
                v2.style.boxSizing = "border-box";
                v2.style.borderRightWidth = $A + "px";
                v2.className = $i.$aD("_link_vertical");
                DayPilot.Util.addClass(v2, $28.cssClass);
                $2i(v2, "Right");
                $2l(v2);
                var h3 = DayPilot.Util.div($2h, $0J.x - $2e, $0J.y + $R - $W, $2e, $A);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $A + "px";
                h3.className = $i.$aD("_link_horizontal");
                DayPilot.Util.addClass(h3, $28.cssClass);
                $2i(h3, "Bottom");
                $2l(h3);
                var a;
                if ($2d) {
                    a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 0, 0);
                    a.style.borderColor = "transparent " + $2d + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 6, 6);
                    a.className = $i.$aD("_link_arrow_left");
                    DayPilot.Util.addClass(a, $28.cssClass);
                };
                $2l(a, true);
            } else if ($X === "StartToStart") {
                var nx = Math.min($0J.x, to.x) - $2e;
                var h1 = DayPilot.Util.div($2h, nx, $0J.y + $R - $W, $0J.x - nx, $A);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $A + "px";
                h1.className = $i.$aD("_link_horizontal");
                DayPilot.Util.addClass(h1, $28.cssClass);
                $2i(h1, "Bottom");
                $2l(h1);
                var v1 = DayPilot.Util.div($2h, nx, $0J.y + $R - $W, $A, to.y - $0J.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $A + "px";
                v1.className = $i.$aD("_link_vertical");
                DayPilot.Util.addClass(v1, $28.cssClass);
                $2i(v1, "Right");
                $2l(v1);
                var h3 = DayPilot.Util.div($2h, nx, to.y + $R - $W, to.x - nx, $A);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $A + "px";
                h3.className = $i.$aD("_link_horizontal");
                DayPilot.Util.addClass(h3, $28.cssClass);
                $2i(h3, "Bottom");
                $2l(h3);
                var a;
                if ($2d) {
                    a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 0, 0);
                    a.style.borderColor = "transparent transparent transparent " + $2d;
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 6, 6);
                    a.className = $i.$aD("_link_arrow_right");
                    DayPilot.Util.addClass(a, $28.cssClass);
                };
                $2l(a, true);
            } else if ($X === "FinishToFinish") {
                var fx = Math.max(to.x, $0J.x) + $2e;
                var h1 = DayPilot.Util.div($2h, $0J.x, $0J.y + $R - $W, fx - $0J.x, $A);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $A + "px";
                h1.className = $i.$aD("_link_horizontal");
                DayPilot.Util.addClass(h1, $28.cssClass);
                $2i(h1, "Bottom");
                $2l(h1);
                var v1 = DayPilot.Util.div($2h, fx, $0J.y + $R - $W, $A, to.y - $0J.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $A + "px";
                v1.className = $i.$aD("_link_vertical");
                DayPilot.Util.addClass(v1, $28.cssClass);
                $2i(v1, "Right");
                $2l(v1);
                var h3 = DayPilot.Util.div($2h, to.x, to.y + $R - $W, fx - to.x, $A);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $A + "px";
                h3.className = $i.$aD("_link_horizontal");
                DayPilot.Util.addClass(h3, $28.cssClass);
                $2i(h3, "Bottom");
                $2l(h3);
                var a;
                if ($2d) {
                    a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 0, 0);
                    a.style.borderColor = "transparent " + $2d + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2h, to.x - 6, to.y + $R - $W - 5, 6, 6);
                    a.className = $i.$aD("_link_arrow_left");
                    DayPilot.Util.addClass(a, $28.cssClass);
                };
                $2l(a, true);
            }
        };
        this.$cP = function($l, $q) {
            var $0W = {};
            $0W.from = $l.from;
            $0W.to = $l.to;
            $0W.type = $l.type;
            $i.$b9("LinkCreate", $0W, $q);
        };
        this.$cR = function($l, $q) {
            var $0W = {};
            $0W.from = $l.from;
            $0W.to = $l.to;
            $0W.type = $l.type;
            $i.$b9("LinkCreate", $0W, $q, "Notify");
        };
        this.$cQ = function($l, $q) {
            var $0W = {};
            $0W.from = $l.from;
            $0W.to = $l.to;
            $0W.type = $l.type;
            $i.$b8("LinkCreate", $0W, $q);
        };
        this.$cT = function(i) {
            var top = 0;
            var $W = 0;
            var $1z = 0;
            if (i > this.rowlist.length - 1) {
                throw "Row index too high (DayPilotScheduler._getRowByIndex)";
            };
            for (var j = 0; j <= i; j++) {
                var $x = this.rowlist[j];
                if ($x.hidden) {
                    continue;
                };
                $W += $x.height;
                $1z++;
            };
            top = $W - $x.height;
            var $j = {};
            $j.top = top;
            $j.height = $x.height;
            $j.bottom = $W;
            $j.i = $1z - 1;
            $j.data = $x;
            return $j;
        };
        this.$cU = function() {
            if (this.backendUrl) {
                return (typeof $i.events.list === 'undefined') || (!$i.events.list);
            } else {
                return false;
            }
        };
        this.events.find = function(id) {
            if (!$i.events.list || typeof $i.events.list.length === 'undefined') {
                return null;
            };
            var $2v = $i.events.list.length;
            for (var i = 0; i < $2v; i++) {
                if ($i.events.list[i].id === id) {
                    return new DayPilot.Event($i.events.list[i], $i);
                }
            };
            return null;
        };
        this.events.all = function() {
            var $Y = [];
            for (var i = 0; i < $i.events.list.length; i++) {
                var e = new DayPilot.Event($i.events.list[i], $i);
                $Y.push(e);
            };
            return DayPilot.list($Y);
        };
        this.events.filter = function($l) {
            $i.events.$cV = $l;
            $i.$bx({
                "eventsOnly": true
            });
        };
        this.events.edit = function(e) {
            var $02 = $i.$cS(e);
            if (!$02 && !DayPilot.list($i.events.$cW.rows).isEmpty()) {
                setTimeout(function() {
                    $i.$bc($i.$cS(e));
                });
                return;
            };
            $i.$bc($02);
        };
        this.events.load = function($2w, $2x, $2y) {
            var $2z = function($l) {
                var $2A = {};
                $2A.exception = $l.exception;
                $2A.request = $l.request;
                if (typeof $2y === 'function') {
                    $2y($2A);
                }
            };
            var $2B = function($l) {
                var r = $l.request;
                var $q;
                try {
                    $q = DayPilot.Util.parseJSON(r.responseText);
                } catch (e) {
                    var $2C = {};
                    $2C.exception = e;
                    $2z($2C);
                    return;
                };
                if (DayPilot.isArray($q)) {
                    var $2D = {};
                    $2D.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $2D.data = $q;
                    if (typeof $2x === "function") {
                        $2x($2D);
                    };
                    if ($2D.preventDefault.value) {
                        return;
                    };
                    $i.events.list = $q;
                    if ($i.$bM) {
                        $i.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $i.visibleStart().toString(),
                    "end": $i.visibleEnd().toString()
                },
                "url": $2w,
                "success": $2B,
                "error": $2z
            });
        };
        this.events.findRecurrent = function($2E, $0I) {
            if (!$i.events.list || typeof $i.events.list.length === 'undefined') {
                return null;
            };
            var $2v = $i.events.list.length;
            for (var i = 0; i < $2v; i++) {
                if ($i.events.list[i].recurrentMasterId === $2E && $i.events.list[i].start.getTime() === $0I.getTime()) {
                    return new DayPilot.Event($i.events.list[i], $i);
                }
            };
            return null;
        };
        this.events.$bq = function($q) {
            var $1b = [];
            for (var i = 0; i < $i.rowlist.length; i++) {
                var $x = $i.rowlist[i];
                if ($x.isNewRow) {
                    continue;
                };
                $i.$aU(i);
                for (var r = 0; r < $x.events.length; r++) {
                    if ($x.events[r].data === $q) {
                        $1b.push(i);
                        $x.events.splice(r, 1);
                        break;
                    }
                }
            };
            return $1b;
        };
        this.events.$br = function($q) {
            var $1b = [];
            var $2F = $i.$cX() || $i.viewType === "Days";
            var $1z = DayPilot.indexOf($i.events.list, $q);
            $i.$cY($1z);
            for (var i = 0; i < $i.rowlist.length; i++) {
                var $x = $i.rowlist[i];
                if ($x.isNewRow) {
                    continue;
                };
                $i.$aU(i);
                var ep = $i.$cZ($q, $x);
                if (ep) {
                    if (typeof $i.onBeforeEventRender === 'function') {
                        ep.cache = $i.$9R.events[$1z];
                    };
                    $1b.push(i);
                    if (!$2F) {
                        break;
                    }
                }
            };
            return $1b;
        };
        this.events.update = function(e, $q) {
            var $0W = {};
            $0W.oldEvent = new DayPilot.Event(e.copy(), $i);
            $0W.newEvent = new DayPilot.Event(e.temp(), $i);
            var $1a = new DayPilot.Action($i, "EventUpdate", $0W, $q);
            var $2G = DayPilot.list($i.events.list).find(function($00) {
                var $q = $00 instanceof DayPilot.Event ? $00.data : $00;
                return $q === e.data;
            });
            if (!$2G) {
                return;
            };
            if ($i.$d0.scope) {
                $i.$d0.notify(function() {
                    e.commit();
                });
            } else {
                var $1b = $i.events.$bq(e.data);
                e.commit();
                $1b = $1b.concat($i.events.$br(e.data));
                $i.$bs($1b);
                $i.$bt();
                if ($i.$bM) {
                    if ($i.viewType === "Gantt") {
                        $i.update();
                    } else {
                        $i.$bu($1b);
                        $i.$ac();
                    }
                }
            };
            return $1a;
        };
        this.events.remove = function(e, $q) {
            var $0W = {};
            $0W.e = new DayPilot.Event(e.data, $i);
            var $1a = new DayPilot.Action($i, "EventRemove", $0W, $q);
            var $1z = DayPilot.indexOf($i.events.list, e.data);
            $i.events.list.splice($1z, 1);
            if ($i.$d0.scope) {
                $i.$d0.notify();
            } else {
                var $1b = $i.events.$bq(e.data);
                $i.$bs($1b);
                $i.$bt();
                if ($i.$bM) {
                    if ($i.viewType === "Gantt") {
                        $i.update();
                    } else {
                        $i.$bu($1b);
                        $i.$ac();
                    }
                }
            };
            return $1a;
        };
        this.events.add = function(e, $q) {
            e.calendar = $i;
            if (!$i.events.list) {
                $i.events.list = [];
            };
            $i.events.list.push(e.data);
            var $1a = new DayPilot.Action($i, "EventAdd", $0W, $q);
            if (!$i.$bM) {
                return $1a;
            };
            if ($i.$d0.scope) {
                $i.$d0.notify();
            } else {
                var $0W = {};
                $0W.e = e;
                var $1b = $i.events.$br(e.data);
                $i.events.$d1($1b);
            };
            return $1a;
        };
        this.events.$cW = {
            "rows": []
        };
        this.events.$d2 = null;
        this.events.$d1 = function($1b) {
            clearTimeout($i.events.$d2);
            var $27 = $i.events.$cW.rows;
            DayPilot.list($1b).each(function($x) {
                $27.push($x);
            });
            $i.events.$cW.rows = DayPilot.ua($27);
            var $12 = function() {
                var $1b = $i.events.$cW.rows;
                $i.events.$cW.rows = [];
                $i.$bs($1b);
                $i.$bt();
                if ($i.$bM) {
                    if ($i.viewType === "Gantt") {
                        $i.update();
                    } else {
                        $i.$bu($1b);
                        $i.$ac();
                    }
                }
            };
            $i.events.$d2 = setTimeout($12);
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($1a) {
            if (!$1a) {
                return;
            };
            if ($1a.isAction) {
                $i.queue.list.push($1a);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($q) {
            var $0W = {};
            $0W.actions = $i.queue.list;
            $i.$b9('Notify', $0W, $q, "Notify");
            $i.queue.list = [];
        };
        this.queue.clear = function() {
            $i.queue.list = [];
        };
        this.queue.pop = function() {
            return $i.queue.list.pop();
        };
        this.cells.find = function($K, $1q) {
            var $y = $i.getPixels(new DayPilot.Date($K));
            if (!$y) {
                return $2H();
            };
            var x = $y.i;
            var $x = $i.$au($1q);
            if (!$x) {
                return $2H();
            };
            var top = $x.top;
            var y = $i.$cD(top).i;
            return this.findXy(x, y);
        };
        this.cells.findByPixels = function(x, y) {
            var $0H = $i.$b2(x);
            if (!$0H) {
                return $2H();
            };
            var x = $0H.x;
            var $x = $i.$cD(y);
            if (!$x) {
                return $2H();
            };
            var y = $x.i;
            return this.findXy(x, y);
        };
        this.cells.all = function() {
            var $Y = [];
            var $1O = $i.itline.length;
            var $2I = $i.rowlist.length;
            for (var x = 0; x < $1O; x++) {
                for (var y = 0; y < $2I; y++) {
                    var $P = $i.cells.findXy(x, y);
                    $Y.push($P[0]);
                }
            };
            return $2H($Y);
        };
        this.cells.$d3 = function(x, y) {
            var $0H = $i.$bb(x);
            var $x = $i.rowlist[y];
            var $1v = $x.start.getTime() - $i.$aT().getTime();
            var $K = $0H.start.addTime($1v);
            var end = $0H.end.addTime($1v);
            var $P = {};
            $P.x = x;
            $P.y = y;
            $P.i = x + "_" + y;
            $P.resource = $x.id;
            $P.start = $0H.start;
            $P.end = $0H.end;
            $P.calendar = $i;
            $P.isParent = $x.children && $x.children.length;
            $P.update = function() {
                if (!$i.rowlist[$P.y].hidden) {
                    var $1c = $i.$9R.cells[$P.i];
                    $i.$d4($1c);
                    var $J = $i.$aw();
                    if ($J.xStart <= $P.x && $P.x <= $J.xEnd) {
                        if ($J.yStart <= $P.y && $P.y <= $J.yEnd) {
                            $i.$d5($P.x, $P.y);
                        }
                    }
                }
            };
            $P.utilization = function(name) {
                if (!$x.sections) {
                    $x.calculateUtilization();
                };
                return $x.sections.forRange($K, end).maxSum(name);
            };
            $P.events = function() {
                return $x.events.forRange($K, end);
            };
            $P.div = $i.$9R.cells[$P.i];
            var p = $i.$d6(x, y);
            $P.properties = p;
            return $P;
        };
        this.cells.findXy = function(x, y) {
            if (DayPilot.isArray(x)) {
                var $M = [];
                for (var i = 0; i < x.length; i++) {
                    var o = x[i];
                    $M.push($i.cells.$d3(o.x, o.y));
                };
                return $2H($M);
            } else if (x === null || y === null) {
                return $2H();
            };
            var $P = $i.cells.$d3(x, y);
            return $2H($P);
        };
        var $2J = function(a) {
            var $Y = [];
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $Y.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $Y.push(a);
            };
            $Y.each = function(f) {
                if (!f) {
                    return;
                };
                for (var i = 0; i < $Y.length; i++) {
                    f($Y[i]);
                }
            };
            return $Y;
        };
        this.$d7 = function(a) {
            var $Y = DayPilot.list();
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $Y.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $Y.push(a);
            };
            $Y.cssClass = function($2K) {
                this.each(function($00) {
                    $00.properties.cssClass = DayPilot.Util.addClassToString($00.properties.cssClass, $2K);
                    $00.update();
                });
                return this;
            };
            $Y.removeClass = function($2K) {
                this.each(function($00) {
                    $00.properties.cssClass = DayPilot.Util.removeClassFromString($00.properties.cssClass, $2K);
                    $00.update();
                });
                return this;
            };
            $Y.addClass = $Y.cssClass;
            $Y.html = function($09) {
                this.each(function($00) {
                    $00.properties.html = $09;
                    $00.update();
                });
                return this;
            };
            return $Y;
        };
        var $2H = this.$d7;
        this.$d0 = {};
        this.$d0.scope = null;
        this.$d0.notify = function(f) {
            if ($i.$d0.scope) {
                $i.$d0.scope["$apply"](f);
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$d8 = function($u) {
            if ($i.viewType !== 'Days') {
                throw "Checking row start when viewType !== 'Days'";
            };
            for (var i = 0; i < $i.rowlist.length; i++) {
                var $x = $i.rowlist[i];
                var $q = $x.element ? $x.element.data : $x.data;
                var $K = $q.start;
                if ($u.getTime() >= $K.getTime() && $u.getTime() < $K.addDays(1).getTime()) {
                    return $K;
                }
            };
            return null;
        };
        this.$d9 = function($u) {
            var $K = $i.$aT();
            if ($u.ticks === $K.ticks) {
                return $u;
            };
            var $0A = $K;
            if ($u.ticks < $K.ticks) {
                var $2L = this.itline[0].end.ticks - this.itline[0].start.ticks;
                while ($0A.ticks > $u.ticks) {
                    $0A = $0A.addTime(-$2L);
                };
                return $0A;
            };
            if ($i.viewType === 'Days') {
                var $2M = this.$d8($u);
                var $0D = $2M.getTime() - $i.$aT().getTime();
                var $P = this.$b4($u.addTime(-$0D));
                if ($P.current) {
                    return $P.current.start.addTime($0D);
                };
                if ($P.past) {
                    return $P.previous.end.addTime($0D);
                };
                throw "getBoxStart(): time not found";
            } else {
                var $P = this.$b4($u);
                if ($P.current) {
                    return $P.current.start;
                };
                if ($P.past) {
                    return $P.previous.end;
                };
                if ($P.hidden) {
                    var $H = $P.next.start.getTime() - $u.getTime();
                    var $2N = $P.next.end.getTime() - $P.next.start.getTime();
                    var $2O = Math.ceil($H / $2N) * $2N;
                    var $j = $P.next.start.addTime(-$2O);
                    return $j;
                };
                throw "getBoxStart(): time not found";
            }
        };
        this.$cK = function($1X) {
            var $x = this.$cD($i.coords.y);
            var e = $1X.event;
            if (typeof e.end !== 'function') {
                throw "e.end function is not defined";
            };
            if (!e.end()) {
                throw "e.end() returns null";
            };
            var $0N = DayPilot.DateUtil.diff(e.rawend(), e.start());
            $0N = Math.max($0N, 1);
            var $2P = $0b.useBox($0N);
            var $2Q = e.data && e.data.type === "Milestone";
            var $2R = $i.eventHeight;
            var $2S = 0;
            var x = $i.coords.x;
            if ($2Q) {
                x += $2R / 2;
            };
            if ($i.scale === "Manual") {
                var $2T = (function() {
                    var end = $i.getDate($i.coords.x, true, true);
                    var $K = end.addTime(-$0N);
                    var $2U = $i.getPixels($K).boxLeft;
                    var $2V = $i.getPixels(end).boxRight;
                    var end = Math.min($2V, $i.coords.x);
                    return end - $2U;
                })();
                var $0D = Math.min(DayPilotScheduler.moveOffsetX ? DayPilotScheduler.moveOffsetX : 0, $2T);
                x = $i.coords.x - $0D;
            };
            var $1v = 0;
            var $2W = this.viewType === 'Days' || this.$da();
            if ($2W && !e.part.external) {
                $1v = this.rowlist[e.part.dayIndex].start.getTime() - this.$aT().getTime();
            };
            if ($2P && !$2Q) {
                var $P = $i.$b4(e.start());
                var $2X = !$P.hidden && !$P.past;
                $2S = e.start().getTime() - this.$d9(e.start().addTime(-$1v)).addTime($1v).getTime();
                if ($2X) {
                    $2S = (function($2Y, $0D) {
                        var $2Z = $i.$db($i.$b4($2Y).current);
                        var $30 = $i.$db($i.$b2(x).cell);
                        if ($2Z > $30 * 1.2) {
                            var $31 = $0D > 0 ? 1 : -1;
                            var $0D = Math.abs($0D);
                            while ($0D >= $30) {
                                $0D -= $30;
                            };
                            $0D *= $31;
                        };
                        return $0D;
                    })(e.start(), $2S);
                }
            };
            var $32 = 0;
            if (DayPilotScheduler.moveDragStart && $i.scale !== "Manual") {
                if ($2P) {
                    var $33 = e.start().addTime(-$1v);
                    var $34 = this.$d9($33);
                    $32 = DayPilotScheduler.moveDragStart.getTime() - $34.getTime();
                    var $35 = $i.$dc() * 60 * 1000;
                    $32 = Math.floor($32 / $35) * $35;
                } else {
                    $32 = DayPilotScheduler.moveDragStart.getTime() - e.start().addTime(-$1v).getTime();
                }
            } else {
                $32 = 0;
            };
            if (this.eventMoveToPosition) {
                $32 = 0;
            };
            var $K = this.getDate(x, true).addTime(-$32).addTime($1v);
            if (DayPilotScheduler.resizing) {
                $K = e.start();
            };
            if (this.snapToGrid) {
                $K = this.$d9($K.addTime(-$1v)).addTime($1v);
            };
            $K = $K.addTime($2S);
            var end = $K.addTime($0N);
            var $36 = $K;
            var $37 = end;
            if ($2W) {
                $36 = $K.addTime(-$1v);
                $37 = $36.addTime($0N);
                var $38 = $x.element.data.start.getTime() - this.$aT().getTime();
                $K = $36.addTime($38);
                end = $K.addTime($0N);
            };
            var $39 = this.getPixels($36);
            var $3a = this.getPixels($37);
            var $N = ($2P) ? $39.boxLeft : $39.left;
            var $A = ($2P) ? ($3a.boxRight - $N) : ($3a.left - $N);
            if ($2Q) {
                $A = $2R;
                $N -= $A / 2;
            };
            var $1Z = {};
            $1Z.top = $x.top;
            $1Z.left = $N;
            $1Z.row = $x.element;
            $1Z.rowIndex = $x.i;
            $1Z.width = $A;
            $1Z.start = $K;
            $1Z.end = end;
            $1Z.relativeY = $i.coords.y - $x.top;
            return $1Z;
        };
        this.$dc = function() {
            switch (this.scale) {
                case "CellDuration":
                    return this.cellDuration;
                case "Minute":
                    return 1;
                case "Hour":
                    return 60;
                case "Day":
                    return 60 * 24;
                case "Week":
                    return 60 * 24 * 7;
                case "Month":
                    return 60 * 24 * 30;
                case "Year":
                    return 60 * 24 * 365;
            };
            throw "can't guess cellDuration value";
        };
        this.$db = function($0H) {
            return $0H.end.ticks - $0H.start.ticks;
        };
        this.$cN = function(y) {
            return this.treePreventParentUsage && this.$dd(y);
        };
        this.$dd = function(y) {
            var $x = this.rowlist[y];
            if ($x.isParent) {
                return true;
            };
            if (this.treeEnabled) {
                if ($x.children && $x.children.length > 0) {
                    return true;
                }
            };
            return false;
        };
        this.$de = {};
        this.$df = function() {
            if (!$i.treeAutoExpand) {
                return;
            };
            var $1Z = this.$cK(DayPilotScheduler.moving);
            var y = $1Z.rowIndex;
            var $3b = this.$dd(y);
            var $3c = this.$de;
            if ($3c.timeout && $3c.y !== y) {
                clearTimeout($3c.timeout);
                $3c.timeout = null;
            };
            if ($3b) {
                $3c.y = y;
                var $3d = !$i.rowlist[$3c.y].expanded;
                if (!$3c.timeout && $3d) {
                    $3c.timeout = setTimeout(function() {
                        var $3d = !$i.rowlist[$3c.y].expanded;
                        if ($3d) {
                            $i.$dg($3c.y);
                            $i.$dh();
                        };
                        $3c.timeout = null;
                    }, 500);
                }
            }
        };
        this.$di = function() {
            var $3e = DayPilotScheduler.resizingShadow.clientWidth;
            var $3f = DayPilotScheduler.resizingShadow.offsetLeft;
            var e = DayPilotScheduler.resizing.event;
            var $3g = DayPilotScheduler.resizing.dpBorder;
            var $x = $i.rowlist[DayPilotScheduler.resizing.event.part.dayIndex];
            var $1v = 0;
            $1v = $x.start.getTime() - $i.$aT().getTime();
            var $0n = null;
            var $11 = null;
            var $3h = !$i.snapToGrid;
            if ($3g === 'left') {
                $0n = $i.getDate($3f, $3h).addTime($1v);
                $11 = e.rawend();
            } else if ($3g === 'right') {
                $0n = e.start();
                $11 = $i.getDate($3f + $3e, $3h, true).addTime($1v);
            };
            DayPilotScheduler.resizingShadow.start = $0n;
            DayPilotScheduler.resizingShadow.end = $11;
            $14.update();
        };
        this.exportAs = function($0u, $h) {
            var $3i = $3j.generate($0u, $h);
            return new $3k($3i);
        };
        this["export"] = this.exportAs;
        var $3k = function($3i) {
            this.toElement = function() {
                return $3i.getElement();
            };
            this.dimensions = function() {
                return {
                    "width": $3i.getWidth(),
                    "height": $3i.getHeight()
                };
            };
            this.toHtml = function() {
                return $3i.getSource();
            };
            this.toDataUri = function() {
                return $3i.getDataUri();
            };
            this.toBlob = function() {
                return $3i.getBlob();
            };
            this.print = function() {
                var $3l = document.createElement("iframe");
                $3l.setAttribute("width", 0);
                $3l.setAttribute("height", 0);
                $3l.setAttribute("frameborder", 0);
                $3l.setAttribute("src", "about:blank");
                document.body.appendChild($3l);
                var $3m = $3l.contentWindow.document;
                var $3n = $3m.compatMode === 'BackCompat' ? $3m.body : $3m.documentElement;
                $3n.innerHTML = $3i.getSource();
                var $j = $3l.contentWindow.document.execCommand('print', false, null);
                if (!$j) {
                    $3l.contentWindow.focus();
                    $3l.contentWindow.print();
                };
                document.body.removeChild($3l);
            };
            this.download = function(name) {
                var name = name || $3i.getDefaultFileName();
                if (window.navigator.msSaveBlob) {
                    window.navigator.msSaveBlob($3i.getBlob(), name);
                } else {
                    var link = document.createElement("a");
                    link.download = name;
                    link.href = $3i.getDataUri();
                    document.body.appendChild(link);
                    link.click();
                    setTimeout(function() {
                        document.body.removeChild(link);
                    });
                }
            };
        };
        this.$dj = {};
        var $3j = this.$dj;
        $3j.getWidth = function() {
            var $3o = $3j.$dk;
            switch ($3o) {
                case "viewport":
                    return $i.nav.top.offsetWidth;
                case "full":
                    return $i.$dl() + $3j.getRowHeaderWidth();
                case "range":
                    return $i.getPixels($3j.getRangeEnd()).boxRight - $i.getPixels($3j.getRangeStart()).boxLeft + $3j.getRowHeaderWidth();
                default:
                    throw "Unsupported export mode: " + $3o;
            }
        };
        $3j.getHeight = function() {
            var $3o = $3j.$dk;
            switch ($3o) {
                case "viewport":
                    return $i.nav.top.offsetHeight - DayPilot.sh($i.nav.scroll) - 1;
                case "full":
                    return $i.$dm() + $i.$aF() - DayPilot.sh($i.nav.scroll);
                case "range":
                    var $0J = $3j.getRangeResStart();
                    var to = $3j.getRangeResEnd();
                    return to.top - $0J.top + to.height + $i.$aF();
                default:
                    throw "Unsupported export mode: " + $3o;
            }
        };
        $3j.getRangeStart = function() {
            return new DayPilot.Date($3j.$dn.dateFrom);
        };
        $3j.getRangeEnd = function() {
            return new DayPilot.Date($3j.$dn.dateTo);
        };
        $3j.getRangeResStart = function() {
            if (!$3j.$dn.resourceFrom) {
                return $i.rowlist[0];
            };
            return $i.$au($3j.$dn.resourceFrom);
        };
        $3j.getRangeResEnd = function() {
            if (!$3j.$dn.resourceTo) {
                return $i.rowlist.last();
            };
            return $i.$au($3j.$dn.resourceTo);
        };
        $3j.getRowHeaderWidth = function() {
            return $i.$aG();
        };
        $3j.getTimeHeaderHeight = function() {
            return $i.$aF();
        };
        $3j.getCanvas = function() {
            return $3j.canvas();
        };
        $3j.getRectangles = function() {
            var $3p = $3j.getRowHeaderWidth();
            var $3q = $3j.getTimeHeaderHeight();
            var $3r = {};
            $3r.main = {
                "x": 0,
                "y": 0,
                "w": $3j.getWidth(),
                "h": $3j.getHeight()
            };
            $3r.corner = {
                "x": 0,
                "y": 0,
                "w": $3p,
                "h": $3q
            };
            $3r.grid = {
                "x": $3p,
                "y": $3q,
                "w": $3j.getWidth() - $3p,
                "h": $3j.getHeight() - $3q
            };
            var $A = $3r.grid.w;
            var $3s = $i.itline.last();
            if ($3s && ($3s.left + $3s.width) < $3r.grid.w) {
                $A = $3s.left + $3s.width;
            };
            var $R = $3r.grid.h;
            var $3t = $i.rowlist.last();
            if ($3t && ($3t.top + $3t.height) < $3r.grid.h) {
                $R = $3t.top + $3t.height;
            };
            $3r.gridContent = {
                "x": $3p,
                "y": $3q,
                "w": $A,
                "h": $R
            };
            return $3r;
        };
        $3j.getRows = function() {
            var $3o = $3j.$dk;
            var $j = DayPilot.list();
            var top, $W, $3u, $3v;
            switch ($3o) {
                case "viewport":
                    top = $i.$do;
                    $W = top + $i.nav.scroll.offsetHeight;
                    $3u = $i.$cD(top).i;
                    $3v = $i.$cD($W).i;
                    break;
                case "full":
                    top = 0;
                    $3u = 0;
                    $3v = $i.rowlist.length;
                    break;
                case "range":
                    $3u = $3j.getRangeResStart().index;
                    $3v = $3j.getRangeResEnd().index;
                    break;
            };
            if ($3v < $i.rowlist.length) {
                $3v += 1;
            };
            for (var y = $3u; y < $3v; y++) {
                var $x = $i.rowlist[y];
                if ($x.hidden) {
                    continue;
                };
                $j.push($x);
            };
            $j.offset = $3u;
            return $j;
        };
        $3j.getEvents = function() {
            var $3o = $3j.$dk;
            switch ($3o) {
                case "full":
                    var $3w = DayPilot.list();
                    DayPilot.list($i.rowlist).each(function($x) {
                        DayPilot.list($x.events).each(function(e) {
                            $3w.push(e);
                        });
                    });
                    return $3w;
                case "viewport":
                    return $Q.events().map(function($02) {
                        return $02.event;
                    });
                case "range":
                    var $3w = DayPilot.list();
                    var $K = $3j.getRangeStart();
                    var end = $3j.getRangeEnd();
                    $3j.getRows().each(function($x) {
                        DayPilot.list($x.events).filter(function($00) {
                            return DayPilot.Util.overlaps($00.start(), $00.end(), $K, end)
                        }).each(function(e) {
                            $3w.push(e);
                        });
                    });
                    return $3w;
                default:
                    throw "Unsupported export mode: " + $3o;
            }
        };
        $3j.getTimeline = function() {
            var $3o = $3j.$dk;
            switch ($3o) {
                case "full":
                    return DayPilot.list($i.itline).addProps({
                        "offset": 0
                    });
                case "viewport":
                    return $3j.getViewportTimeline();
                case "range":
                    return $3j.getRangeTimeline();
                default:
                    throw "Unsupported export mode: " + $3o;
            }
        };
        $3j.getRangeTimeline = function() {
            var $j = DayPilot.list();
            if ($i.itline && $i.itline.length > 0) {
                var $K = $i.$b4($3j.getRangeStart()).i;
                var end = $i.$b4($3j.getRangeEnd()).i;
                var $3x = $i.$aE();
                end = Math.min(end, $3x - 1);
                $K = Math.max($K, 0);
                for (var x = $K; x <= end; x++) {
                    var $P = $i.itline[x];
                    $j.push($P);
                };
                $j.offset = $K;
            };
            return $j;
        };
        $3j.getViewportTimeline = function() {
            var $j = DayPilot.list();
            if ($i.itline && $i.itline.length > 0) {
                var $N = $i.$dp;
                var $O = $N + $i.$dq;
                var $K = $i.$b2($N).x;
                var end = $i.$b2($O, true).x;
                var $3x = $i.$aE();
                end = Math.min(end, $3x);
                $K = Math.max($K, 0);
                for (var x = $K; x <= end; x++) {
                    var $P = $i.itline[x];
                    $j.push($P);
                };
                $j.offset = $K;
            };
            return $j;
        };
        $3j.getTimeHeader = function(y) {
            var $3o = $3j.$dk;
            if ($3o === "full") {
                return DayPilot.list($i.timeHeader[y]);
            } else {
                var $j = DayPilot.list();
                var $3y, $3z;
                $3y = $3j.getViewportOffsetStart();
                $3z = $3y + $3j.getViewportOffsetWidth();
                var $3A = $i.$dr(y, $3y);
                var $3B = $i.$dr(y, $3z);
                if (!$3B) {
                    $3B = {
                        "x": $i.timeHeader[y].length - 1
                    };
                };
                for (var x = $3A.x; x <= $3B.x; x++) {
                    var $P = $i.timeHeader[y][x];
                    $j.push($P);
                };
                return $j;
            }
        };
        $3j.fakeDurationBar = function() {
            var $02 = document.createElement("div");
            $02.style.display = "none";
            $02.className = $i.$aD($06.event);
            var $3C = document.createElement("div");
            $3C.className = $i.$aD($06.eventBar);
            var $05 = document.createElement("div");
            $05.className = $i.$aD($06.eventBarInner);
            document.body.appendChild($02);
            $3C.appendChild($05);
            $02.appendChild($3C);
            return $02;
        };
        $3j.fakeCell = function() {
            var $02 = document.createElement("div");
            $02.style.display = "none";
            $02.className = $i.$aD("_cell");
            $02.style.position = "absolute";
            $02.style.top = "-2000px";
            $02.style.left = "-2000px";
            var $05 = document.createElement("div");
            $05.className = $i.$aD("_cell_inner");
            $02.appendChild($05);
            $i.divCells.appendChild($02);
            return $02;
        };
        $3j.fakeExpand = function() {
            var $02 = document.createElement("div");
            $02.style.display = "none";
            $02.className = $i.$aD('_tree_image_expand');
            document.body.appendChild($02);
            return $02;
        };
        $3j.extractUrl = function($3D) {
            var $3E = /url\((")?([^"].*[^"])\1\)/.exec($3D);
            if (!$3E) {
                return null;
            };
            return $3E[2];
        };
        $3j.getImages = function() {
            var $j = {};
            var $1R = $3j.fakeExpand();
            $j.expand = $3j.extractUrl(new DayPilot.StyleReader($1R).get("background-image"));
            $1R.className = $i.$aD("_tree_image_collapse");
            $j.collapse = $3j.extractUrl(new DayPilot.StyleReader($1R).get("background-image"));
            $1R.className = $i.$aD("_tree_image_no_children");
            $j.nochildren = $3j.extractUrl(new DayPilot.StyleReader($1R).get("background-image"));
            DayPilot.de($1R);
            return $j;
        };
        $3j.getFont = function(element) {
            var style = new DayPilot.StyleReader(element).get("font-style");
            var $3F = new DayPilot.StyleReader(element).get("font-family");
            var $3G = new DayPilot.StyleReader(element).get("font-size");
            return {
                "family": $3F,
                "size": $3G,
                "style": style
            };
        };
        $3j.getViewportOffsetStart = function() {
            var $3o = $3j.$dk;
            switch ($3o) {
                case "full":
                    return 0;
                case "viewport":
                    return $i.nav.scroll.scrollLeft;
                case "range":
                    return $i.getPixels($3j.getRangeStart()).boxLeft;
            }
        };
        $3j.getViewportOffsetTop = function() {
            var $3o = $3j.$dk;
            switch ($3o) {
                case "full":
                    return 0;
                case "viewport":
                    return $i.nav.scroll.scrollTop;
                case "range":
                    return $3j.getRangeResStart().top;
            }
        };
        $3j.getViewportOffsetWidth = function() {
            var $3o = $3j.$dk;
            switch ($3o) {
                case "full":
                    return $i.$dl();
                case "viewport":
                    return $i.nav.scroll.offsetWidth;
                case "range":
                    return $i.getPixels($3j.getRangeEnd()).boxRight - $3j.getViewportOffsetStart();
            }
        };
        $3j.excelBoard = function() {
            var $3H = new DayPilot.Excel();
            var $3I = $3H.worksheets.create("Scheduler");
            var $3J = new DayPilot.StyleReader($i.nav.corner).get("background-color");
            var $3K = new DayPilot.StyleReader($i.nav.top).get("border-top-color");
            var $3L = DayPilot.list($i.elements.events).map(function($00) {
                return $00.firstChild;
            }).last();
            var $3M = new DayPilot.StyleReader($3L).get("border-right-color");
            $3H.styles.getDefault().setBackColor("#ffaaaa");
            var $3N = $3H.styles.create();
            $3N.setHorizontalAlignment("Center");
            $3N.setBackColor($3J);
            $3N.setBorderColor($3K);
            var $3O = $3H.styles.create();
            $3O.setVerticalAlignment("Top");
            $3O.setBackColor($3J);
            $3O.setBorderColor($3K);
            var $3P = $3H.styles.create();
            $3P.setVerticalAlignment("Top");
            $3P.setBackColor("#ff0000");
            $3P.setBorderColor($3M);
            $3I.enableGridlines(false);
            $3I.cell(0, 0).setRowspan($i.timeHeader.length).setStyle($3N);
            $3I.cell(10, 10).setText("hi there");
            DayPilot.list($i.timeHeader).each(function($00, y) {
                var $0D = {
                    "x": 1,
                    "y": 0
                };
                $3j.getTimeHeader(y, "full").each(function($P, x) {
                    var $3Q = $P.colspan;
                    $3I.cell(x + $0D.x, y + $0D.y).setText($P.innerHTML).setColspan($3Q).setStyle($3N);
                });
            });
            DayPilot.list($i.rowlist).each(function($x, y) {
                var $0D = {
                    "x": 0,
                    "y": 1
                };
                var $1W = "";
                for (var i = 0; i < $x.level; i++) {
                    $1W += "  ";
                };
                $3I.cell($0D.x, y + $0D.y).setText($1W + $x.html).setRowspan($x.lines.length).setStyle($3O);
            });
            var $0D = {
                "x": 0,
                "y": $i.timeHeader.length
            };
            var $3R = $0D.y;
            DayPilot.list($i.rowlist).each(function($x, y) {
                DayPilot.list($x.lines).each(function($0v, i) {
                    var $3S = $0D.x;
                    DayPilot.list($0v).each(function(e) {
                        var $K = $i.$b4(e.start()).i;
                        var end = $i.$b4(e.end()).i;
                        var $3Q = 1 + end - $K;
                        $3I.cell($K + $3S, y + $3R).setText(e.client.html()).setColspan($3Q).setStyle($3P);
                        $3S += $3Q - 1;
                    });
                });
                $3R += $x.lines.length - 1;
            });
            return $3H;
        };
        $3j.$dn = null;
        $3j.$dk = null;
        $3j.generate = function($0u, $h) {
            if (typeof $0u === "object") {
                $h = $0u;
                $0u = null;
            };
            var $h = $h || {};
            var $0u = $0u || $h.format || "svg";
            var $3T = $h.scale || 1;
            if ($0u === "xls") {
                return $3j.excelBoard();
            };
            var $3o = $h.area || "viewport";
            $3j.$dn = $h;
            $3j.$dk = $3o;
            var $A = $3j.getWidth();
            var $R = $3j.getHeight();
            var $3i;
            switch ($0u.toLowerCase()) {
                case "svg":
                    $3i = new DayPilot.Svg($A, $R);
                    break;
                case "png":
                    $3i = new DayPilot.Canvas($A, $R, "image/png", $3T);
                    break;
                case "jpg":
                    $3i = new DayPilot.Canvas($A, $R, "image/jpeg", $3T);
                    break;
                default:
                    throw "Export format not supported: " + $0u;
            };
            var $3r = $3j.getRectangles();
            var $3U = $3j.getImages();
            var $3V = new DayPilot.StyleReader($i.nav.top).get("background-color");
            var $3J = new DayPilot.StyleReader($i.nav.corner).get("background-color");
            var $3K = new DayPilot.StyleReader($i.nav.top).get("border-top-color");
            var $3W = new DayPilot.StyleReader($i.nav.divider).get("background-color");
            var $3L = DayPilot.list($i.elements.events).map(function($00) {
                return $00.firstChild;
            }).last();
            var $3M = new DayPilot.StyleReader($3L).get("border-right-color");
            var $3X = $3j.getFont($3L);
            var $3Y = new DayPilot.StyleReader($3L).get("color");
            var $3C = $3j.fakeDurationBar();
            var $3Z = new DayPilot.StyleReader($3C.firstChild).get("background-color");
            var $40 = new DayPilot.StyleReader($3C.firstChild.firstChild).get("background-color");
            DayPilot.de($3C);
            var $P = $3j.fakeCell();
            var $41 = new DayPilot.StyleReader($P).get("background-color");
            DayPilot.Util.addClass($P, $i.$aD("_cell_business"));
            var $42 = new DayPilot.StyleReader($P).get("background-color");
            var $43 = $3j.getFont($P);
            var $44 = new DayPilot.StyleReader($P).get("color");
            DayPilot.de($P);
            var $45 = DayPilot.Util.firstPropValue($i.$9R.linesVertical);
            var $46 = new DayPilot.StyleReader($45).get("background-color");
            var $47 = $3j.getFont($i.$9R.timeHeader["0_0"]);
            var $48 = new DayPilot.StyleReader($i.$9R.timeHeader["0_0"]).get("color");
            var $3y = $3j.getViewportOffsetStart();
            var $49 = $3j.getViewportOffsetTop();
            $3i.fillRect($3r.main, "white");
            $3i.fillRect($3r.main, $3V);
            $3i.fillRect($3r.corner, $3J);
            DayPilot.list($i.timeHeader).each(function($00, y) {
                $3j.getTimeHeader(y, $3o).each(function($P) {
                    var $N = $3r.grid.x + $P.left - $3y;
                    var top = y * $i.headerHeight;
                    var $A = $P.width;
                    var $R = $i.headerHeight;
                    var $4a = Math.max(0, $3r.grid.x - $N);
                    $N += $4a;
                    $A -= $4a;
                    var $4a = Math.max(0, $N + $A - ($3r.grid.x + $3r.grid.w));
                    $A -= $4a;
                    var $4b = {
                        "x": $N,
                        "y": top,
                        "w": $A + 1,
                        "h": $R + 1
                    };
                    $3i.fillRect($4b, $3J);
                    $3i.rect($4b, $3K);
                    $3i.text($4b, $P.innerHTML, $47, $48, "center");
                });
            });
            $3j.getTimeline().each(function($P) {
                var $N = $3r.grid.x + $P.left - $3y;
                var $4a = Math.max(0, $3r.grid.x - $N);
                $N += $4a;
                if ($N === $3r.grid.x) {
                    return;
                };
                $3i.line($N, $3r.grid.y + 1, $N, $3r.grid.y + $3r.grid.h - 2, $46);
            });
            var $4c = typeof $i.onBeforeCellExport === "function";
            $3j.getRows().each(function($x, y, $1b) {
                var y = $1b.offset + y;
                $3j.getTimeline().each(function($P, x, $4d) {
                    var x = $4d.offset + x;
                    var $28 = $i.$d6(x, y);
                    var $l = $i.$ds(x, y);
                    var $1y = $28.html;
                    if ($4c) {
                        if (!$l) {
                            $l = {};
                            $l.cell = $i.cells.findXy(x, y)[0];
                        };
                        $l.text = $1y;
                        $i.onBeforeCellExport($l);
                        $1y = $l.text;
                    };
                    var top = $3r.grid.y + $x.top - $49;
                    var $4e = Math.max(0, $3r.grid.y - top);
                    top += $4e;
                    var $N = $3r.grid.x + $P.left - $3y;
                    var $4a = Math.max(0, $3r.grid.x - $N);
                    $N += $4a;
                    var $4f = $28.business;
                    var $3V = $28.backColor || ($4f ? $42 : $41);
                    var $4g = {
                        "x": $N,
                        "y": top,
                        "w": $P.width,
                        "h": $x.height
                    };
                    $3i.fillRect($4g, $3V);
                    var $4h = {};
                    $4h.x = $4g.x + 1;
                    $4h.y = $4g.y + 1;
                    $4h.w = $4g.w - 2;
                    $4h.h = $4g.h - 2;
                    if ($1y) {
                        $3i.text($4h, $1y, $43, $44);
                    }
                });
            });
            $3j.getRows().each(function($x) {
                var top = $3r.grid.y + $x.top - $49;
                var $4e = Math.max(0, $3r.grid.y - top);
                top += $4e;
                if (top === $3r.grid.y) {
                    return;
                };
                $3i.line($3r.gridContent.x + 1, top, $3r.gridContent.x + $3r.gridContent.w - 1, top, $46);
            });
            $3j.getRows().each(function($x) {
                var top = $3r.grid.y + $x.top - $49;
                var $4e = Math.max(0, $3r.grid.y - top);
                top += $4e;
                var $4i = 10;
                var $N = $x.level * $i.treeIndent + $i.treeImageMarginLeft;
                var $4g = {
                    "x": 0,
                    "y": top,
                    "w": $3r.grid.x + 1,
                    "h": $x.height + 1
                };
                var $1y = $x.html;
                var $4j = {
                    "x": $N,
                    "y": top + $i.treeImageMarginTop,
                    "w": 10,
                    "h": 10
                };
                var $4k = {
                    "x": $N + $4i + 3,
                    "y": top,
                    "w": $4g.w - ($N + $4i),
                    "h": $x.height + 1
                };
                $3i.fillRect($4g, $3J);
                $3i.text($4k, $1y, $47, $48);
                $3i.rect($4g, $3K);
                var $4l = null;
                if (DayPilot.list($x.children).isEmpty()) {
                    $4l = $3U.nochildren;
                } else if ($x.expanded) {
                    $4l = $3U.collapse;
                } else {
                    $4l = $3U.expand;
                };
                $3i.image($4j, $4l);
            });
            $3j.getEvents().each(function(e) {
                var $4m = $i.rowlist[e.part.dayIndex].top;
                var $A = e.part.width;
                var $4n = e.part.barWidth;
                var $4o = e.client && e.client.barVisible && e.client.barVisible();
                var top = $3r.grid.y + $4m + e.part.top - $49;
                var $4e = Math.max(0, $3r.grid.y - top);
                top += $4e;
                var $N = $3r.grid.x + e.part.left - $3y;
                var $4a = Math.max(0, $3r.grid.x - $N);
                $N += $4a;
                $A -= $4a;
                $4n -= $4a;
                var $0x = e.cache || e.data;
                var $4p = $0x.barColor || $40;
                var $4q = $0x.barBackColor || $3Z;
                var $3V = $0x.backColor || "white";
                var $4r = 5;
                var $4s = 2;
                var $4t = 2;
                var $l = {};
                $l.e = e;
                $l.text = e.text ? e.text() : e.client.html();
                if (typeof $i.onBeforeEventExport === "function") {
                    $i.onBeforeEventExport($l);
                };
                var $4g = {
                    "x": $N,
                    "y": top,
                    "w": $A,
                    "h": e.part.height
                };
                var $4u = {
                    "x": $N,
                    "y": top,
                    "w": $A,
                    "h": $4r
                };
                var $4v = {
                    "x": $N + e.part.barLeft,
                    "y": top,
                    "w": $4n,
                    "h": $4r
                };
                var $4w = {
                    "x": $N + $4s,
                    "y": top + $4r,
                    "w": $A - $4s,
                    "h": e.part.height - $4r
                };
                $3i.fillRect($4g, $3V);
                $3i.text($4g, $l.text, $3X, $3Y, "left", $4t);
                $3i.rect($4g, $3M);
                if ($4o) {
                    $3i.fillRect($4u, $4q);
                    if ($4n > 0) {
                        $3i.fillRect($4v, $4p);
                    }
                }
            });
            $3i.rect($3r.main, $3K);
            $3i.line($3r.grid.x, 0, $3r.grid.x, $3r.main.h, $3W);
            $3i.line(0, $3r.grid.y, $3r.main.w, $3r.grid.y, $3W);
            return $3i;
        };
        this.$dt = {};
        var $4x = this.$dt;
        $4x.findJointDivs = function(e) {
            var id = e.data.join;
            if (!id) {
                return DayPilot.list();
            };
            var $2k = DayPilot.list($i.elements.events).filter(function($00) {
                return $00.event.data.join === id && $00.event !== e;
            });
            return $2k;
        };
        this.$du = {};
        var $14 = this.$du;
        $14.divs = [];
        $14.list = [];
        $14.forbidden = false;
        $14.additional = function() {
            var $Y = DayPilot.list();
            var $4y = $i.multiselect.isSelected(DayPilotScheduler.resizing.event);
            var $4z = $i.allowMultiResize;
            var $Y = DayPilot.list();
            if ($4y && $4z) {
                $Y = DayPilot.list($i.multiselect.divs).filter(function($00) {
                    return $00 !== DayPilotScheduler.resizing;
                });
            };
            if ($i.jointEventsResize) {
                var j = $4x.findJointDivs(DayPilotScheduler.resizing.event);
                $Y = $Y.concat(j);
            };
            return $Y;
        };
        $14.update = function() {
            $14.clear();
            $14.draw();
        };
        $14.clear = function() {
            DayPilot.de($14.divs);
            $14.divs = [];
        };
        $14.draw = function() {
            if (!DayPilotScheduler.resizing) {
                return;
            };
            var e = DayPilotScheduler.resizing.event;
            var $20 = DayPilotScheduler.resizingShadow;
            var $4A = $20.start.getTime() - e.start().getTime();
            var $4B = $20.end.getTime() - e.end().getTime();
            var $4C = 0;
            $14.list = [];
            $14.forbidden = false;
            $14.invalid = false;
            $14.rowoffset = $4C;
            $14.additional().each(function($00) {
                if (!$00.event) {
                    return;
                };
                var event = $00.event;
                var $x = $i.rowlist[event.part.dayIndex + $4C];
                if (!$x) {
                    $14.invalid = true;
                    return;
                };
                var top = event.part.top + $x.top;
                var $R = event.part.height;
                if ($4C) {
                    top = $x.top;
                    $R = $x.height;
                };
                var $36 = event.start().addTime($4A);
                var $37 = event.end().addTime($4B);
                var $15 = {};
                $15.event = event;
                $15.start = $36;
                $15.end = $37;
                $15.overlapping = false;
                $14.list.push($15);
                var $39 = $i.getPixels($36);
                var $3a = $i.getPixels($37);
                var $0N = DayPilot.DateUtil.diff(event.rawend(), event.start());
                $0N = Math.max($0N, 1);
                var $2P = $0b.useBox($0N);
                var $N = ($2P) ? $39.boxLeft : $39.left;
                var $A = ($2P) ? ($3a.boxRight - $N) : ($3a.left - $N);
                var $02 = document.createElement("div");
                $02.style.position = "absolute";
                $02.style.left = $N + "px";
                $02.style.top = top + "px";
                $02.style.height = $R + "px";
                $02.style.width = $A + "px";
                $02.style.zIndex = 101;
                $02.style.overflow = "hidden";
                $02.className = $i.$aD("_shadow");
                $02.info = $15;
                var $05 = document.createElement("div");
                $05.className = $i.$aD("_shadow_inner");
                $02.appendChild($05);
                $i.$as.appendChild($02);
                $14.divs.push($02);
            });
            if ($14.invalid) {
                var $4D = $i.$aD("_shadow_overlap");
                DayPilot.list($14.divs).each(function($00) {
                    DayPilot.Util.addClass($00, $4D);
                });
                return;
            };
            DayPilot.list($14.divs).each(function($00) {
                if (!$00.info) {
                    return;
                };
                var $02 = $00;
                var $15 = $00.info;
                var event = $00.info.event;
                var $x = $i.rowlist[event.part.dayIndex + $4C];
                var $39 = $i.getPixels($15.start);
                var $3a = $i.getPixels($15.end);
                var $N = $39.left;
                var $A = $3a.left - $N;
                var $4E = DayPilot.list($14.list).map(function($00) {
                    return $00.event.data;
                }).add(DayPilotScheduler.resizing.event.data);
                $i.$dv($02, $x, $N, $A, $4E);
                if ($02.overlapping) {
                    $15.overlapping = true;
                    $14.forbidden = true;
                }
            });
        };
        this.$dw = {};
        var mm = this.$dw;
        mm.divs = [];
        mm.list = [];
        mm.forbidden = false;
        mm.verticalAll = function() {
            return $i.multiMoveVerticalMode === "All";
        };
        mm.additional = function() {
            var $Y = DayPilot.list();
            var $4y = $i.multiselect.isSelected(DayPilotScheduler.movingEvent);
            var $4z = $i.allowMultiMove;
            var $Y = DayPilot.list();
            if ($4y && $4z) {
                $Y = DayPilot.list($i.multiselect.divs).filter(function($00) {
                    return $00 !== DayPilotScheduler.moving && $00 !== $0P.moving;
                });
            };
            if ($i.jointEventsMove) {
                var j = $4x.findJointDivs(DayPilotScheduler.movingEvent);
                $Y = $Y.concat(j);
            };
            return $Y;
        };
        mm.update = function() {
            mm.clear();
            mm.draw();
        };
        mm.draw = function() {
            if (!DayPilotScheduler.moving) {
                return;
            };
            var e = DayPilotScheduler.movingEvent;
            var $K = DayPilotScheduler.movingShadow.start;
            var $0D = $K.getTime() - e.start().getTime();
            var $4F = e.part.dayIndex;
            var $4G = DayPilot.indexOf($i.rowlist, DayPilotScheduler.movingShadow.row);
            var $4C = $4G - $4F;
            if (!mm.verticalAll()) {
                $4C = 0;
            };
            mm.list = [];
            mm.forbidden = false;
            mm.invalid = false;
            mm.rowoffset = $4C;
            mm.additional().each(function($00) {
                if (!$00.event) {
                    return;
                };
                var event = $00.event;
                var $x = $i.rowlist[event.part.dayIndex + $4C];
                if (!$x) {
                    mm.invalid = true;
                    return;
                };
                var top = event.part.top + $x.top;
                var $R = event.part.height;
                if ($4C) {
                    top = $x.top;
                    $R = $x.height;
                };
                var $36 = event.start().addTime($0D);
                var $37 = event.end().addTime($0D);
                var $15 = {};
                $15.event = event;
                $15.start = $36;
                $15.end = $37;
                $15.overlapping = false;
                mm.list.push($15);
                var $39 = $i.getPixels($36);
                var $3a = $i.getPixels($37);
                var $0N = DayPilot.DateUtil.diff(event.rawend(), event.start());
                $0N = Math.max($0N, 1);
                var $2P = $0b.useBox($0N);
                var $N = ($2P) ? $39.boxLeft : $39.left;
                var $A = ($2P) ? ($3a.boxRight - $N) : ($3a.left - $N);
                var $02 = document.createElement("div");
                $02.style.position = "absolute";
                $02.style.left = $N + "px";
                $02.style.top = top + "px";
                $02.style.height = $R + "px";
                $02.style.width = $A + "px";
                $02.style.zIndex = 101;
                $02.style.overflow = "hidden";
                $02.className = $i.$aD("_shadow");
                $02.info = $15;
                var $05 = document.createElement("div");
                $05.className = $i.$aD("_shadow_inner");
                $02.appendChild($05);
                $i.$as.appendChild($02);
                mm.divs.push($02);
            });
            if (mm.invalid) {
                var $4D = $i.$aD("_shadow_overlap");
                DayPilot.list(mm.divs).each(function($00) {
                    DayPilot.Util.addClass($00, $4D);
                });
                return;
            };
            DayPilot.list(mm.divs).each(function($00) {
                if (!$00.info) {
                    return;
                };
                var $02 = $00;
                var $15 = $00.info;
                var event = $00.info.event;
                var $x = $i.rowlist[event.part.dayIndex + $4C];
                var $39 = $i.getPixels($15.start);
                var $3a = $i.getPixels($15.end);
                var $N = $39.left;
                var $A = $3a.left - $N;
                var $4E = DayPilot.list(mm.list).map(function($00) {
                    return $00.event.data;
                }).add(DayPilotScheduler.movingEvent.data);
                $i.$dv($02, $x, $N, $A, $4E);
                if ($02.overlapping) {
                    $15.overlapping = true;
                    mm.forbidden = true;
                }
            });
        };
        mm.clear = function() {
            DayPilot.de(mm.divs);
            mm.divs = [];
        };
        this.$dx = function() {
            var $1Z = $i.coords;
            var $3g = DayPilotScheduler.resizing.dpBorder;
            var e = DayPilotScheduler.resizing.event;
            var $4H = e.part.left;
            if ($3g == "right") {
                $4H += e.part.width;
            };
            var $4I = DayPilotScheduler.resizing.event.calendar.cellWidth;
            var $4J = DayPilotScheduler.resizing.event.part.width;
            var $4K = DayPilotScheduler.resizing.event.part.left;
            var $4L = 0;
            var $4M = ($1Z.x - $4H);
            var $4N, $4O;
            if ($3g === 'right') {
                $4N = $4K;
                if ($i.snapToGrid) {
                    var $0H = $i.$b2($4J + $4K + $4M).cell;
                    var $4P = $0H.left + $0H.width;
                    $4O = $4P - $4K;
                    if ($4O < $4I) {
                        $4O = $4I;
                    }
                } else {
                    $4O = $4J + $4M;
                };
                var $z = $i.$dl();
                if ($4K + $4O > $z) {
                    $4O = $z - $4K;
                };
                DayPilotScheduler.resizingShadow.style.width = ($4O) + 'px';
            } else if ($3g === 'left') {
                if ($i.snapToGrid) {
                    if ($4M >= $4J) {
                        $4M = $4J;
                    };
                    $4N = Math.floor((($4K + $4M) + 0) / $4I) * $4I;
                    if ($4N < $4L) {
                        $4N = $4L;
                    }
                } else {
                    $4N = $4K + $4M;
                };
                $4O = $4J - ($4N - $4K);
                var $O = $4K + $4J;
                var $4Q = $4I;
                if (!$i.snapToGrid) {
                    $4Q = 1;
                } else if ($i.useEventBoxes === "Never") {
                    if ($4J < $4I) {
                        $4Q = $4J;
                    } else {
                        $4Q = 1;
                    }
                };
                if ($4O < $4Q) {
                    $4O = $4Q;
                    $4N = $O - $4O;
                };
                DayPilotScheduler.resizingShadow.style.left = $4N + 'px';
                DayPilotScheduler.resizingShadow.style.width = ($4O) + 'px';
            } else {
                throw "Invalid dpBorder.";
            };
            (function checkOverlap() {
                var ev = DayPilotScheduler.resizing.event;
                var $x = $i.rowlist[ev.part.dayIndex];
                var $N = $4N;
                var $A = $4O;
                $i.$dv(DayPilotScheduler.resizingShadow, $x, $N, $A, ev.data);
            })();
            $i.$dy();
        };
        this.$dh = function() {
            var scroll = this.nav.scroll;
            if (!$i.coords) {
                return;
            };
            if (!DayPilotScheduler.moving) {
                return;
            };
            $i.$aH();
            var $20 = DayPilotScheduler.movingShadow;
            var $1Z = this.$cK(DayPilotScheduler.moving);
            if ($i.$cN($1Z.rowIndex)) {
                return;
            };
            var ev = DayPilotScheduler.movingEvent;
            var $4R = 0;
            var $4S = 0;
            (function calculatePosition() {
                if ($i.cellStacking) {
                    var y = $1Z.relativeY;
                    var $4T = $i.$b2($1Z.left).x;
                    var $x = $1Z.row;
                    var $4U = $x.evColumns[$4T];
                    var e = $4U.events.find(function(e) {
                        return y < e.part.top + e.part.height + $i.eventMarginBottom;
                    });
                    if (!e) {
                        e = $4U.events.last();
                    };
                    if (e) {
                        $4S = e.part.top;
                        $4R = DayPilot.indexOf($4U.events, e);
                        if ((y - e.part.top) > e.part.height / 2) {
                            $4S = e.part.top + e.part.height + $i.eventMarginBottom / 2;
                            $4R += 1;
                        }
                    }
                } else {
                    var y = $1Z.relativeY;
                    var $x = $1Z.row;
                    var top = 0;
                    var lh = $i.$cL.eventHeight();
                    var $z = $x.lines.length;
                    for (var i = 0; i < $x.lines.length; i++) {
                        var $0v = $x.lines[i];
                        if ($0v.isFree($1Z.left, $i.cellWidth)) {
                            $z = i;
                            break;
                        }
                    };
                    var $G = Math.floor((y - top + lh / 2) / lh);
                    var $G = Math.min($z, $G);
                    var $G = Math.max(0, $G);
                    $4R = $G;
                    $4S = $i.rowMarginTop + $4R * ($i.$cL.eventHeight() + $i.eventMarginBottom) + $i.eventMarginBottom / 2;
                }
            })();
            if ($4S > 0) {
                $4S -= 3;
            };
            var $21 = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
            var $22 = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
            var $4V = !mm.additional().isEmpty();
            if ($4V && $i.multiMoveVerticalMode === "Disabled") {
                $21 = false;
            };
            if ($21) {
                if (!this.$cN($1Z.rowIndex)) {
                    $20.row = $1Z.row;
                    $20.style.height = Math.max($1Z.row.height, 0) + 'px';
                    $20.style.top = ($1Z.top) + 'px';
                    if ($i.eventMoveToPosition) {
                        $20.style.top = ($1Z.top + $4S) + "px";
                        $20.style.height = "3px";
                        $20.line = $4R;
                    }
                } else {
                    var $4W = $20.row;
                    var $4X = 1;
                    if ($4W) {
                        $4X = $1Z.rowIndex < $4W.index ? 1 : -1;
                    } else {
                        return;
                    };
                    for (var i = $1Z.rowIndex; i !== $4W.index; i += $4X) {
                        var $x = this.rowlist[i];
                        if (!this.$cN(i) && !$x.hidden) {
                            $20.style.top = ($x.top) + 'px';
                            $20.style.height = Math.max($x.height, 0) + 'px';
                            $20.row = $x;
                            if ($i.eventMoveToPosition) {
                                $4R = $4X > 0 ? 0 : $x.lines.length - 1;
                                $20.style.top = ($1Z.top + $4S) + "px";
                                $20.style.height = "3px";
                                $20.line = $4R;
                            };
                            break;
                        }
                    }
                }
            } else {
                var $4W = $i.rowlist[ev.part.dayIndex];
                var $z = $4W.lines.length;
                for (var i = 0; i < $4W.lines.length; i++) {
                    var $0v = $4W.lines[i];
                    if ($0v.isFree($1Z.left, $i.cellWidth)) {
                        $z = i;
                        break;
                    }
                };
                if (!$4V) {
                    $20.style.height = Math.max($4W.height, 0) + 'px';
                    $20.style.top = ($4W.top) + 'px';
                };
                $20.row = $4W;
                if ($i.eventMoveToPosition && !$4V) {
                    if ($1Z.row === $4W) {
                        $20.style.top = ($4W.top + $4S) + "px";
                        $20.style.height = "3px";
                        $20.line = $4R;
                    } else {
                        var $G = ($1Z.rowIndex > $4W.index && $z > 0) ? $z * $i.$cL.eventHeight() - 3 : 0;
                        $20.style.top = ($4W.top + $G) + "px";
                        $20.style.height = "3px";
                        $20.line = 0;
                    }
                }
            };
            if ($22) {
                $20.style.left = $1Z.left + 'px';
                if ($i.eventMoveToPosition) {
                    $20.style.width = ($i.cellWidth) + 'px';
                } else {
                    $20.style.width = ($1Z.width) + 'px';
                };
                $20.start = $1Z.start;
                $20.end = $1Z.end;
            } else {
                $20.style.left = ev.part.left + "px";
                $20.start = ev.start();
                $20.end = ev.rawend();
            };
            (function checkOverlap() {
                var $x = $20.row;
                var $q = ev.data;
                var $A = $1Z.width;
                var $N = $1Z.left;
                var $4E = DayPilot.list(mm.list).map(function($00) {
                    return $00.event.data;
                }).add($q);
                $i.$dv($20, $x, $N, $A, $4E);
            })();
            (function() {
                var $0E = $i.$bW;
                if ($0E && $0E.start.getTime() === $20.start.getTime() && $0E.end.getTime() === $20.end.getTime() && $0E.resource === $20.row.id) {
                    return;
                };
                mm.update();
                var $l = {};
                $l.start = $20.start;
                $l.end = $i.$bm($20.end);
                $l.duration = new DayPilot.Duration($l.start, $l.end);
                $l.e = ev;
                $l.resource = $20.row.id;
                $l.row = $i.$ce($20.row);
                $l.position = $20.line;
                $l.overlapping = $20.overlapping || mm.forbidden;
                $l.allowed = true;
                $l.left = {};
                $l.left.html = $l.start.toString($i.eventMovingStartEndFormat, $0b.locale());
                $l.left.enabled = $i.eventMovingStartEndEnabled;
                $l.right = {};
                $l.right.html = $l.end.toString($i.eventMovingStartEndFormat, $0b.locale());
                $l.right.enabled = $i.eventMovingStartEndEnabled;
                $l.multimove = DayPilot.list(mm.list);
                var $15 = {};
                $15.event = ev;
                $15.start = $l.start;
                $15.end = $l.end;
                $l.multimove.splice(0, 0, $15);
                $i.$bW = $l;
                var $0m = {
                    "start": $l.start,
                    "end": $l.end
                };
                if (typeof $i.onEventMoving === 'function') {
                    $i.onEventMoving($l);
                };
                $20.allowed = $l.allowed;
                if ($l.start !== $0m.start || $l.end !== $0m.end) {
                    var $K = $l.start;
                    var end = $i.$bT($l.end);
                    $20.start = $K;
                    $20.end = end;
                    var $0N = DayPilot.DateUtil.diff($K, end);
                    $0N = Math.max($0N, 1);
                    var $2P = $0b.useBox($0N);
                    var $N = $2P ? $i.getPixels($K).boxLeft : $i.getPixels($K).left;
                    var $O = $2P ? $i.getPixels(end).boxRight : $i.getPixels(end).left;
                    $20.style.left = $N + "px";
                    $20.style.width = ($O - $N) + "px";
                };
                $i.$dz($20, $l);
                DayPilot.Util.addClass(DayPilotScheduler.moving, $i.$aD($06.eventMovingSource));
                $i.$dA(DayPilotScheduler.movingShadow, $l);
            })();
        };
        this.$dv = function($20, $x, $N, $A, $q) {
            if ($i.allowEventOverlap) {
                return;
            };
            (function calculate() {
                $20.overlapping = false;
                for (var i = 0; i < $x.lines.length; i++) {
                    var $0v = $x.lines[i];
                    if (!$0v.isFree($N, $A, $q)) {
                        $20.overlapping = true;
                        return;
                    }
                };
                if (!$i.allowMultiRange) {
                    return;
                };
                var $4Y = $x.index;
                var $4Z = DayPilot.list(mr.list).some(function($00) {
                    var $02 = $00.div;
                    var $50 = parseInt($02.style.left);
                    var $51 = parseInt($02.style.width);
                    var ry = $00.start.y;
                    if ($20 === $02) {
                        return false;
                    };
                    if (ry !== $4Y) {
                        return false;
                    };
                    return DayPilot.Util.overlaps($N, $N + $A, $50, $50 + $51);
                });
                if ($4Z) {
                    $20.overlapping = true;
                    return;
                }
            })();
            var $52 = $20.overlapping;
            var $4D = $i.$aD("_shadow_overlap");
            if ($52) {
                DayPilot.Util.addClass($20, $4D);
            } else {
                DayPilot.Util.removeClass($20, $4D);
            }
        };
        this.$dz = function($20, $l) {
            var $4D = $i.$aD("_shadow_forbidden");
            if (!$l.allowed || mm.invalid) {
                DayPilot.Util.addClass($20, $4D);
            } else {
                DayPilot.Util.removeClass($20, $4D);
            }
        };
        this.$dA = function($20, $l) {
            var $53 = 5;
            this.$dB();
            var $G = {};
            $G.left = parseInt($20.style.left);
            $G.top = parseInt($20.style.top);
            $G.right = $G.left + parseInt($20.style.width);
            var $A = $l.left.width || 10;
            var $N = document.createElement("div");
            $N.style.position = "absolute";
            $N.style.left = ($G.left - $A - $53) + "px";
            $N.style.top = $G.top + "px";
            $N.style.height = $i.eventHeight + "px";
            $N.style.overflow = "hidden";
            $N.style.boxSizing = "border-box";
            $N.innerHTML = $l.left.html;
            $N.className = this.$aD("_event_move_left");
            if ($l.left.enabled) {
                $i.divHover.appendChild($N);
                if ($l.left.width) {
                    $N.style.width = $A + "px";
                } else {
                    $N.style.whiteSpace = "nowrap";
                    var $54 = $N.offsetWidth;
                    var $55 = $G.left - $54 - $53;
                    $N.style.width = $54 + "px";
                    $N.style.left = $55 + "px";
                    var $56 = $i.nav.scroll.scrollLeft;
                    if ($55 < $56) {
                        $i.divHover.removeChild($N);
                    };
                    var $57 = $i.$dC() + ($55 - $56);
                    if ($57 > 0) {
                        $N.style.left = $57 + "px";
                        $N.style.top = ($G.top - $i.nav.scroll.scrollTop + $i.$aF()) + "px";
                        $i.nav.top.appendChild($N);
                        $i.elements.hover.push($N);
                    }
                }
            };
            var $O = document.createElement("div");
            $O.style.position = "absolute";
            $O.style.left = ($G.right + $53) + "px";
            $O.style.top = $G.top + "px";
            $O.style.height = $i.eventHeight + "px";
            $O.style.overflow = "hidden";
            $O.style.boxSizing = "border-box";
            if ($l.right.width) {
                $O.style.width = $l.right.width + "px";
            } else {
                $O.style.whiteSpace = "nowrap";
            };
            $O.innerHTML = $l.right.html;
            $O.className = this.$aD("_event_move_right");
            if ($l.right.enabled) {
                $i.divHover.appendChild($O);
                var $58 = $i.nav.scroll.scrollWidth;
                var $59 = $G.right + $53 + $O.offsetWidth;
                if ($59 >= $58) {
                    $i.divHover.removeChild($O);
                }
            }
        };
        this.$dB = function() {
            $i.divHover.innerHTML = '';
            DayPilot.de($i.elements.hover);
            $i.elements.hover = [];
        };
        this.$dD = function() {
            var $5a = $i.rowHeaderColumnDefaultWidth;
            if (this.rowHeaderColumns) {
                this.rowHeaderCols = DayPilot.Util.propArray(this.rowHeaderColumns, "width", $5a);
            }
        };
        this.$dC = function() {
            var $3x = 0;
            this.$dD();
            if (this.rowHeaderCols) {
                for (var i = 0; i < this.rowHeaderCols.length; i++) {
                    $3x += this.rowHeaderCols[i];
                }
            } else {
                $3x = this.rowHeaderWidth;
            };
            return $3x;
        };
        this.$dE = function() {
            return this.$dF($i.progressiveRowRenderingPreload);
        };
        this.$dF = function($5b) {
            var $5b = $5b || 0;
            var $K = 0;
            var end = $i.rowlist.length;
            var $5c = $i.progressiveRowRendering;
            if ($5c) {
                var $J = $i.$aw();
                $K = $J.yStart;
                end = $J.yEnd + 1;
                $K = Math.max(0, $K - $5b);
                end = Math.min($i.rowlist.length, end + $5b);
            };
            return {
                "start": $K,
                "end": end
            }
        };
        this.$dG = function() {
            if (!this.$dH()) {
                return;
            };
            if (!this.rowHeaderWidthAutoFit) {
                return;
            };
            var $5d = this.divHeader;
            if (!$5d) {
                return;
            };
            if (!$5d.rows) {
                return;
            };
            var $z = [];
            var $1r = $i.$dE();
            for (var i = $1r.start; i < $1r.end; i++) {
                var $x = $5d.rows[i];
                if (!$x) {
                    continue;
                };
                if ($x.hidden) {
                    continue;
                };
                if ($x.autofitDone) {
                    continue;
                };
                $x.autofitDone = true;
                for (var j = 0; j < $x.cells.length; j++) {
                    var $05 = $x.cells[j].firstChild.firstChild;
                    if (!$05 || !$05.style) {
                        continue;
                    };
                    var $5e = $05.style.width;
                    var $5f = $05.style.right;
                    $05.style.position = "absolute";
                    $05.style.width = "auto";
                    $05.style.right = "auto";
                    $05.style.whiteSpace = "nowrap";
                    var w = $05.offsetWidth + 2;
                    $05.style.position = "";
                    $05.style.width = $5e;
                    $05.style.right = $5f;
                    $05.style.whiteSpace = "";
                    if (typeof $z[j] === 'undefined') {
                        $z[j] = 0;
                    };
                    $z[j] = Math.max($z[j], w);
                }
            };
            var $5g = 0;
            var $5h = false;
            this.$dD();
            if (this.rowHeaderCols) {
                for (var i = 0; i < $z.length; i++) {
                    if (this.rowHeaderCols[i]) {
                        if ($z[i] > this.rowHeaderCols[i]) {
                            this.rowHeaderCols[i] = $z[i];
                            $5h = true;
                        };
                        $5g += this.rowHeaderCols[i];
                    }
                }
            } else {
                $5g = this.rowHeaderWidth;
                if (this.rowHeaderWidth < $z[0] + $i.rowHeaderWidthMarginRight) {
                    $5g = $z[0] + $i.rowHeaderWidthMarginRight;
                    $5h = true;
                }
            };
            if ($i.progressiveRowRendering) {};
            if ($5h) {
                if (this.$dI) {
                    this.$dI.widths = this.rowHeaderCols;
                    this.$dI.updateWidths();
                    DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns, "width", this.rowHeaderCols);
                };
                if (!this.rowHeaderScrolling) {
                    this.rowHeaderWidth = $5g;
                };
                this.$bI();
                this.$dJ();
            }
        };
        this.$a5 = function() {
            this.$dK = true;
            this.$dD();
            var $3x = this.$dC();
            var $5i = this.divHeader;
            if ($5i) {
                $5i.innerHTML = '';
                DayPilot.puc($5i);
            } else {
                $5i = document.createElement("div");
                $5i.onmousemove = function() {
                    $i.$dL();
                };
                this.divHeader = $5i;
            };
            $5i.style.width = $3x + "px";
            $5i.style.height = $i.$9Q + "px";
            $5i.rows = [];
            var $5c = $i.progressiveRowRendering;
            if ($5c) {
                $c();
            } else {
                var m = this.rowlist.length;
                for (var i = 0; i < m; i++) {
                    $i.$dM(i);
                }
            };
            $i.$dN();
            this.divResScroll.appendChild($5i);
            if (this.rowHeaderWidthAutoFit) {
                this.$dG();
            }
        };
        this.$bJ = function() {
            if (!$i.progressiveRowRendering) {
                return;
            };
            var $J = this.$dE();
            for (var i = 0; i < $i.rowlist.length; i++) {
                if ($J.start <= i && i < $J.end) {
                    $i.$dM(i);
                } else {
                    $i.$dO(i);
                }
            };
            if (this.rowHeaderWidthAutoFit) {
                var $4J = $i.$aG();
                this.$dG();
                var $4O = $i.$aG();
                if ($4O !== $4J) {
                    var $5j = this.cellWidth;
                    this.$a0();
                    var $5k = this.cellWidth;
                    if ($5k !== $5j) {
                        this.$a1();
                        this.$a6();
                        this.$ac();
                        this.$a4();
                    }
                }
            }
        };
        this.$dN = function() {
            var $5i = $i.divHeader;
            var $5l = this.rowHeaderCols;
            var $1U = $5l ? this.rowHeaderCols.length : 0;
            var $3x = this.$dC();
            var c = document.createElement("div");
            c.style.position = "absolute";
            c.style.top = this.$9Q + "px";
            c.colSpan = $1U + 1;
            c.style.width = $3x + "px";
            c.style.height = ($i.divResScroll.clientHeight + 20) + "px";
            $5i.appendChild(c);
            $i.nav.resScrollSpace = c;
            c.setAttribute("unselectable", "on");
            var $02 = document.createElement("div");
            $02.style.position = "relative";
            $02.style.height = "100%";
            $02.className = this.$aD('_rowheader');
            c.appendChild($02);
        };
        this.$dO = function(i) {
            var $x = $i.divHeader.rows[i];
            if (!$x) {
                return;
            };
            DayPilot.de($x.cells);
            $i.divHeader.rows[i] = null;
        };
        this.$bN = function(i) {
            this.$dO(i);
            this.$dM(i);
        };
        this.$dM = function(i) {
            var $5i = $i.divHeader;
            var $5m = this.divHeader;
            if ($5m.rows[i]) {
                return;
            };
            var $5l = this.rowHeaderCols;
            var $1U = $5l ? this.rowHeaderCols.length : 0;
            var $3x = this.$dC();
            var $x = this.rowlist[i];
            if (!$x) {
                return;
            };
            if ($x.hidden) {
                return;
            };
            var $l = this.$dP($x);
            $5m.rows[i] = {};
            $5m.rows[i].cells = [];
            var c = document.createElement("div");
            c.style.position = "absolute";
            c.style.top = $x.top + "px";
            c.row = $x;
            c.index = i;
            var $28 = $l.row;
            var $A = $5l ? $5l[0] : this.rowHeaderWidth;
            c.style.width = ($A) + "px";
            c.style.border = "0px none";
            if ($28.toolTip) {
                c.title = $28.toolTip;
            };
            c.setAttribute("unselectable", "on");
            c.onmousemove = $i.$dQ;
            c.onmouseout = $i.$dR;
            c.onmouseup = $i.$dS;
            c.oncontextmenu = $i.$dT;
            c.onclick = $i.$dU;
            c.ondblclick = $i.$dV;
            var $02 = document.createElement("div");
            $02.style.width = ($A) + "px";
            $02.setAttribute("unselectable", "on");
            $02.className = this.$aD('_rowheader');
            if ($28.cssClass) {
                DayPilot.Util.addClass($02, $28.cssClass);
            };
            if ($28.backColor) {
                $02.style.background = $28.backColor;
            };
            $02.style.height = ($x.height) + "px";
            $02.style.overflow = 'hidden';
            $02.style.position = 'relative';
            var $05 = document.createElement("div");
            $05.setAttribute("unselectable", "on");
            $05.className = this.$aD('_rowheader_inner');
            $02.appendChild($05);
            var $0P = this.rowMoveHandling !== "Disabled";
            var $5n = 10;
            var $5o = $28.areas || [];
            if ($0P && !$28.moveDisabled) {
                $5o.push({
                    "v": "Hover",
                    "w": $5n,
                    "bottom": 0,
                    "top": 0,
                    "left": 0,
                    "css": $i.$aD("_rowmove_handle"),
                    "action": "Move"
                });
            };
            var ro = $i.$ce($x);
            DayPilot.Areas.attach($02, ro, {
                "areas": $5o,
                "allowed": function() {
                    return !$5p.row;
                }
            });
            var $3g = document.createElement("div");
            $3g.style.position = "absolute";
            $3g.style.bottom = "0px";
            $3g.style.width = "100%";
            $3g.style.height = "1px";
            $3g.className = this.$aD($06.resourcedivider);
            $02.appendChild($3g);
            (function drawText() {
                if ($i.treeEnabled && !$x.isNewRow) {
                    var $N = $x.level * $i.treeIndent + $i.treeImageMarginLeft;
                    if ($0P) {
                        $N += $5n;
                    };
                    var $A = 10;
                    var $3c = document.createElement("div");
                    $3c.style.width = "10px";
                    $3c.style.height = $A + "px";
                    $3c.style.backgroundRepeat = "no-repeat";
                    $3c.style.position = 'absolute';
                    $3c.style.left = $N + 'px';
                    $3c.style.top = $i.treeImageMarginTop + "px";
                    if (!$x.loaded && $x.children.length === 0) {
                        $3c.className = $i.$aD('_tree_image_expand');
                        $3c.style.cursor = 'pointer';
                        $3c.index = i;
                        $3c.onclick = function(ev) {
                            $i.$dW(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else if ($x.children.length > 0) {
                        if ($x.expanded) {
                            $3c.className = $i.$aD('_tree_image_collapse');
                        } else {
                            $3c.className = $i.$aD('_tree_image_expand');
                        };
                        $3c.style.cursor = 'pointer';
                        $3c.index = i;
                        $3c.onclick = function(ev) {
                            $i.$dg(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else {
                        $3c.className = $i.$aD('_tree_image_no_children');
                    };
                    $05.appendChild($3c);
                };
                var $1y = document.createElement("div");
                if ($i.treeEnabled) {
                    $1y.style.marginLeft = ($N + $A) + "px";
                };
                $1y.innerHTML = $28.html;
                c.textDiv = $1y;
                c.cellDiv = $02;
                $05.appendChild($1y);
            })();
            c.appendChild($02);
            if ($28.areas) {
                for (var j = 0; j < $28.areas.length; j++) {
                    var $J = $28.areas[j];
                    var v = $J.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    var r = $i.$ce($x);
                    var a = DayPilot.Areas.createArea($02, r, $J);
                    $02.appendChild(a);
                }
            };
            $5i.appendChild(c);
            $5m.rows[i].cells.push(c);
            if (!$x.columns || $x.columns.length === 0) {
                c.colSpan = $1U > 0 ? $1U : 1;
                $02.style.width = $3x + "px";
            } else {
                var $N = $A;
                for (var j = 1; j < $1U; j++) {
                    var $5q = $28.columns[j - 1] || {};
                    var c = document.createElement("div");
                    c.style.position = "absolute";
                    c.style.top = $x.top + "px";
                    c.style.left = $N + "px";
                    $5i.appendChild(c);
                    $5m.rows[i].cells.push(c);
                    c.row = $x;
                    c.index = i;
                    if ($28.toolTip) {
                        c.title = $28.toolTip;
                    };
                    c.setAttribute("unselectable", "on");
                    c.onmousemove = $i.$dQ;
                    c.onmouseout = $i.$dR;
                    c.onmouseup = $i.$dS;
                    c.oncontextmenu = $i.$dT;
                    c.onclick = $i.$dU;
                    c.ondblclick = $i.$dV;
                    var $02 = document.createElement("div");
                    var w = $5l[j];
                    $N += w;
                    var $3V = $5q.backColor || $28.backColor;
                    if ($3V) {
                        $02.style.backgroundColor = $3V;
                    };
                    $02.style.width = w + "px";
                    $02.style.height = ($x.height) + "px";
                    $02.style.overflow = 'hidden';
                    $02.style.position = 'relative';
                    $02.setAttribute("unselectable", "on");
                    DayPilot.Util.addClass($02, this.$aD("_rowheader"));
                    DayPilot.Util.addClass($02, this.$aD("_rowheadercol"));
                    DayPilot.Util.addClass($02, this.$aD("_rowheadercol" + j));
                    if ($28.cssClass) {
                        DayPilot.Util.addClass($02, $28.cssClass);
                    };
                    if ($5q.cssClass) {
                        DayPilot.Util.addClass($02, $5q.cssClass);
                    };
                    var $05 = document.createElement("div");
                    $05.setAttribute("unselectable", "on");
                    $05.className = this.$aD("_rowheader_inner");
                    $02.appendChild($05);
                    var $3g = document.createElement("div");
                    $3g.style.position = "absolute";
                    $3g.style.bottom = "0px";
                    $3g.style.width = "100%";
                    $3g.style.height = "1px";
                    $3g.className = this.$aD("_resourcedivider");
                    $02.appendChild($3g);
                    var $1y = document.createElement("div");
                    var $5r = $5q.html || "";
                    $1y.innerHTML = $5r;
                    c.textDiv = $1y;
                    c.cellDiv = $02;
                    $05.appendChild($1y);
                    c.appendChild($02);
                }
            }
        };
        this.$dT = function() {
            var $x = this.row;
            if ($x.contextMenu) {
                $x.contextMenu.show($i.$ce($x));
            };
            return false;
        };
        this.$dU = function(ev) {
            if ($1x.cancelClick) {
                return;
            };
            var $x = this.row;
            var r = $i.$ce($x, this.index);
            if ($x.isNewRow) {
                $i.$ci.edit($x);
                return;
            };
            $i.$cf(r, ev.ctrlKey, ev.shiftKey, ev.metaKey);
        };
        this.$dV = function(ev) {
            if ($i.timeouts.resClick) {
                for (var $10 in $i.timeouts.resClick) {
                    window.clearTimeout($i.timeouts.resClick[$10]);
                };
                $i.timeouts.resClick = null;
            };
            var $x = this.row;
            var e = $i.$ce($x, this.index);
            if ($i.$aq()) {
                var $l = {};
                $l.resource = e;
                $l.row = e;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onRowDoubleClick === 'function') {
                    $i.onRowDoubleClick($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.rowDoubleClickHandling) {
                    case 'PostBack':
                        $i.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.rowDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $i.$ch($x, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $i.$ci.edit($x);
                        break;
                };
                if (typeof $i.onRowDoubleClicked === 'function') {
                    $i.onRowDoubleClicked($l);
                }
            } else {
                switch ($i.rowDoubleClickHandling) {
                    case 'PostBack':
                        $i.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $i.rowDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $i.onRowDoubleClick(e);
                        break;
                    case 'Select':
                        $i.$ch($x, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $i.$ci.edit($x);
                        break;
                }
            }
        };
        this.rowDoubleClickPostBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b8("RowDoubleClick", $0W, $q);
        };
        this.rowDoubleClickCallBack = function(e, $q) {
            var $0W = {};
            $0W.resource = e;
            this.$b9("RowDoubleClick", $0W, $q);
        };
        this.$dX = function(ev) {
            var $P = {};
            $P.start = this.cell.start;
            $P.level = this.cell.level;
            $P.end = this.cell.end;
            if (!$P.end) {
                $P.end = new DayPilot.Date($P.start).addMinutes($i.cellDuration);
            };
            $i.$cj($P);
        };
        this.$ce = function($x) {
            return new DayPilot.Row($x, $i);
        };
        this.$aU = function(i) {
            var $x = this.rowlist[i];
            if (!$x.events) {
                $x.resetEvents();
            };
            if ($x.data) {
                return;
            };
            $x.data = {};
            $x.data.start = new DayPilot.Date($x.start);
            $x.data.startTicks = $x.data.start.getTime();
            var $0N = this.$aX().getTime() - this.$aT().getTime();
            $x.data.end = $0b.isResourcesView() ? $x.data.start.addTime($0N) : $x.data.start.addDays(1);
            $x.data.endTicks = $x.data.end.getTime();
            $x.data.offset = $x.start.getTime() - this.$aT().getTime();
            $x.data.i = i;
        };
        this.$a4 = function($Z) {
            if ($Z) {
                this.events.list = $Z;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            $5s.prepareRows(true);
            var $Y = this.events.list;
            var $5t = $Y.length;
            var $5u = typeof this.onBeforeEventRender === 'function';
            var $1b;
            var $5v = $i.viewType === "Resources";
            for (var j = 0; j < $5t; j++) {
                var $5w = $Y[j];
                if (!$5w) {
                    continue;
                };
                if ($5w instanceof DayPilot.Event) {
                    throw "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";
                };
                if ($5u) {
                    this.$cY(j);
                };
                if ($5w.resource === "*") {
                    $1b = $i.rowlist;
                } else if ($5v) {
                    $1b = DayPilot.list($5s.rowcache[$5w.resource]).concat($5s.rowcache["*"]);
                } else if ($i.viewType === "Days") {
                    $1b = $i.rowlist;
                } else if ($i.viewType === "Gantt") {
                    $1b = $5s.rowcache[$5w.id];
                };
                for (var x = 0; $1b && x < $1b.length; x++) {
                    var $x = $1b[x];
                    var ep = this.$cZ($5w, $x);
                    if (!ep) {
                        continue;
                    };
                    if ($5u) {
                        ep.cache = this.$9R.events[j];
                    }
                }
            };
            DayPilot.list($i.rowlist).each(function($x) {
                $i.$dY($x);
            });
            this.$bt();
        };
        this.$dZ = function($Z) {
            var $5x = [];
            var $5y = [];
            var $5z = null;
            if ($Z && $5A) {
                var $5B = $Z;
                var $5z = [];
                for (var i = 0; i < $5B.length; i++) {
                    var e = $5B[i];
                    var $5C = false;
                    for (var j = 0; j < this.events.list.length; j++) {
                        var ex = this.events.list[j];
                        if (ex.id === e.id && ex.start.toString() === e.start.toString() && ex.resource === e.resource) {
                            var $1b = $i.events.$bq(ex);
                            $5y = $5y.concat($1b);
                            this.events.list[j] = e;
                            $5C = true;
                            break;
                        }
                    };
                    if (!$5C) {
                        $5z.push(e);
                    }
                };
                this.events.list = this.events.list.concat($5z);
            } else if ($Z) {
                this.events.list = $Z;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $Y = $5z || this.events.list;
            if ($Z) {
                this.events.list = $Z;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $Y = this.events.list;
            var $5D = $Y.length;
            if (typeof this.onBeforeEventRender === 'function') {
                var $K = $5z ? this.events.list.length - $5z.length : 0;
                var end = this.events.list.length;
                for (var i = $K; i < end; i++) {
                    this.$cY(i);
                }
            };
            var $5E = !this.$cX();
            var $5F = true;
            if ($5F) {
                var $5G = !$5z || typeof $x.events === "undefined";
                $5s.prepareRows($5G);
                for (var j = 0; $Y && j < $5D; j++) {
                    if ($5x[j]) {
                        continue;
                    };
                    var $5w = $Y[j];
                    if (!$5w) {
                        continue;
                    };
                    var $1b = [];
                    if ($5w.resource === "*") {
                        $1b = $i.rowlist;
                    } else if ($i.viewType === "Days") {
                        $1b = $i.rowlist;
                    } else if ($i.viewType === "Gantt") {
                        $1b = $5s.rowcache[$5w.id];
                    } else {
                        $1b = $5s.rowcache[$5w.resource];
                    };
                    for (var x = 0; $1b && x < $1b.length; x++) {
                        var $x = $1b[x];
                        var ep = this.$cZ($5w, $x);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$9R.events[j + $K];
                        };
                        $5y.push($x.index);
                    }
                }
            } else {
                for (var i = 0; i < this.rowlist.length; i++) {
                    var $x = this.rowlist[i];
                    if (!$5z || typeof $x.events === "undefined") {
                        $x.resetEvents();
                    };
                    $i.$aU(i);
                    if (this.$cN(i)) {
                        continue;
                    };
                    for (var j = 0; $Y && j < $5D; j++) {
                        if ($5x[j]) {
                            continue;
                        };
                        var e = $Y[j];
                        var ep = this.$cZ(e, $x);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$9R.events[j + $K];
                        };
                        $5y.push(i);
                        if ($5E) {
                            if (ep.data.resource !== "*" && ep.part.start.getTime() === ep.start().getTime() && ep.part.end.getTime() === ep.rawend().getTime()) {
                                $5x[j] = true;
                            }
                        }
                    }
                }
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $x = this.rowlist[i];
                this.$dY($x);
            };
            this.$bt();
            return DayPilot.ua($5y);
        };
        this.$e0 = {};
        var $5s = this.$e0;
        $5s.rowCache = {};
        $5s.prepareRows = function($5G) {
            $5s.rowcache = {};
            for (var i = 0; i < $i.rowlist.length; i++) {
                var $x = $i.rowlist[i];
                if ($5G) {
                    $x.resetEvents();
                };
                $i.$aU(i);
                if (!$x.id) {
                    continue;
                };
                var $5H = $x.id.toString();
                if (!$5s.rowcache[$5H]) {
                    $5s.rowcache[$5H] = DayPilot.list();
                };
                $5s.rowcache[$5H].push($x);
            }
        };
        $5s.loadEvent = function($5w) {};
        this.$cX = function() {
            var $5I = {};
            if ($i.viewType !== "Resources") {
                return false;
            };
            for (var i = 0; i < $i.rowlist.length; i++) {
                var $x = $i.rowlist[i];
                var id = $x.id;
                if ($5I[id]) {
                    return true;
                };
                $5I[id] = true;
            };
            return false;
        };
        this.$cY = function(i) {
            var $0x = this.$9R.events;
            var $q = this.events.list[i];
            var $5J = {};
            if ($q instanceof DayPilot.Event) {
                $q = $q.data;
            };
            for (var name in $q) {
                $5J[name] = $q[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $l = {};
                $l.e = $5J;
                $l.data = $5J;
                this.onBeforeEventRender($l);
            };
            $0x[i] = $5J;
        };
        this.$dY = function($x) {
            $x.lines = [];
            $x.sections = null;
            if ($x.isNewRow) {
                return;
            };
            if (this.sortDirections) {
                $x.events.sort(this.$e1);
            } else if (!$i.cellStacking) {
                $x.events.sort(this.$e2);
            };
            var $5K = $i.cellStacking;
            if ($5K) {
                $5L.loadRow($x);
                return;
            };
            var $5M = $i.groupConcurrentEvents;
            if ($5M) {
                for (var i = 0; i < $x.blocks.length; i++) {
                    $x.blocks[i].clear();
                }
            };
            DayPilot.list($x.events).each(function(e) {
                if (e.part.height) {
                    return;
                };
                if ($x.eventHeight) {
                    e.part.height = $x.eventHeight;
                    return;
                };
                e.part.height = $0b.eventHeight();
            });
            for (var j = 0; j < $x.events.length; j++) {
                var e = $x.events[j];
                $x.putIntoLine(e);
                if ($5M) {
                    $x.putIntoBlock(e);
                }
            };
            var $5N = 0;
            for (var i = 0; i < $x.lines.length; i++) {
                var $0v = $x.lines[i];
                $0v.top = $5N;
                $5N += ($0v.height || $x.eventHeight) * this.eventStackingLineHeight / 100;
            };
            if ($5M) {
                for (var j = 0; j < $x.blocks.length; j++) {
                    var $5O = $x.blocks[j];
                    $5O.lines = [];
                    $5O.events.sort(this.$e1);
                    for (var k = 0; k < $5O.events.length; k++) {
                        var e = $5O.events[k];
                        $5O.putIntoLine(e);
                    };
                    if ($5O.lines.length <= $i.groupConcurrentEventsLimit) {
                        $5O.expanded = true;
                    };
                    var $5P = DayPilot.list($5O.events).map(function(e) {
                        return e.id();
                    }).some(function($00) {
                        return DayPilot.contains($i.$e3, $00);
                    });
                    if ($5P) {
                        $5O.expanded = true;
                    };
                    var $5N = 0;
                    for (var i = 0; i < $5O.lines.length; i++) {
                        var $0v = $5O.lines[i];
                        $0v.top = $5N;
                        $5N += ($0v.height || $x.eventHeight) * this.eventStackingLineHeight / 100;
                    }
                }
            }
        };
        this.$bs = function($1b) {
            $1b = DayPilot.ua($1b);
            for (var i = 0; i < $1b.length; i++) {
                var ri = $1b[i];
                $i.$dY($i.rowlist[ri]);
            };
            if ($i.cellStacking) {
                $5L.calculateEventPositions();
            } else {
                for (var i = 0; i < $1b.length; i++) {
                    var ri = $1b[i];
                    var $x = $i.rowlist[ri];
                    $i.$e4($x);
                }
            }
        };
        this.$da = function() {
            var $K = $i.scale === "Manual" ? $i.itline[0].start : $i.startDate;
            return DayPilot.list($i.rowlist).some(function($00) {
                if (!$00.start) {
                    return false;
                };
                return $00.start.getTime() !== new DayPilot.Date($K).getTime();
            });
        };
        this.$cZ = function(e, $x) {
            var $K = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            end = $i.$bT(end);
            var $5Q = $K.ticks;
            var $5R = end.ticks;
            if ($5R < $5Q) {
                return null;
            };
            var $0x = null;
            if (typeof $i.onBeforeEventRender === 'function') {
                var $1z = DayPilot.indexOf($i.events.list, e);
                $0x = $i.$9R.events[$1z];
            };
            if ($0x) {
                if ($0x.hidden) {
                    return null;
                }
            } else if (e.hidden) {
                return null;
            };
            var $5S = false;
            switch (this.viewType) {
                case 'Days':
                    $5S = !($5R <= $x.data.startTicks || $5Q >= $x.data.endTicks) || ($5Q === $5R && $5Q === $x.data.startTicks);
                    break;
                case 'Resources':
                    $5S = ($x.id === e.resource || $x.id === "*" || e.resource === "*") && (!($5R <= $x.data.startTicks || $5Q >= $x.data.endTicks) || ($5Q === $5R && $5Q === $x.data.startTicks));
                    break;
                case 'Gantt':
                    $5S = ($x.id === e.id) && !($5R <= $x.data.startTicks || $5Q >= $x.data.endTicks);
                    break;
            };
            if (!$5S) {
                return null;
            };
            var ep = new DayPilot.Event(e, $i);
            ep.part.dayIndex = $x.data.i;
            ep.part.start = $x.data.startTicks < $5Q ? $K : $x.data.start;
            ep.part.end = $x.data.endTicks > $5R ? end : $x.data.end;
            var $5T = this.getPixels(ep.part.start.addTime(-$x.data.offset));
            var $5U = this.getPixels(ep.part.end.addTime(-$x.data.offset));
            if (ep.part.start === ep.part.end) {
                $5U = this.getPixels(ep.part.end.addTime(-$x.data.offset).addSeconds(1));
            };
            if ($0x && $0x.height) {
                ep.part.height = $0x.height;
            } else if (e.height) {
                ep.part.height = e.height;
            };
            ep.part.$e5 = function() {
                var $5V = this.height;
                if ($i.eventVersionsEnabled && !DayPilot.list(ep.data.versions).isEmpty()) {
                    var $0h = ep.versions.length;
                    $5V += $0h * $i.eventVersionHeight;
                    $5V += $0h * $i.eventVersionMargin;
                };
                return $5V + $i.eventMarginBottom;
            };
            var $N = $5T.left;
            var $O = $5U.left;
            ep.part.startPixels = $5T;
            ep.part.endPixels = $5U;
            if ($N === $O) {
                if ($5T.cut || $5U.cut) {
                    return null;
                };
                var $25 = (ep.part.start.addTime(-$x.data.offset).getTime() + ep.part.end.addTime(-$x.data.offset).getTime()) / 2;
                var $5W = $i.getPixels(new DayPilot.Date(Math.floor($25)));
                if ($5W.cut) {
                    return null;
                }
            };
            ep.part.box = $0b.useBox($5R - $5Q);
            var $2R = $i.eventHeight;
            if (e.type === "Milestone") {
                var $A = e.width || $2R;
                ep.part.end = ep.part.start;
                ep.part.left = $N - $A / 2;
                ep.part.width = $A;
                ep.part.barLeft = 0;
                ep.part.barWidth = $A;
            } else if (ep.part.box) {
                var $5X = $5T.boxLeft;
                var $5Y = $5U.boxRight;
                ep.part.left = $5X;
                ep.part.width = $5Y - $5X;
                ep.part.barLeft = Math.max($N - ep.part.left, 0);
                ep.part.barWidth = Math.max($O - $N, 1);
            } else {
                ep.part.left = $N;
                ep.part.width = Math.max($O - $N, 1);
                ep.part.barLeft = 0;
                ep.part.barWidth = Math.max($O - $N - 1, 1);
            };
            if ($i.eventVersionsEnabled) {
                $i.$e6(ep, $x);
            };
            if (typeof $i.onEventFilter === "function" && $i.events.$cV) {
                var $l = {};
                $l.filter = $i.events.$cV;
                $l.visible = true;
                $l.e = ep;
                $i.onEventFilter($l);
                if (!$l.visible) {
                    return null;
                }
            };
            $x.events.push(ep);
            return ep;
        };
        this.$e6 = function(ep, $x) {
            ep.versions = [];
            var $q = ep.data;
            var $Y = DayPilot.list($q.versions);
            if ($Y.isEmpty()) {
                return;
            };
            $Y.each(function($1A) {
                var $K = new DayPilot.Date($1A.start);
                var end = new DayPilot.Date($1A.end);
                var $5T = $i.getPixels($K.addTime(-$x.data.offset));
                var $5U = $i.getPixels(end.addTime(-$x.data.offset));
                if ($K.ticks === end.ticks) {
                    $5U = $i.getPixels(end.addTime(-$x.data.offset).addTime(1));
                };
                var $N = $5T.left;
                var $O = $5U.left;
                if ($N === $O && ($5T.cut || $5U.cut)) {
                    return null;
                };
                var $5Z = {};
                $5Z.left = $N;
                $5Z.continueLeft = $K < $x.data.start;
                $5Z.right = $O;
                $5Z.continueRight = end > $x.data.end;
                $5Z.width = $O - $N;
                ep.versions.push($5Z);
            });
        };
        this.$e2 = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $60 = a.start().ticks - b.start().ticks;
            if ($60 !== 0) {
                return $60;
            };
            var $61 = b.end().ticks - a.end().ticks;
            return $61;
        };
        this.$e1 = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $i.$e2(a, b);
            };
            var $j = 0;
            var i = 0;
            while ($j === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $j = 0;
                } else {
                    $j = $i.$e7(a.data.sort[i], b.data.sort[i], $i.sortDirections[i]);
                };
                i++;
            };
            return $j;
        };
        this.$e7 = function(a, b, $62) {
            var $63 = ($62 !== "desc");
            var $64 = $63 ? -1 : 1;
            var $65 = -$64;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $65;
            };
            if (a === null) {
                return $64;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $64 : $65;
        };
        this.$ch = function($x, $1d, $1C, $1e) {
            if ($i.$aq()) {
                var $1z = DayPilot.indexOf($i.rowlist, $x);
                var e = $i.$ce($x, $1z);
                var $66 = DayPilot.indexOf($1x.selected, $x) !== -1;
                var $0V = $66 ? "deselected" : "selected";
                var $l = {};
                $l.row = e;
                $l.selected = $66;
                $l.ctrl = $1d;
                $l.shift = $1C;
                $l.meta = $1e;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onRowSelect === 'function') {
                    $i.onRowSelect($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                var $67 = $1C && !$1d && !$1e;
                if (!$1C) {
                    $1x.$e8 = {
                        "row": $x,
                        "index": $1z
                    };
                };
                if ($67) {
                    $1x.fixRowSelectLast();
                    var $68 = $1x.$e8.index;
                    var $69 = $1z;
                    $1x.selectRange($68, $69);
                };
                switch ($i.rowSelectHandling) {
                    case 'PostBack':
                        $i.rowSelectPostBack(e, $0V);
                        break;
                    case 'CallBack':
                        $i.rowSelectCallBack(e, $0V);
                        break;
                    case "Notify":
                        !$67 && $1x.select($x, $1d, $1C, $1e);
                        $i.rowSelectNotify(e, $0V);
                        break;
                    case 'Update':
                        !$67 && $1x.select($x, $1d, $1C, $1e);
                        break;
                };
                if (typeof $i.onRowSelected === 'function') {
                    $l.selected = DayPilot.indexOf($1x.selected, $x) !== -1;
                    $i.onRowSelected($l);
                }
            } else {
                $1x.select($x, $1d, $1C);
                var $1z = DayPilot.indexOf($i.rowlist, $x);
                var e = $i.$ce($x, $1z);
                var $66 = DayPilot.indexOf($1x.selected, $x) !== -1;
                var $0V = $66 ? "deselected" : "selected";
                switch ($i.rowSelectHandling) {
                    case 'PostBack':
                        $i.rowSelectPostBack(e, $0V);
                        break;
                    case 'CallBack':
                        $i.rowSelectCallBack(e, $0V);
                        break;
                    case "Notify":
                        $i.rowSelectNotify(e, $0V);
                        break;
                    case 'JavaScript':
                        $i.onRowSelect(e, $0V);
                        break;
                }
            }
        };
        this.rowSelectPostBack = function(r, $0V, $q) {
            var $0W = {};
            $0W.resource = r;
            $0W.change = $0V;
            this.$b8('RowSelect', $0W, $q);
        };
        this.rowSelectCallBack = function(r, $0V, $q) {
            var $0W = {};
            $0W.resource = r;
            $0W.change = $0V;
            this.$b9('RowSelect', $0W, $q);
        };
        this.rowSelectNotify = function(r, $0V, $q) {
            var $0W = {};
            $0W.resource = r;
            $0W.change = $0V;
            this.$b9('RowSelect', $0W, $q, "Notify");
        };
        this.rows = {};
        this.rows.selection = {};
        var $6a = this.rows.selection;
        $6a.get = function() {
            var $Y = [];
            DayPilot.list($1x.selected).each(function($00) {
                $Y.push($i.$ce($00));
            });
            return $Y;
        };
        $6a.clear = function() {
            $1x.clearSelection();
        };
        $6a.add = function($x) {
            if (!$x || !$x.isRow) {
                throw "DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";
            };
            var $6b = DayPilot.list($1x.selected).some(function($00) {
                return $00 === $x.$.row;
            });
            if (!$6b) {
                $1x.selected.push($x.$.row);
            };
            $1x.$e9();
            $6a.$ea();
        };
        $6a.$ea = function() {
            $i.selectedRows = DayPilot.list($1x.selected).map(function($00) {
                return $00.id;
            });
        };
        this.rows.all = function() {
            var $Y = [];
            for (var i = 0; i < $i.rowlist.length; i++) {
                var r = $i.$ce($i.rowlist[i]);
                $Y.push(r);
            };
            return $2J($Y);
        };
        this.rows.each = function(f) {
            $i.rows.all().each(f);
        };
        this.rows.filter = function($6c) {
            $i.rows.$cV = $6c;
            $i.$bx({
                "immediateEvents": true
            });
        };
        this.rows.find = function(id, $K) {
            var $1b = $i.rows.all();
            for (var i = 0; i < $1b.length; i++) {
                var $00 = $1b[i];
                if ($00.id === id) {
                    if (typeof $K === "string") {
                        if ($K === $00.start.toString()) {
                            return $00;
                        }
                    } else {
                        return $00;
                    }
                }
            }
        };
        this.rows.load = function($2w) {
            DayPilot.ajax({
                "method": "POST",
                "url": $2w,
                "success": function($l) {
                    var r = $l.request;
                    var $q = DayPilot.Util.parseJSON(r.responseText);
                    if (DayPilot.isArray($q)) {
                        $i.resources = $q;
                        if ($i.$bM) {
                            $i.update();
                        }
                    }
                }
            });
        };
        this.rows.expand = function($6d) {
            var $1b = [];
            var $6e = $6d || 1;
            for (var i = 0; i < $i.rowlist.length; i++) {
                var $x = $i.rowlist[i];
                var $6f = $6e === -1;
                if ($x.level < $6e) {
                    $6f = true;
                };
                if ($6f && !$x.expanded && $x.children && $x.children.length > 0) {
                    $1b.push($x.index);
                }
            };
            if ($1b.length === 0) {
                return;
            };
            if ($1b.length === 1) {
                $i.$dg($1b[0]);
            } else {
                for (var i = 0; i < $1b.length; i++) {
                    var $1z = $1b[i];
                    var $x = $i.rowlist[$1z];
                    $x.expanded = true;
                };
                $i.$bx();
            }
        };
        this.rows.expandAll = function() {
            $i.rows.expand(-1);
        };
        this.rows.headerHide = function() {
            $i.$eb = true;
            $i.$ec();
            $i.$dJ();
            $i.$aL();
        };
        this.rows.headerShow = function() {
            $i.$eb = false;
            $i.$ec();
            $i.$dJ();
            $i.$aL();
        };
        this.rows.headerToggle = function() {
            if ($i.$eb) {
                $i.rows.headerShow();
            } else {
                $i.rows.headerHide();
            }
        };
        this.rows.remove = function($x) {
            var $q = $x.$.row.resource;
            var $6g = $6h.findParentArray($q);
            if (!$6g) {
                throw "Cannot find source node parent";
            };
            var $6i = DayPilot.indexOf($6g, $q);
            $6g.splice($6i, 1);
            $i.update();
        };
        this.$ed = function() {
            var $1A = $5p.source;
            var $1B = $5p.target;
            var $w = $5p.position;
            $1x.resetMoving();
            if ($i.$aq()) {
                var $l = {};
                $l.source = $i.$ce($1A);
                $l.target = $i.$ce($1B);
                $l.position = $w;
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $i.onRowMove === "function") {
                    $i.onRowMove($l);
                    if ($l.preventDefault.value) {
                        return;
                    }
                };
                switch ($i.rowMoveHandling) {
                    case "Update":
                        $1x.move($l);
                        break;
                    case "CallBack":
                        $i.rowMoveCallBack($l.source, $l.target, $l.position);
                        break;
                    case "PostBack":
                        $i.rowMovePostBack($l.source, $l.target, $l.position);
                        break;
                    case "Notify":
                        $1x.move($l);
                        $i.rowMoveNotify($l.source, $l.target, $l.position);
                        break;
                };
                if (typeof $i.onRowMoved === "function") {
                    $i.onRowMoved($l);
                }
            } else {
                var $1A = $i.$ce($1A);
                var $1B = $i.$ce($1B);
                var $w = $w;
                switch ($i.rowMoveHandling) {
                    case "CallBack":
                        $i.rowMoveCallBack($1A, $1B, $w);
                        break;
                    case "PostBack":
                        $i.rowMovePostBack($1A, $1B, $w);
                        break;
                    case "JavaScript":
                        $i.onRowMove($1A, $1B, $w);
                        break;
                }
            }
        };
        this.$ao = function($1b) {
            var $Y = DayPilot.list($1b);
            $1x.selected = [];
            if (!$Y.isEmpty()) {
                $i.$9H = false;
                $i.$a3();
            };
            $Y.each(function($00) {
                var $x = $i.$au($00);
                if ($x) {
                    $1x.selected.push($x);
                }
            });
            $1x.$e9();
        };
        this.$ci = {};
        var $1x = this.$ci;
        $1x.edit = function($x) {
            var $6j = $1x.$ee($x);
        };
        $1x.rowSelectLastSetDefault = function() {
            $1x.$e8 = {
                "row": $i.rowlist[0],
                "index": 0
            };
        };
        $1x.rowSelectSetLast = function($x) {
            var $1z = DayPilot.indexOf($i.rowlist, $x);
            if ($1z === -1) {
                throw "DayPilot.Scheduler: Row not found when selecting a range";
            };
            $1x.$e8 = {
                "row": $x,
                "index": $1z
            };
        };
        $1x.fixRowSelectLast = function() {
            if (!$1x.$e8) {
                $1x.rowSelectLastSetDefault();
            };
            var $1z = DayPilot.indexOf($i.rowlist, $1x.$e8.row);
            if ($1z > -1) {
                return;
            };
            var $x = $i.$au($1x.$e8.row.id);
            if ($x) {
                $1z = DayPilot.indexOf($i.rowlist, $x);
                $1x.$e8 = {
                    "row": $x,
                    "index": $1z
                };
            } else {
                $1x.rowSelectLastSetDefault();
            }
        };
        $1x.createOverlay = function($x) {
            var $A = $i.$dC();
            var $2K = $i.$aD("_rowmove_source");
            var $02 = DayPilot.Util.div($i.divHeader, 0, $x.top, $A, $x.height);
            $02.className = $2K;
            $x.moveOverlay = $02;
        };
        $1x.deleteOverlay = function($x) {
            DayPilot.de($x.moveOverlay);
            $x.moveOverlay = null;
        };
        $1x.$ee = function($x) {
            var r = $1x.$cb($x);
            var c = r.cells[0];
            if (c.input) {
                return c.input;
            };
            var $A = c.clientWidth;
            if ($x.isNewRow) {
                $A = $i.$aG();
            };
            var $6j = document.createElement("textarea");
            $6j.style.position = "absolute";
            $6j.style.top = "0px";
            $6j.style.left = "0px";
            $6j.style.width = $A + "px";
            $6j.style.height = $x.height + "px";
            $6j.style.border = "0px none";
            $6j.style.overflow = "hidden";
            $6j.style.boxSizing = "border-box";
            $6j.style.resize = "none";
            var $1X = c.textDiv;
            $6j.style.fontFamily = DayPilot.gs($1X, 'fontFamily') || DayPilot.gs($1X, 'font-family');
            $6j.style.fontSize = DayPilot.gs($1X, 'fontSize') || DayPilot.gs($1X, 'font-size');
            $6j.value = $x.html;
            c.firstChild.appendChild($6j);
            c.input = $6j;
            var $6k = function() {
                try {
                    c.input.parentNode.removeChild(c.input);
                } catch (e) {
                    $c();
                };
                c.input = null;
            };
            $6j.focus();
            $6j.onblur = function() {
                $6j.onblur = null;
                var $1w = $6j.value;
                var $1z = DayPilot.indexOf($i.rowlist, $x);
                $6k();
                if (!$6j.canceled) {
                    $i.$cd($x, $1w);
                }
            };
            $6j.onkeydown = function(e) {
                var $6l = (window.event) ? event.keyCode : e.keyCode;
                if ($6l === 27) {
                    $6j.canceled = true;
                    $6k();
                };
                if ($6l === 13) {
                    $6j.onblur();
                    return false;
                };
                return true;
            };
            if ($6j.setSelectionRange) {
                $6j.setSelectionRange(0, 9999);
            } else {
                $6j.select();
            };
            return $6j;
        };
        $1x.selected = [];
        $1x.select = function($x, $1d, $1C, $1e) {
            var $66 = DayPilot.indexOf($1x.selected, $x) !== -1;
            if ($1d || $1e) {
                if ($66) {
                    $1x.unselect($x);
                    DayPilot.rfa($1x.selected, $x);
                    return;
                }
            } else {
                $66 = false;
                $1x.clearSelection();
            };
            $1x.$ef($x);
            if (!$66) {
                $1x.selected.push($x);
            };
            $6a.$ea();
        };
        $1x.selectRange = function($68, $69) {
            $1x.clearSelection();
            var $4Q = Math.min($68, $69);
            var $z = Math.max($68, $69);
            for (var i = $4Q; i <= $z; i++) {
                var $x = $i.rowlist[i];
                $1x.$ef($x);
                $1x.selected.push($x);
            };
            $6a.$ea();
        };
        $1x.$e9 = function() {
            for (var i = 0; i < $1x.selected.length; i++) {
                var $x = $1x.selected[i];
                $1x.$ef($x);
            }
        };
        $1x.$ef = function($x) {
            var y = DayPilot.indexOf($i.rowlist, $x);
            if (y === -1) {
                var $6m = $i.$au($x.id).index;
                if ($6m) {
                    y = $6m.index;
                } else {
                    return;
                }
            };
            var cl = $i.$aD("_cell_selected");
            var $M = [];
            for (var i = 0; i < $i.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $M.push(c);
            };
            $i.cells.findXy($M).addClass(cl);
            var cl = $i.$aD("_rowheader_selected");
            var $5d = $i.divHeader;
            for (var y = 0; y < $5d.rows.length; y++) {
                var r = $5d.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $x) {
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        var $0K = c.firstChild;
                        DayPilot.Util.addClass($0K, cl);
                    }
                }
            }
        };
        $1x.$cv = function() {
            var $Y = [];
            if (!$1x.selected) {
                return $Y;
            };
            for (var i = 0; i < $1x.selected.length; i++) {
                var $x = $1x.selected[i];
                var $1z = DayPilot.indexOf($i.rowlist, $x);
                var r = $i.$ce($x, $1z);
                $Y.push(r.toJSON());
            };
            return $Y;
        };
        $1x.unselect = function($x) {
            var cl = $i.$aD("_cell_selected");
            var y = DayPilot.indexOf($i.rowlist, $x);
            var $M = [];
            for (var i = 0; i < $i.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $M.push(c);
            };
            $i.cells.findXy($M).removeClass(cl);
            var cl = $i.$aD("_rowheader_selected");
            var $5d = $i.divHeader;
            var r = $1x.$cb($x);
            if (r) {
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    var $0K = c.firstChild;
                    DayPilot.Util.removeClass($0K, cl);
                }
            }
        };
        $1x.$e8 = null;
        $1x.clearSelection = function() {
            for (var j = 0; j < $1x.selected.length; j++) {
                var $x = $1x.selected[j];
                $1x.unselect($x);
            };
            $1x.selected = [];
            $i.selectedRows = [];
        };
        $1x.$cb = function($x) {
            var $5d = $i.divHeader;
            for (var y = 0; y < $5d.rows.length; y++) {
                var r = $5d.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $x) {
                    return r;
                }
            };
            return null;
        };
        $1x.selectById = function(id) {
            var $x = $i.$au(id);
            if ($x) {
                $1x.select($x);
            }
        };
        $1x.startMoving = function($x) {
            var $5p = DayPilot.Global.rowmoving;
            $5p.row = $x;
            $5p.cursor = $i.divResScroll.style.cursor;
            $i.divResScroll.style.cursor = "move";
            $1x.createOverlay($x);
        };
        $1x.resetMoving = function() {
            $i.divResScroll.style.cursor = $5p.cursor;
            DayPilot.de($5p.div);
            $1x.deleteOverlay($5p.row);
            DayPilot.Global.rowmoving = $5p = {};
        };
        $1x.move = function($l) {
            var $1A = $l.source.$.row.resource;
            var $1B = $l.target.$.row.resource;
            var $w = $l.position;
            if ($w === "forbidden") {
                return;
            };
            var $6g = $6h.findParentArray($1A);
            if (!$6g) {
                throw "Cannot find source node parent";
            };
            var $6i = DayPilot.indexOf($6g, $1A);
            $6g.splice($6i, 1);
            var $6n = $6h.findParentArray($1B);
            if (!$6n) {
                throw "Cannot find target node parent";
            };
            var $6o = DayPilot.indexOf($6n, $1B);
            switch ($w) {
                case "before":
                    $6n.splice($6o, 0, $1A);
                    break;
                case "after":
                    $6n.splice($6o + 1, 0, $1A);
                    break;
                case "child":
                    if (!$1B.children) {
                        $1B.children = [];
                        $1B.expanded = true;
                    };
                    $1B.children.push($1A);
                    break;
            };
            $i.update();
        };
        var $6h = {};
        $6h.findParentArray = function($1M) {
            return $6h.findInArray($i.resources, $1M);
        };
        $6h.findInArray = function($3E, $1M) {
            if (DayPilot.indexOf($3E, $1M) !== -1) {
                return $3E;
            };
            for (var i = 0; i < $3E.length; i++) {
                var r = $3E[i];
                if (r.children && r.children.length > 0) {
                    var parent = $6h.findInArray(r.children, $1M);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$a2 = function() {
            this.rowlist = DayPilot.list();
            var $6p = this.resources;
            var $6q = this.$aM();
            if (!$6q) {
                if (this.viewType === "Gantt") {
                    $6p = this.$eg();
                } else if (this.viewType === "Days") {
                    $6p = this.$eh();
                }
            };
            if ($6q && this.viewType === "Days" && (!$6p || $6p.length === 0)) {
                $6p = this.$eh();
            };
            var $1z = {};
            $1z.i = 0;
            this.$ei($6p, $1z, 0, null, this.treeEnabled, false);
            var $6r = $i.rowCreateHandling !== "Disabled";
            if ($6r) {
                this.$ej();
            }
        };
        this.$ej = function() {
            var r = {};
            r.id = "NEW";
            r.isNewRow = true;
            r.html = "";
            r.loaded = true;
            r.start = this.startDate;
            r.children = [];
            r.height = $i.eventHeight;
            r.marginBottom = 0;
            r.marginTop = 0;
            r.getHeight = function() {
                return $i.eventHeight + $i.rowMarginBottom + $i.rowMarginTop;
            };
            r.putIntoLine = function() {};
            r.resetEvents = function() {};
            this.rowlist.push(r);
        };
        this.$eg = function() {
            var $Y = [];
            if (this.$9K && this.resources) {
                for (var i = 0; i < this.resources.length; i++) {
                    $Y.push(this.resources[i]);
                }
            };
            if (!this.events.list) {
                return;
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var r = {};
                r.id = e.id;
                r.name = e.text;
                $Y.push(r);
            };
            return $Y;
        };
        this.$eh = function() {
            var $Y = [];
            var $K = $i.$aT();
            var $6s = this.$cL.locale();
            for (var i = 0; i < this.days; i++) {
                var d = $K.addDays(i);
                var r = {};
                r.name = d.toString($6s.datePattern, $6s);
                r.start = d;
                $Y.push(r);
            };
            return $Y;
        };
        this.$aT = function() {
            if (this.itline && this.itline.length > 0) {
                return this.itline[0].start;
            };
            return this.startDate;
        };
        this.$aX = function() {
            if (this.itline && this.itline.length > 0) {
                var end = $i.itline[this.itline.length - 1].end;
                if ($i.viewType !== "Days") {
                    return end;
                };
                return end.addDays($i.days - 1);
            };
            return $i.startDate.addDays($i.days);
        };
        this.$ek = {};
        var $6t = this.$ek;
        this.visibleStart = function() {
            return this.$aT();
        };
        this.visibleEnd = function() {
            return this.$aX();
        };
        this.$ei = function($6p, $1z, $6e, parent, $6u, $6v) {
            if (!$6p) {
                return;
            };
            for (var i = 0; i < $6p.length; i++) {
                if (!$6p[i]) {
                    continue;
                };
                var $6w = {};
                $6w.level = $6e;
                $6w.hidden = $6v;
                $6w.index = $1z.i;
                var $1M = this.$el($6p[i], $6w);
                var $x = {};
                if ($6p[i].hidden) {
                    continue;
                };
                $x.backColor = $1M.backColor;
                $x.cssClass = $1M.cssClass;
                $x.expanded = $1M.expanded;
                $x.name = $1M.name;
                $x.html = $1M.html ? $1M.html : $x.name;
                $x.eventHeight = typeof $1M.eventHeight !== 'undefined' ? $1M.eventHeight : $i.$cL.eventHeight();
                $x.minHeight = typeof $1M.minHeight !== 'undefined' ? $1M.minHeight : $i.rowMinHeight;
                $x.marginBottom = typeof $1M.marginBottom !== 'undefined' ? $1M.marginBottom : $i.rowMarginBottom;
                $x.marginTop = typeof $1M.marginTop !== 'undefined' ? $1M.marginTop : $i.rowMarginTop;
                $x.loaded = !$1M.dynamicChildren;
                $x.id = $1M.id || $1M.value;
                $x.toolTip = $1M.toolTip;
                $x.children = [];
                $x.columns = [];
                $x.start = $1M.start ? new DayPilot.Date($1M.start) : this.$aT();
                $x.isParent = $1M.isParent;
                $x.contextMenu = $1M.contextMenu ? DayPilot.Util.evalVariable($1M.contextMenu) : this.contextMenuResource;
                $x.areas = $1M.areas;
                $x.moveDisabled = $1M.moveDisabled;
                $x.bubbleHtml = $1M.bubbleHtml;
                $x.tags = $1M.tags;
                $x.task = $1M.task;
                $x.swimlane = $1M.swimlane;
                $x.height = $x.eventHeight;
                $x.hidden = $6v;
                $x.level = $6e;
                $x.index = $1z.i;
                $x.resource = $6p[i];
                $x.lines = [];
                $x.blocks = [];
                $x.isRow = true;
                $x.getHeight = function() {
                    var $R = 0;
                    if ($i.groupConcurrentEvents) {
                        for (var i = 0; i < this.blocks.length; i++) {
                            var $5O = this.blocks[i];
                            $R = Math.max($R, $5O.getHeight());
                        }
                    } else {
                        if (this.lines.length > 0) {
                            var $0E = this.lines.length - 1;
                            var $0v = this.lines[$0E];
                            var $6x = $0v.height || this.eventHeight;
                            var top = $0v.top || 0;
                            $R = top + $6x;
                        }
                    };
                    if ($R === 0) {
                        $R = this.eventHeight;
                    };
                    return ($R > this.minHeight) ? $R : this.minHeight;
                };
                $x.resetEvents = function() {
                    var r = this;
                    r.events = [];
                    r.events.forRange = function($K, end) {
                        var $j = [];
                        for (var i = 0; i < r.events.length; i++) {
                            var ev = r.events[i];
                            if (DayPilot.Util.overlaps(ev.start(), ev.end(), $K, end)) {
                                $j.push(ev);
                            }
                        };
                        return $j;
                    };
                };
                $x.calculateUtilization = function() {
                    var r = this;
                    var $6y = r.sections = getSections();
                    for (var i = 0; i < $6y.length; i++) {
                        var $04 = $6y[i];
                        $04.events = [];
                        for (var x = 0; x < r.events.length; x++) {
                            var e = r.events[x];
                            if (DayPilot.Util.overlaps($04.start, $04.end, e.start(), e.rawend())) {
                                $04.events.push(e);
                            }
                        };
                        $04.sum = function(name) {
                            var $6z = 0;
                            for (var i = 0; i < this.events.length; i++) {
                                var e = this.events[i];
                                var $6A = 0;
                                if (typeof name === "undefined") {
                                    $6A = 1;
                                } else if (e.tag(name)) {
                                    $6A = e.tag(name);
                                } else if (e.data[name]) {
                                    $6A = e.data[name];
                                };
                                if (typeof $6A === 'number') {
                                    $6z += $6A;
                                }
                            };
                            return $6z;
                        }
                    };

                    function getPoints() {
                        var $6B = [];
                        for (var i = 0; i < r.events.length; i++) {
                            var e = r.events[i];
                            if (!DayPilot.contains($6B, e.start().toString())) {
                                $6B.push(e.start().toString());
                            };
                            if (!DayPilot.contains($6B, e.rawend().toString())) {
                                $6B.push(e.rawend().toString());
                            }
                        };
                        $6B.sort();
                        return $6B;
                    };

                    function getSections() {
                        var $6B = getPoints();
                        var $6y = [];
                        var $04 = {
                            "start": r.data.start
                        };
                        for (var i = 0; i < $6B.length; i++) {
                            $04.end = new DayPilot.Date($6B[i]);
                            $6y.push($04);
                            $04 = {
                                "start": new DayPilot.Date($6B[i])
                            };
                        };
                        $04.end = r.data.end;
                        $6y.push($04);
                        $6y.forRange = function($K, end) {
                            var $Y = [];
                            for (var i = 0; i < this.length; i++) {
                                var $04 = this[i];
                                if (DayPilot.Util.overlaps($K, end, $04.start, $04.end)) {
                                    $Y.push($04);
                                }
                            };
                            $Y.maxSum = function(name) {
                                var $z = 0;
                                for (var i = 0; i < this.length; i++) {
                                    var $04 = this[i];
                                    var $6z = $04.sum(name);
                                    if ($6z > $z) {
                                        $z = $6z;
                                    }
                                };
                                return $z;
                            };
                            return $Y;
                        };
                        return $6y;
                    }
                };
                $x.putIntoLine = function(ep) {
                    var $6C = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $0v = this.lines[i];
                        if ($0v.isFree(ep.part.left, ep.part.width)) {
                            $0v.add(ep);
                            return i;
                        }
                    };
                    var $0v = [];
                    $0v.height = 0;
                    $0v.add = function(ep) {
                        this.push(ep);
                        var $5V = ep.part.$e5();
                        if ($5V > $0v.height) {
                            $0v.height = $5V;
                        }
                    };
                    $0v.isFree = function($6D, $6E, $4E) {
                        var end = $6D + $6E - 1;
                        var $z = this.length;
                        for (var i = 0; i < $z; i++) {
                            var e = this[i];
                            if (!(end < e.part.left || $6D > e.part.left + e.part.width - 1)) {
                                if (DayPilot.contains($4E, e.data)) {
                                    continue;
                                };
                                return false;
                            }
                        };
                        return true;
                    };
                    $0v.add(ep);
                    this.lines.push($0v);
                    return this.lines.length - 1;
                };
                $x.putIntoBlock = function(ep) {
                    for (var i = 0; i < this.blocks.length; i++) {
                        var $5O = this.blocks[i];
                        if (DayPilot.indexOf($5O.events, ep) !== -1) {
                            return;
                        };
                        if ($5O.overlapsWith(ep.part.left, ep.part.width)) {
                            $5O.events.push(ep);
                            ep.part.block = $5O;
                            $5O.min = Math.min($5O.min, ep.part.left);
                            $5O.max = Math.max($5O.max, ep.part.left + ep.part.width);
                            return i;
                        }
                    };
                    var $5O = {};
                    $5O.expanded = false;
                    $5O.row = this;
                    $5O.events = [];
                    $5O.lines = [];
                    $5O.putIntoLine = function(ep) {
                        var $6F = this;
                        for (var i = 0; i < this.lines.length; i++) {
                            var $0v = this.lines[i];
                            if ($0v.isFree(ep.part.left, ep.part.width)) {
                                $0v.add(ep);
                                return i;
                            }
                        };
                        var $0v = [];
                        $0v.height = 0;
                        $0v.add = function(ep) {
                            this.push(ep);
                            if (ep.part.height > $0v.height) {
                                $0v.height = ep.part.height;
                            }
                        };
                        $0v.isFree = function($K, $A) {
                            var end = $K + $A - 1;
                            var $z = this.length;
                            for (var i = 0; i < $z; i++) {
                                var e = this[i];
                                if (!(end < e.part.left || $K > e.part.left + e.part.width - 1)) {
                                    return false;
                                }
                            };
                            return true;
                        };
                        $0v.add(ep);
                        this.lines.push($0v);
                    };
                    $5O.overlapsWith = function($K, $A) {
                        var end = $K + $A - 1;
                        if (!(end < this.min || $K > this.max - 1)) {
                            return true;
                        };
                        return false;
                    };
                    $5O.getHeight = function() {
                        if (!this.expanded) {
                            return $i.eventHeight;
                        };
                        if (this.lines.length > 0) {
                            var $0E = this.lines.length - 1;
                            var $0v = this.lines[$0E];
                            var $6x = $0v.height || $i.eventHeight;
                            var top = $0v.top || 0;
                            return top + $6x;
                        } else {
                            return $i.eventHeight;
                        }
                    };
                    $5O.clear = function() {
                        $5O.events = [];
                        $5O.min = null;
                        $5O.max = null;
                    };
                    $5O.events.push(ep);
                    ep.part.block = $5O;
                    $5O.min = ep.part.left;
                    $5O.max = ep.part.left + ep.part.width;
                    this.blocks.push($5O);
                };
                $x.$em = false;
                $x.$en = parent;
                $x.$eo = function() {
                    this.hidden = !this.$ep();
                    this.$em = false;
                    if (this.$en) {
                        this.$en.$eo();
                    }
                };
                $x.$ep = function() {
                    if (!this.$en) {
                        return true;
                    };
                    return this.$en.$ep() && this.$en.expanded;
                };
                this.rowlist.push($x);
                if (typeof $i.onRowFilter === "function" && $i.rows.$cV) {
                    var $l = {};
                    $l.visible = true;
                    $l.row = $i.$ce($x);
                    $l.filter = $i.rows.$cV;
                    $i.onRowFilter($l);
                    $x.$em = !$l.visible;
                    if (!$l.visible) {
                        $x.hidden = true;
                    } else {
                        if (parent) {
                            parent.$eo();
                        }
                    }
                };
                if (parent !== null) {
                    parent.children.push($1z.i);
                };
                if ($1M.columns) {
                    for (var j = 0; j < $1M.columns.length; j++) {
                        $x.columns.push($1M.columns[j]);
                    }
                };
                $1z.i++;
                if ($6u && $1M.children && $1M.children.length) {
                    var $6G = $6v || !$x.expanded;
                    this.$ei($1M.children, $1z, $6e + 1, $x, true, $6G);
                }
            }
        };
        this.$dP = function($x) {
            if ($x.isNewRow) {
                return {
                    "row": {
                        "cssClass": $i.$aD("_row_new"),
                        "moveDisabled": true,
                        "html": ""
                    }
                };
            };
            var $l = {};
            $l.row = this.$ce($x);
            DayPilot.Util.copyProps($x, $l.row, ['html', 'backColor', 'cssClass', 'toolTip', 'contextMenu', 'moveDisabled']);
            $l.row.columns = DayPilot.Util.createArrayCopy($x.columns, ['html', 'backColor', 'cssClass']);
            $l.row.areas = DayPilot.Util.createArrayCopy($x.areas);
            if (typeof $l.row.columns === 'undefined' && $i.rowHeaderColumns && $i.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $i.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            if (typeof this.onBeforeRowHeaderRender === "function") {
                this.onBeforeRowHeaderRender($l);
            };
            return $l;
        };
        this.$el = function($1M, $6w) {
            var r = this.$eq($1M, $6w);
            if (typeof this.onBeforeResHeaderRender === 'function') {
                var $l = {};
                $l.resource = r;
                this.onBeforeResHeaderRender($l);
            };
            return r;
        };
        this.$eq = function($1M, $6w) {
            var r = {};
            for (var name in $6w) {
                r[name] = $6w[name];
            };
            for (var name in $1M) {
                r[name] = $1M[name];
            };
            if (typeof $1M.html === 'undefined') {
                r.html = $1M.name;
            };
            if (typeof r.columns === 'undefined' && $i.rowHeaderColumns && $i.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $i.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            return r;
        };
        this.$er = function() {
            this.$es();
            this.nav.top.dp = this;
            this.nav.top.innerHTML = "";
            DayPilot.Util.addClass(this.nav.top, this.$aD("_main"));
            if (DayPilot.browser.ie9) {
                DayPilot.Util.addClass(this.nav.top, this.$aD("_browser_ie9"));
            };
            if (DayPilot.browser.ie8) {
                DayPilot.Util.addClass(this.nav.top, this.$aD("_browser_ie8"));
            };
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.webkitUserSelect = 'none';
            this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            this.nav.top.style.WebkitTouchCallout = "none";
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            };
            this.nav.top.style.lineHeight = "1.2";
            this.nav.top.style.position = "relative";
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.top.onmousemove = this.$et;
            this.nav.top.ontouchstart = $0O.onMainTouchStart;
            this.nav.top.ontouchmove = $0O.onMainTouchMove;
            this.nav.top.ontouchend = $0O.onMainTouchEnd;
            if (this.hideUntilInit && this.backendUrl) {
                this.nav.top.style.visibility = 'hidden';
            };
            var $3p = this.$aG();
            var $6H = this.$cL.layout();
            if ($6H === 'DivBased') {
                var $N = document.createElement("div");
                $N.style.position = "absolute";
                $N.style.left = "0px";
                $N.style.width = ($3p) + "px";
                $N.appendChild(this.$eu());
                var $6I = document.createElement("div");
                $6I.style.height = "1px";
                $6I.className = this.$aD("_divider_horizontal");
                $N.appendChild($6I);
                this.nav.dh1 = $6I;
                $N.appendChild(this.$ev());
                this.nav.left = $N;
                var $6J = document.createElement("div");
                $6J.style.position = "absolute";
                $6J.style.left = ($3p) + "px";
                $6J.style.width = $0b.splitterWidth() + "px";
                $6J.style.height = (this.$aF() + this.$aJ()) + "px";
                $6J.className = this.$aD("_divider") + " " + this.$aD("_splitter");
                $6J.setAttribute("unselectable", "on");
                this.nav.divider = $6J;
                if (this.rowHeaderScrolling) {
                    this.$ew();
                };
                var $O = document.createElement("div");
                $O.style.marginLeft = ($3p + $0b.splitterWidth()) + "px";
                $O.style.marginRight = '1px';
                $O.style.position = 'relative';
                $O.appendChild(this.$ex());
                this.nav.right = $O;
                var $6K = document.createElement("div");
                $6K.style.height = "1px";
                $6K.style.position = "absolute";
                $6K.style.top = this.$aF() + "px";
                $6K.style.width = "100%";
                $6K.className = this.$aD("_divider_horizontal");
                $O.appendChild($6K);
                this.nav.dh2 = $6K;
                $O.appendChild(this.$ey());
                var $6L = document.createElement("div");
                $6L.style.clear = 'left';
                this.nav.top.appendChild($N);
                this.nav.top.appendChild($6J);
                this.nav.top.appendChild($O);
                this.nav.top.appendChild($6L);
            } else {
                var $5d = document.createElement("table");
                $5d.cellPadding = 0;
                $5d.cellSpacing = 0;
                $5d.border = 0;
                $5d.style.position = 'absolute';
                var $6M = $5d.insertRow(-1);
                var $6N = $6M.insertCell(-1);
                $6N.appendChild(this.$eu());
                var $6O = $6M.insertCell(-1);
                $6O.appendChild(this.$ex());
                var $6P = $5d.insertRow(-1);
                var $6Q = $6P.insertCell(-1);
                $6Q.appendChild(this.$ev());
                var $6R = $6P.insertCell(-1);
                $6R.appendChild(this.$ey());
                this.nav.top.appendChild($5d);
            };
            this.$9Z = document.createElement("div");
            this.$9Z.style.display = "none";
            this.nav.top.appendChild(this.$9Z);
            if (this.$cu()) {
                var $6S = document.createElement("input");
                $6S.type = "hidden";
                $6S.id = this.id + "_state";
                $6S.name = this.id + "_state";
                this.nav.state = $6S;
                this.nav.top.appendChild($6S);
            };
            var $5b = 5;
            var loading = document.createElement("div");
            loading.style.position = 'absolute';
            loading.style.left = (this.$aG() + $0b.splitterWidth() + 5) + "px";
            loading.style.top = (this.$aF() + 5) + "px";
            loading.style.display = 'none';
            loading.innerHTML = this.loadingLabelText;
            DayPilot.Util.addClass(loading, this.$aD("_loading"));
            this.nav.loading = loading;
            this.nav.top.appendChild(loading);
            this.$ez();
        };
        this.$et = function(ev) {
            if ($5p.row) {
                var $1Z = DayPilot.mo3($i.divHeader, ev);
                var ri = $i.$cD($1Z.y);
                var $x = $i.rowlist[ri.i];
                if ($x.isNewRow) {
                    return;
                };
                var $6T = $1Z.y - ri.top;
                var $6U = ri.bottom - ri.top;
                var $6V = $6U / 3;
                var $6W = $6V * 2;
                var $25 = $6U / 2;
                var $w = "before";
                var $6X = $x.children && $x.children.length > 0;
                var $6Y = (function() {
                    var i = ri.i;
                    var $6Z = $x.level;
                    while (i >= 0) {
                        var r = $i.rowlist[i];
                        i--;
                        if ($6Z <= r.level) {
                            continue;
                        };
                        if (r === $5p.row) {
                            return true;
                        };
                        if (r.level === 0) {
                            return false;
                        };
                        $6Z = r.level;
                    };
                    return false;
                })();
                var $70 = $i.treeEnabled;
                if ($6Y || ri.i === $5p.row.index) {
                    $w = "forbidden";
                } else if ($70) {
                    if ($6X) {
                        if ($6T < $25) {
                            $w = "before";
                        } else {
                            $w = "child";
                        }
                    } else {
                        if ($6T < $6V) {
                            $w = "before";
                        } else if ($6T < $6W) {
                            $w = "child";
                        } else {
                            $w = "after";
                        }
                    }
                } else {
                    if ($6X) {
                        $w = "before";
                    } else {
                        if ($6T < $25) {
                            $w = "before";
                        } else {
                            $w = "after";
                        }
                    }
                };
                if ($5p.row.moveDisabled) {
                    $w = "forbidden";
                };
                $5p.calendar = $i;
                $5p.source = $5p.row;
                $5p.target = $i.rowlist[ri.i];
                $5p.position = $w;
                var $71 = (function() {
                    if (!$5p.last) {
                        return true;
                    };
                    if ($5p.last.target !== $5p.target) {
                        return true;
                    };
                    if ($5p.last.position !== $5p.position) {
                        return true;
                    };
                    return false;
                })();
                if ($71) {
                    if (typeof $i.onRowMoving === 'function') {
                        var $l = {};
                        $l.source = $i.$ce($5p.source);
                        $l.target = $i.$ce($5p.target);
                        $l.position = $w;
                        $i.onRowMoving($l);
                        $5p.position = $l.position;
                    }
                } else if ($5p.last) {
                    $5p.position = $5p.last.position;
                };
                $5p.last = {};
                $5p.last.target = $5p.target;
                $5p.last.position = $5p.position;
                (function drawRowPosition() {
                    if ($5p.div) {
                        DayPilot.de($5p.div);
                    };
                    var top = ri.top;
                    var $G = $5p.position;
                    var ro = $i.rowlist[ri.i];
                    var $6e = ro.level;
                    var $N = $6e * $i.treeIndent;
                    switch ($G) {
                        case "before":
                            top = ri.top;
                            break;
                        case "child":
                            top = ri.top + $25;
                            break;
                        case "after":
                            top = ri.bottom;
                            break;
                        case "forbidden":
                            top = ri.top + $25;
                            break;
                    };
                    var $A = $i.$dC() - $N;
                    var $w = document.createElement("div");
                    $w.style.position = "absolute";
                    $w.style.left = $N + "px";
                    $w.style.width = $A + "px";
                    $w.style.top = top + "px";
                    $w.className = $i.$aD("_rowmove_position_" + $G);
                    $5p.div = $w;
                    $i.divResScroll.appendChild($w);
                })();
            } else if (DayPilotScheduler.splitting) {
                var $A = DayPilot.mo3($i.nav.top, ev).x;
                var $z = $i.$dC();
                var $4O = Math.min($z, $A - 1);
                $i.rowHeaderWidth = $4O;
                $i.$eb = false;
                $i.$ec();
            }
        };
        this.$ab = function() {
            var $R = this.$aF();
            this.nav.corner.style.height = ($R) + "px";
            this.divTimeScroll.style.height = $R + "px";
            this.divNorth.style.height = $R + "px";
            if (this.nav.dh1 && this.nav.dh2) {
                this.nav.dh1.style.top = $R + "px";
                this.nav.dh2.style.top = $R + "px";
            };
            this.nav.loading.style.top = ($R + 5) + "px";
            this.nav.scroll.style.top = ($R + 1) + "px";
        };
        this.$aG = function() {
            if (this.$eb) {
                return 0;
            };
            var $72 = this.rowHeaderScrolling;
            if ($72) {
                return this.rowHeaderWidth;
            };
            return this.$dC();
        };
        this.$ew = function() {
            var $02 = this.nav.divider;
            $02.style.cursor = "col-resize";
            $02.setAttribute("unselectable", "on");
            $02.onmousedown = function(ev) {
                var $73 = DayPilotScheduler.splitting = {};
                $73.cursor = $i.nav.top.style.cursor;
                $73.cleanup = function() {
                    $i.nav.top.style.cursor = $73.cursor;
                    if (typeof $i.onRowHeaderResized === "function") {
                        var $l = {};
                        $i.onRowHeaderResized($l);
                    }
                };
                $i.nav.top.style.cursor = "col-resize";
                return false;
            };
        };
        this.$ec = function() {
            var $74 = $0b.splitterWidth();
            var $A = this.$aG();
            this.nav.corner.style.width = $A + "px";
            this.divCorner.style.width = $A + "px";
            this.divResScroll.style.width = $A + "px";
            this.nav.left.style.width = ($A) + "px";
            this.nav.divider.style.left = ($A) + "px";
            this.nav.right.style.marginLeft = ($A + $74) + "px";
            if (this.nav.message) {
                this.nav.message.style.left = ($A + $74) + "px";
            };
            if (this.nav.loading) {
                this.nav.loading.style.left = ($A + $74 + 5) + "px";
            };
            if (this.nav.hideIcon) {
                var hi = this.nav.hideIcon;
                var $75 = $i.$aD("_header_icon_show");
                var $76 = $i.$aD("_header_icon_hide");
                hi.style.left = ($A + $74 - 1) + "px";
                if ($i.$eb) {
                    DayPilot.Util.removeClass(hi, $76);
                    DayPilot.Util.addClass(hi, $75);
                } else {
                    DayPilot.Util.removeClass(hi, $75);
                    DayPilot.Util.addClass(hi, $76);
                }
            }
        };
        this.$eA = function() {
            this.$dD();
            var $0e = this.$dC();
            var $77 = function($P, $A, $N) {
                if (!$P || !$P.style) {
                    return;
                };
                var $02 = $P.firstChild;
                if ($i.$dK) {
                    $P.style.width = $A + "px";
                    $02.style.width = $A + "px";
                    if (typeof $N === "number") {
                        $P.style.left = $N + "px";
                    }
                } else {
                    $02.style.width = $A + "px";
                }
            };
            var $5d = this.divHeader;
            $5d.style.width = $0e + "px";
            var $1r = $i.$dE();
            for (var i = $1r.start; i < $1r.end; i++) {
                var $x = $5d.rows[i];
                if (!$x) {
                    continue;
                };
                var $P = $x.cells[0];
                if ($P.colSpan > 1) {
                    var $P = $x.cells[0];
                    $77($P, $0e);
                } else {
                    if (this.rowHeaderCols) {
                        var $N = 0;
                        for (var j = 0; j < $x.cells.length; j++) {
                            var $A = this.rowHeaderCols[j];
                            var $P = $x.cells[j];
                            $77($P, $A, $N);
                            $N += $A;
                        }
                    } else {
                        var $A = this.rowHeaderWidth;
                        var $P = $x.cells[0];
                        $77($P, $A);
                    }
                }
            };
            if ($i.nav.resScrollSpace) {
                $i.nav.resScrollSpace.style.width = $0e + "px";
            };
            this.$eB();
        };
        this.$bI = function() {
            this.$ec();
            this.$eA();
        };
        this.$eC = function() {
            var $02 = $i.nav.corner;
            var $28 = this.rowHeaderColumns;
            var scroll = document.createElement("div");
            scroll.style.position = "absolute";
            scroll.style.bottom = "0px";
            scroll.style.left = "0px";
            scroll.style.width = "100%";
            scroll.style.height = $0b.headerHeight() + "px";
            scroll.style.overflow = "hidden";
            $i.nav.columnScroll = scroll;
            var $x = document.createElement("div");
            $x.style.position = "absolute";
            $x.style.bottom = "0px";
            $x.style.left = "0px";
            $x.style.width = "5000px";
            $x.style.height = $0b.headerHeight() + "px";
            $x.style.overflow = "hidden";
            $x.className = this.$aD("_columnheader");
            scroll.appendChild($x);
            var $05 = document.createElement("div");
            $05.style.position = "absolute";
            $05.style.top = "0px";
            $05.style.bottom = "0px";
            $05.style.left = "0px";
            $05.style.right = "0px";
            $05.className = this.$aD("_columnheader_inner");
            $x.appendChild($05);
            var $78 = new DayPilot.Splitter($05);
            $78.widths = DayPilot.Util.propArray($28, "width", $i.rowHeaderColumnDefaultWidth);
            $78.height = $0b.headerHeight();
            $78.css.title = this.$aD("_columnheader_cell");
            $78.css.titleInner = this.$aD("_columnheader_cell_inner");
            $78.css.splitter = this.$aD("_columnheader_splitter");
            $78.titles = DayPilot.Util.propArray($28, "title");
            $78.updating = function($l) {
                DayPilot.Util.updatePropsFromArray($i.rowHeaderColumns, "width", this.widths);
                $i.$bI();
                if ($i.cellWidthSpec === "Auto") {}
            };
            $78.updated = function($79) {
                $i.$dJ();
                if ($i.$aq()) {
                    if (typeof $i.onRowHeaderColumnResized === "function") {
                        var $l = {};
                        $l.column = $i.rowHeaderColumns[$79.index];
                        $i.onRowHeaderColumnResized($l);
                    }
                } else {
                    switch ($i.rowHeaderColumnResizedHandling) {
                        case "CallBack":
                            break;
                        case "PostBack":
                            break;
                        case "JavaScript":
                            if (typeof $i.onRowHeaderColumnResized === "function") {
                                var $l = {};
                                $l.column = $i.rowHeaderColumns[$79.index];
                                $i.onRowHeaderColumnResized($l);
                            };
                            break;
                    }
                }
            };
            $78.color = '#000000';
            $78.opacity = 30;
            $78.init();
            $02.appendChild(scroll);
            this.$dI = $78;
        };
        this.$bK = function() {
            var $02 = this.nav.corner;
            $02.innerHTML = '';
            $02.className = this.$aD('_corner');
            var $05 = document.createElement("div");
            $05.style.position = "absolute";
            $05.style.top = "0px";
            $05.style.left = "0px";
            $05.style.right = "0px";
            $05.style.bottom = "0px";
            $05.className = this.$aD('_corner_inner');
            this.divCorner = $05;
            $05.innerHTML = '&nbsp;';
            if (this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
                var $7a = document.createElement("div");
                $7a.style.position = "absolute";
                $7a.style.top = "0px";
                $7a.style.left = "0px";
                $7a.style.right = "0px";
                $7a.style.bottom = ($0b.headerHeight() + 1) + "px";
                $02.appendChild($7a);
                var $6J = document.createElement("div");
                $6J.style.position = "absolute";
                $6J.style.left = "0px";
                $6J.style.right = "0px";
                $6J.style.height = "1px";
                $6J.style.bottom = ($0b.headerHeight()) + "px";
                $6J.className = this.$aD("_divider");
                $02.appendChild($6J);
                $7a.appendChild($05);
                this.$eC();
            } else {
                $02.appendChild($05);
            };
            var $7b = document.createElement("div");
            $7b.style.position = 'absolute';
            $7b.style.padding = '2px';
            $7b.style.top = '0px';
            $7b.style.left = '1px';
            $7b.style.backgroundColor = "#FF6600";
            $7b.style.color = "white";
            $7b.innerHTML = "\u0044\u0045\u004D\u004F";
            if (this.numberFormat) $02.appendChild($7b);
        };
        this.$ez = function() {
            if (!this.rowHeaderHideIconEnabled) {
                return;
            };
            var $7c = 3;
            var $N = this.$aG() + $0b.splitterWidth() - 1;
            var $A = 10;
            var $R = 20;
            var top = this.$aF() + $7c;
            var $02 = DayPilot.Util.div(this.nav.top, $N, top, $A, $R);
            $02.style.cursor = "pointer";
            $02.className = $i.$aD("_header_icon");
            DayPilot.Util.addClass($02, $i.$aD("_header_icon_hide"));
            $02.onclick = function() {
                $i.rows.headerToggle();
            };
            this.nav.hideIcon = $02;
        };
        this.$eu = function() {
            var $3p = this.$aG();
            var $02 = document.createElement("div");
            $i.nav.corner = $02;
            $02.style.width = $3p + "px";
            $02.style.height = (this.$aF()) + "px";
            $02.style.overflow = 'hidden';
            $02.style.position = 'relative';
            $02.setAttribute("unselectable", "on");
            $02.onmousemove = function() {
                $i.$dL();
            };
            $02.oncontextmenu = function() {
                return false;
            };
            this.$bK();
            return $02;
        };
        this.$aF = function() {
            if (this.timeHeader) {
                var $7d = this.timeHeader.length;
                return $7d * $0b.headerHeight();
            };
            return 2 * $0b.headerHeight();
        };
        this.$eD = null;
        this.$ev = function() {
            var $02 = document.createElement("div");
            $02.style.width = (this.$aG()) + "px";
            $02.style.height = this.$aJ() + "px";
            $02.style.overflow = 'hidden';
            $02.style.position = 'relative';
            $02.className = $i.$aD("_rowheader_scroll");
            $02.onmousemove = function() {
                $i.$dL();
            };
            $02.onscroll = function() {
                if ($i.nav.columnScroll && $i.rowHeaderScrolling) {
                    $i.nav.columnScroll.scrollLeft = $02.scrollLeft;
                };
                if ($i.$eD) {
                    clearTimeout($i.$eD);
                };
                $i.$eD = setTimeout(function() {
                    $i.nav.scroll.scrollTop = $02.scrollTop;
                }, 500);
            };
            $02.onwheel = function(ev) {
                var $4M = ev.deltaY > 0 ? $i.eventHeight : -$i.eventHeight;
                $i.nav.scroll.scrollTop = $02.scrollTop + $4M;
                ev.preventDefault && ev.preventDefault();
            };
            $02.onmousewheel = function(ev) {
                ev = ev || window.event;
                var $4M = ev.wheelDelta < 0 ? $i.eventHeight : -$i.eventHeight;
                $i.nav.scroll.scrollTop = $02.scrollTop + $4M;
                ev.preventDefault && ev.preventDefault();
                ev.returnValue = false;
            };
            $02.oncontextmenu = function() {
                return false;
            };
            $02.onmouseenter = function() {
                if ($i.rowHeaderScrolling) {
                    $02.style.overflowX = "auto";
                }
            };
            $02.onmouseleave = function() {
                if ($i.rowHeaderScrolling) {
                    $02.style.overflowX = "hidden";
                }
            };
            this.divResScroll = $02;
            this.$aK = $02;
            return $02;
        };
        this.$eE = function($02) {
            if ($0b.layout() === 'TableBased') {
                var $A = parseInt(this.width, 10);
                var $7e = (this.width.indexOf("%") !== -1);
                var $7f = /MSIE/i.test(navigator.userAgent);
                var $3p = this.$dC();
                if ($7e) {
                    if (this.nav.top && this.nav.top.offsetWidth > 0) {
                        $02.style.width = (this.nav.top.offsetWidth - 6 - $3p) + "px";
                    }
                } else {
                    $02.style.width = ($A - $3p) + "px";
                }
            }
        };
        this.$cI = function(ev) {
            $i.$a9();
            $i.$ap();
        };
        this.$a9 = function() {
            if ($i.$cL.layout() === 'TableBased') {
                $i.$eE($i.nav.scroll);
                $i.$eE($i.divTimeScroll);
            };
            $i.$ac();
            $i.$dJ();
            $i.$eF();
            $i.$9R.drawArea = null;
        };
        this.$eF = function() {
            var $1r = DayPilotScheduler.rangeHold;
            $i.clearSelection();
            DayPilotScheduler.rangeHold = $1r;
            $i.$c5($1r, true);
        };
        this.$dJ = function() {
            if (!$i.$bM) {
                return;
            };
            if ($i.cellWidthSpec !== 'Auto') {
                return;
            };
            $i.$a0();
            $i.$a1();
            $i.$a6();
            $i.$ad();
            $i.$ah();
            $i.$af();
            $i.$ai();
            $i.$ae();
            $i.$a4();
            $i.$aj();
            $i.$ac();
        };
        this.$a0 = function() {
            if (this.cellWidthSpec !== 'Auto') {
                return;
            };
            var $0e = this.nav.top.clientWidth;
            var $7g = this.$aG();
            var $7h = $i.$eG();
            var $1h = $0e - $7g - $7h;
            var $7i = this.$aE();
            if (!$7i) {
                return;
            };
            var $P = $1h / this.$aE();
            this.cellWidth = Math.max($P, $i.cellWidthMin);
            $i.$aP = $P < $i.cellWidthMin;
        };
        this.$eG = function() {
            if ($i.heightSpec === "Auto") {
                return 0;
            };
            if ($i.heightSpec === "Max" || $i.heightSpec === "Fixed" || $i.heightSpec === "Parent100Pct") {
                var $05 = $i.$dm();
                if ($05 > $i.height) {
                    return DayPilot.sw($i.nav.scroll);
                } else {
                    return 0;
                }
            };
            return DayPilot.sw($i.nav.scroll);
        };
        this.$aO = function() {
            var $0e = this.nav.top.clientWidth;
            var $7g = this.$aG();
            var $7j = 2;
            var $R = this.$aJ();
            var innerHeight = this.$dm();
            var $7k = $i.heightSpec === "Auto";
            var $7l = 0;
            if (innerHeight > $R && !$7k) {
                $7l = DayPilot.swa();
            };
            var $1h = $0e - $7g - $7j - $7l;
            return $1h;
        };
        this.$ex = function() {
            var $02 = document.createElement("div");
            $02.style.overflow = 'hidden';
            $02.style.position = 'absolute';
            $02.style.display = 'block';
            $02.style.top = "0px";
            $02.style.width = "100%";
            $02.style.height = this.$aF() + "px";
            $02.style.overflow = "hidden";
            $02.onmousemove = function() {
                $i.$dL();
                if ($i.cellBubble) {
                    $i.cellBubble.delayedHide();
                }
            };
            this.$eE($02);
            this.divTimeScroll = $02;
            var $05 = document.createElement("div");
            $05.style.width = (this.$aE() * this.cellWidth + 5000) + "px";
            this.divNorth = $05;
            $02.appendChild($05);
            return $02;
        };
        this.$aJ = function() {
            var $R = 0;
            if (this.heightSpec === 'Fixed' || this.heightSpec === "Parent100Pct") {
                return this.height ? this.height : 0;
            } else {
                $R = this.$dm();
            };
            if (this.heightSpec === 'Max' && $R > this.height) {
                return this.height;
            };
            return $R;
        };
        this.$eH = null;
        this.$eI = 0;
        this.$eJ = 0;
        this.$eK = 0;
        this.$aL = function() {
            if (typeof $i.onHeightChanged !== "function" && typeof $i.onDimensionsChanged !== "function") {
                return;
            };
            if ($i.$eH) {
                clearTimeout($i.$eH);
            };
            var $12 = function() {
                var $7m = $i.nav.top.offsetHeight;
                var $7n = $i.$eI;
                $i.$eI = $7m;
                var $4O = $i.nav.top.offsetWidth;
                var $4J = $i.$eJ;
                $i.$eJ = $4O;
                var $7o = $i.$aG();
                var $7p = $i.$eK;
                $i.$eK = $7o;
                if (typeof $i.onHeightChanged === "function") {
                    if ($7m !== $7n) {
                        var $l = {};
                        $l.oldHeight = $7n;
                        $l.newHeight = $7m;
                        $i.onHeightChanged($l);
                    }
                };
                if (typeof $i.onDimensionsChanged === "function") {
                    if ($7m !== $7n || $4O !== $4J || $7o !== $7p) {
                        var $l = {};
                        $l.oldHeight = $7n;
                        $l.newHeight = $7m;
                        $l.oldWidth = $4J;
                        $l.newWidth = $4O;
                        $l.oldRowHeaderWidth = $7p;
                        $l.newRowHeaderWidth = $7o;
                        $i.onDimensionsChanged($l);
                    }
                }
            };
            $i.$eH = setTimeout($12, 100);
        };
        this.$dm = function() {
            var $R;
            if (this.$9Q) {
                $R = this.$9Q + DayPilot.sh($i.nav.scroll);
            } else {
                $R = this.rowlist.length * this.$cL.eventHeight();
            };
            return $R;
        };
        this.$dL = function() {
            this.$eB();
            this.$eL();
            this.$eM();
        };
        this.$ey = function() {
            var $02 = document.createElement("div");
            $02.style.overflow = "auto";
            $02.style.overflowX = "auto";
            $02.style.overflowY = "auto";
            $02.style.position = "absolute";
            $02.style.height = (this.$aJ()) + "px";
            $02.style.top = (this.$aF() + 1) + "px";
            $02.style.width = "100%";
            $02.className = this.$aD("_scrollable");
            $02.oncontextmenu = function() {
                return false;
            };
            this.$eE($02);
            this.nav.scroll = $02;
            this.$as = document.createElement("div");
            this.$as.style.MozUserSelect = "none";
            this.$as.style.KhtmlUserSelect = "none";
            this.$as.style.webkitUserSelect = "none";
            this.$as.daypilotMainD = true;
            this.$as.calendar = this;
            if ($a) {
                this.$as.style.webkitTransform = "translateZ(0px)";
            };
            this.$as.style.position = 'absolute';
            var $7q = this.$dl();
            if ($7q > 0 && !isNaN($7q)) {
                this.$as.style.width = ($7q) + "px";
            };
            this.$as.setAttribute("unselectable", "on");
            this.$as.onmousedown = this.$eN;
            this.$as.onmousemove = this.$eO;
            this.$as.onmouseup = this.$eP;
            this.$as.oncontextmenu = this.$eQ;
            this.$as.ondblclick = this.$eR;
            this.$as.className = this.$aD("_matrix");
            this.divStretch = document.createElement("div");
            this.divStretch.style.position = 'absolute';
            this.divStretch.style.height = '1px';
            this.$as.appendChild(this.divStretch);
            this.divCells = document.createElement("div");
            this.divCells.style.position = 'absolute';
            this.divCells.oncontextmenu = this.$eQ;
            this.$as.appendChild(this.divCells);
            this.divLines = document.createElement("div");
            this.divLines.style.position = 'absolute';
            this.divLines.oncontextmenu = this.$eQ;
            this.$as.appendChild(this.divLines);
            this.divBreaks = document.createElement("div");
            this.divBreaks.style.position = 'absolute';
            this.divBreaks.oncontextmenu = this.$eQ;
            this.$as.appendChild(this.divBreaks);
            this.divSeparators = document.createElement("div");
            this.divSeparators.style.position = 'absolute';
            this.divSeparators.oncontextmenu = this.$eQ;
            this.$as.appendChild(this.divSeparators);
            this.divLinksBelow = document.createElement("div");
            this.divLinksBelow.style.position = "absolute";
            this.$as.appendChild(this.divLinksBelow);
            this.divCrosshair = document.createElement("div");
            this.divCrosshair.style.position = 'absolute';
            this.divCrosshair.ondblclick = this.$eR;
            this.$as.appendChild(this.divCrosshair);
            this.divRange = document.createElement("div");
            this.divRange.style.position = 'absolute';
            this.divRange.oncontextmenu = this.$eQ;
            this.$as.appendChild(this.divRange);
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.$as.appendChild(this.divEvents);
            this.divSeparatorsAbove = document.createElement("div");
            this.divSeparatorsAbove.style.position = 'absolute';
            this.divSeparatorsAbove.oncontextmenu = this.$eQ;
            this.$as.appendChild(this.divSeparatorsAbove);
            this.divLinksAbove = document.createElement("div");
            this.divLinksAbove.style.position = "absolute";
            this.$as.appendChild(this.divLinksAbove);
            this.divLinkShadow = document.createElement("div");
            this.divLinkShadow.style.position = "absolute";
            this.$as.appendChild(this.divLinkShadow);
            this.divLinkpoints = document.createElement("div");
            this.divLinkpoints.style.position = "absolute";
            this.$as.appendChild(this.divLinkpoints);
            this.divRectangle = document.createElement("div");
            this.divRectangle.style.position = "absolute";
            this.$as.appendChild(this.divRectangle);
            this.divHover = document.createElement("div");
            this.divHover.style.position = 'absolute';
            this.$as.appendChild(this.divHover);
            $02.appendChild(this.$as);
            return $02;
        };
        this.$eS = {};
        var $13 = this.$eS;
        $13.create = function() {
            if ($i.nav.overlay) {
                return;
            };
            var $02 = document.createElement('div');
            $02.style.position = "absolute";
            $02.style.left = "0px";
            $02.style.right = "0px";
            $02.style.top = "0px";
            $02.style.bottom = "0px";
            $02.className = $i.$aD("_block");
            $i.nav.top.appendChild($02);
            $i.nav.overlay = $02;
        };
        $13.show = function() {
            $13.create();
            $i.nav.overlay.style.display = '';
        };
        $13.hide = function() {
            if ($i.nav.overlay) {
                $i.nav.overlay.style.display = 'none';
            }
        };
        this.$cq = function($7r) {
            if ($i.loadingTimeout) {
                window.clearTimeout($i.loadingTimeout);
            };
            var $0a = $7r ? 0 : 100;
            $i.loadingTimeout = window.setTimeout(function() {
                if ($i.loadingLabelVisible) {
                    $i.nav.loading.innerHTML = $i.loadingLabelText;
                    $i.nav.loading.style.display = '';
                };
                if ($i.blockOnCallBack) {
                    $13.show();
                }
            }, $0a);
        };
        this.$9U = function() {
            if (this.loadingTimeout) {
                window.clearTimeout(this.loadingTimeout);
            };
            this.nav.loading.style.display = 'none';
            if (this.blockOnCallBack) {
                $13.hide();
            }
        };
        this.uiBlock = function() {
            $13.show();
        };
        this.uiUnblock = function() {
            $13.hide();
        };
        this.$eT = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
        };
        this.$eU = function($7s) {
            var $02 = document.createElement("div");
            $02.style.position = "absolute";
            $02.style.top = "-2000px";
            $02.style.left = "-2000px";
            $02.className = this.$aD($7s);
            document.body.appendChild($02);
            var $R = $02.offsetHeight;
            var $A = $02.offsetWidth;
            document.body.removeChild($02);
            var $j = {};
            $j.height = $R;
            $j.width = $A;
            return $j;
        };
        this.$9V = function($7t) {
            if ($7t) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$9P >= this.autoRefreshMaxCount) {
                return;
            };
            this.$cp();
            var $7u = this.autoRefreshInterval;
            if (!$7u || $7u < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $i.$eV();
            }, this.autoRefreshInterval * 1000);
        };
        this.$cp = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
                this.autoRefreshTimeout = null;
            }
        };
        this.autoRefreshStart = function($7t) {
            $i.$9V($7t);
        };
        this.autoRefreshPause = function() {
            $i.$cp();
        };
        this.$eV = function() {
            if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving && !DayPilotScheduler.drag && !DayPilotScheduler.range) {
                var $7v = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $l = {};
                    $l.i = this.$9P;
                    $l.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $i.onAutoRefresh($l);
                    if ($l.preventDefault.value) {
                        $7v = true;
                    }
                };
                if (!$7v && this.$aM()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$9P++;
            };
            if (this.$9P < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $i.$eV();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$eW = function() {
            if (!DayPilotScheduler.globalHandlers) {
                DayPilotScheduler.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotScheduler.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotScheduler.gMouseUp);
                DayPilot.re(document, 'keyup', DayPilotScheduler.gKeyUp);
                DayPilot.re(document, 'mousedown', DayPilotScheduler.gMouseDown);
                DayPilot.re(document, 'touchmove', DayPilotScheduler.gTouchMove);
                DayPilot.re(document, 'touchend', DayPilotScheduler.gTouchEnd);
            };
            DayPilot.re(window, 'resize', this.$cI);
        };
        this.$eX = function() {
            this.nav.scroll.root = this;
            this.nav.scroll.onscroll = this.$ap;
            $i.$dp = this.nav.scroll.scrollLeft;
            $i.$do = this.nav.scroll.scrollTop;
            $i.$dq = this.divNorth.clientWidth;
        };
        this.$am = function() {
            if (!this.nav.state) {
                return;
            };
            var $7w = {};
            $7w.scrollX = this.nav.scroll.scrollLeft;
            $7w.scrollY = this.nav.scroll.scrollTop;
            if (this.syncResourceTree) {
                $7w.tree = this.$cz();
            };
            this.nav.state.value = DayPilot.he(DayPilot.JSON.stringify($7w));
        };
        this.$ai = function() {
            if (!this.separators) {
                return;
            };
            for (var i = 0; i < this.separators.length; i++) {
                this.$eY(i);
            }
        };
        this.$eZ = {};
        this.$eZ.step = 300;
        this.$eZ.delay = 10;
        this.$eZ.mode = "display";
        this.$eZ.layers = false;
        this.$e4 = function($x) {
            if ($i.cellStacking) {
                $5L.calculateEventPositionsRow($x);
                return;
            };
            var $7x = true;
            var $7y = this.durationBarDetached ? -10 : 0;
            var $5N = 0;
            for (var j = 0; j < $x.lines.length; j++) {
                var $0v = $x.lines[j];
                $0v.height = 0;
                $0v.top = $5N;
                for (var k = 0; k < $0v.length; k++) {
                    var e = $0v[k];
                    if (!e.part.top || $7x) {
                        e.part.line = j;
                        if (!e.part.height) {
                            e.part.height = $x.eventHeight;
                        };
                        var $5V = e.part.$e5();
                        if ($5V > $0v.height) {
                            $0v.height = $5V;
                        };
                        e.part.top = $5N + $x.marginTop;
                        if ($i.eventVersionsEnabled && !DayPilot.list(e.data.versions).isEmpty()) {
                            var $0h = e.data.versions.length;
                            var top = e.part.top;
                            DayPilot.list(e.data.versions).each(function($5Z, i) {
                                if (!e.versions[i]) {
                                    return;
                                };
                                var $0D = i * ($i.eventVersionHeight + $i.eventVersionMargin);
                                e.versions[i].top = top + $0D;
                                e.part.top += $i.eventVersionHeight;
                                e.part.top += $i.eventVersionMargin;
                            });
                        };
                        e.part.top += $i.eventMarginBottom;
                        e.part.detachedBarTop = e.part.top - $7y;
                        e.part.right = e.part.left + e.part.width;
                        e.part.fullTop = this.rowlist[e.part.dayIndex].top + e.part.top;
                        e.part.fullBottom = e.part.fullTop + e.part.height;
                    }
                };
                $5N += ($0v.height || $x.eventHeight) * this.eventStackingLineHeight / 100;
            }
        };
        var $5L = {};
        $5L.loadRow = function($x) {
            $x.evColumns = DayPilot.list($i.itline).map(function($P, i) {
                return {
                    "events": DayPilot.list()
                };
            });
            DayPilot.list($x.events).each(function(e) {
                var $K = e.start();
                var $P = $i.$b4($K);
                $x.evColumns[$P.i].events.push(e);
            });
        };
        $5L.calculateEventPositions = function() {
            var $7k = $i.cellStackingAutoHeight;
            var $4m = 0;
            DayPilot.list($i.rowlist).each(function($x) {
                var $08 = 0;
                $x.evColumns.each(function($4U, i) {
                    var $P = $i.itline[i];
                    var top = $i.rowMarginTop;
                    $4U.events.each(function(e) {
                        e.part.left = $P.left;
                        e.part.width = $P.width;
                        e.part.top = top;
                        if (!e.part.height) {
                            if ($7k) {
                                e.part.height = $5L.getEventAutoHeight(e) + $i.durationBarHeight;
                            } else {
                                e.part.height = $x.eventHeight;
                            }
                        };
                        top += e.part.height + $i.eventMarginBottom;
                    });
                    $4U.height = top;
                    if ($4U.height > $08) {
                        $08 = $4U.height;
                    }
                });
                $x.maxColumnHeight = $08;
                $x.top = $4m;
                var $7z = $x.height;
                $x.height = $x.getHeight();
                if ($08 > $i.rowMarginTop) {
                    $x.height = $08 + $i.rowMarginBottom;
                };
                if ($7z !== $x.height) {
                    $i.$bO = true;
                };
                $4m += $x.height;
            });
            $i.$9Q = $4m;
        };
        $5L.getEventAutoHeight = function(e) {
            var $09 = e.client.html();
            var $02 = document.createElement("div");
            $02.style.position = "absolute";
            $02.style.top = "-2000px";
            $02.style.left = "-2000px";
            $02.style.width = e.part.width + "px";
            $02.className = $i.$aD($06.event);
            var $05 = document.createElement("div");
            $05.className = $i.$aD($06.eventInner);
            $05.innerHTML = $09;
            $05.style.position = 'static';
            $05.style.overflow = 'auto';
            $02.appendChild($05);
            var parent = $i.divEvents;
            parent.appendChild($02);
            var $R = $02.offsetHeight;
            parent.removeChild($02);
            return $R;
        };
        $5L.calculateEventPositionsRow = function($x) {
            $5L.calculateEventPositions();
        };
        $5L.drawEventsWithoutCheckingOverflow = function() {
            DayPilot.list($i.rowlist).each(function($x) {
                $5L.drawEventsRow($x);
            });
        };
        $5L.drawEvents = function() {
            $5L.drawEventsWithoutCheckingOverflow();
            $5L.checkOverflow();
            $i.$aa();
            $i.$ac();
        };
        $5L.checkOverflow = function() {
            if (!$i.cellStackingAutoHeight) {
                return;
            };
            var $7A = false;
            DayPilot.list($i.elements.events).each(function($02) {
                var $05 = $02.firstChild;
                var $7B = $05.offsetHeight - $05.clientHeight + $02.offsetHeight - $02.clientHeight;
                var $7C = $05.scrollHeight + $7B;
                var $7n = $02.event.part.height;
                $02.event.part.height = $7C;
                if ($7n !== $7C) {
                    $7A = true;
                }
            });
            if ($7A) {
                $i.$ae();
                $5L.calculateEventPositions();
                $5L.drawEventsWithoutCheckingOverflow();
                $i.$ad();
                $i.$ah();
            }
        };
        $5L.drawEventsRow = function($x) {
            $x.evColumns.each(function($4U, i) {
                $4U.events.each(function(e) {
                    $i.$f0(e);
                });
            });
        };
        this.$aj = function($1m) {
            if ($i.cellStacking) {
                $5L.drawEvents();
                return;
            };
            var $F = this.$eZ.step;
            var $7D = this.$eZ.layers;
            if ($7D) {
                $i.divEvents = document.createElement("div");
                $i.divEvents.style.position = 'absolute';
                $i.$as.insertBefore(this.divEvents, this.divSeparatorsAbove);
            };
            if (this.$eZ.mode === 'display') {
                this.divEvents.style.display = 'none';
            } else if (this.$eZ.mode === 'visibility') {
                this.divEvents.style.visibility = 'hidden';
            };
            var $7E = this.dynamicEventRendering === 'Progressive';
            var $J = this.$aw();
            var top = $J.pixels.top;
            var $W = $J.pixels.bottom;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $x = this.rowlist[i];
                var $4m = $x.top - this.dynamicEventRenderingMargin;
                var $7F = $4m + $x.height + 2 * this.dynamicEventRenderingMargin;
                if ($7E && ($W <= $4m || top >= $7F)) {
                    continue;
                };
                this.$e4($x);
                for (var j = 0; j < $x.lines.length; j++) {
                    var $0v = $x.lines[j];
                    for (var k = 0; k < $0v.length; k++) {
                        var e = $0v[k];
                        var $7G = this.$f0(e);
                        if ($1m && $7G) {
                            $F--;
                            if ($F <= 0) {
                                this.divEvents.style.visibility = '';
                                this.divEvents.style.display = '';
                                window.setTimeout(function() {
                                    $i.$aj($1m);
                                }, $i.$eZ.delay);
                                return;
                            }
                        }
                    }
                }
            };
            this.divEvents.style.display = '';
            if (!DayPilot.list($i.multiselect.list).isEmpty()) {
                $i.multiselect.redraw();
            };
            this.$az();
            $1i.load();
        };
        this.$bQ = function($7H) {
            var $x = this.rowlist[$7H];
            if ($i.cellStacking) {
                $5L.drawEventsRow($x);
                return;
            };
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.divEvents.style.display = 'none';
            this.$as.insertBefore(this.divEvents, this.divSeparatorsAbove);
            var $7y = this.durationBarDetached ? 10 : 0;
            this.$e4($x);
            for (var j = 0; j < $x.lines.length; j++) {
                var $0v = $x.lines[j];
                for (var k = 0; k < $0v.length; k++) {
                    var e = $0v[k];
                    this.$f0(e);
                }
            };
            this.divEvents.style.display = '';
        };
        this.$ae = function() {
            if (this.elements.events) {
                var length = this.elements.events.length;
                for (var i = 0; i < length; i++) {
                    var $02 = this.elements.events[i];
                    this.$f1($02);
                }
            };
            this.elements.events = [];
        };
        this.$bP = function($7H) {
            if (this.elements.events) {
                var length = this.elements.events.length;
                var $7I = [];
                for (var i = 0; i < length; i++) {
                    var $02 = this.elements.events[i];
                    var e = $02.event;
                    if (e.part.dayIndex === $7H) {
                        this.$f1($02);
                        $7I.push(i);
                    }
                };
                for (var i = $7I.length - 1; i >= 0; i--) {
                    this.elements.events.splice($7I[i], 1);
                }
            }
        };
        this.$f1 = function($02) {
            $02.onclick = null;
            $02.oncontextmenu = null;
            $02.onmouseover = null;
            $02.onmouseout = null;
            $02.onmousemove = null;
            $02.onmousedown = null;
            $02.ondblclick = null;
            if ($02.event) {
                if (!$02.isBar) {
                    $02.event.rendered = null;
                };
                $02.event = null;
            };
            if ($02.related) {
                DayPilot.de($02.related);
            };
            if ($02.parentNode) {
                $02.parentNode.removeChild($02);
            }
        };
        this.$f2 = function($02) {
            if ($02.event) {
                $02.event.rendered = false;
            };
            $02.onclick = null;
            $02.onmousedown = null;
            $02.event = null;
            if ($02.parentNode) {
                $02.parentNode.removeChild($02);
            }
        };
        this.$f3 = function($7J) {
            if (!$7J) {
                $7J = 0;
            };
            if (this.dynamicEventRendering !== 'Progressive') {
                return;
            };
            this.divEvents.style.display = 'none';
            var $7K = [];
            var $7L = 0;
            var length = this.elements.events.length;
            for (var i = length - 1; i >= 0; i--) {
                var $02 = this.elements.events[i];
                if (this.$f4($02.event)) {
                    if ($7J > 0) {
                        $7J--;
                        $7K.unshift($02);
                    } else {
                        this.$f1($02);
                        $7L++;
                    }
                } else {
                    $7K.unshift($02);
                }
            };
            this.elements.events = $7K;
            this.divEvents.style.display = '';
        };
        this.$f5 = function($7J) {
            var $7K = [];
            var $7L = 0;
            var $J = this.$aw();
            var length = this.elements.cells.length;
            for (var i = length - 1; i >= 0; i--) {
                var $02 = this.elements.cells[i];
                var $7M = ($J.xStart < $02.coords.x && $02.coords.x <= $J.xEnd) && ($J.yStart < $02.coords.y && $02.coords.y <= $J.yEnd);
                if (!$7M) {
                    if ($7J > 0) {
                        $7J--;
                        $7K.unshift($02);
                    } else {
                        this.$d4($02);
                        $7L++;
                    }
                } else {
                    $7K.unshift($02);
                }
            }
        };
        this.$d4 = function($02) {
            if (!$02) {
                return;
            };
            var x = $02.coords.x;
            var y = $02.coords.y;
            DayPilot.rfa($i.elements.cells, $02);
            DayPilot.de($02);
            $i.$9R.cells[x + "_" + y] = null;
        };
        this.$af = function() {
            if (this.elements.separators) {
                for (var i = 0; i < this.elements.separators.length; i++) {
                    var $02 = this.elements.separators[i];
                    DayPilot.de($02);
                }
            };
            this.elements.separators = [];
        };
        this.$f6 = function() {
            var $7E = this.dynamicEventRendering === 'Progressive';
            if (!this.nav.scroll) {
                return false;
            };
            var top = this.nav.scroll.scrollTop;
            var $W = top + this.nav.scroll.clientHeight;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $x = this.rowlist[i];
                var $4m = $x.top;
                var $7F = $x.top + $x.height;
                if ($7E && ($W <= $4m || top >= $7F)) {
                    continue;
                };
                for (var j = 0; j < $x.lines.length; j++) {
                    var $0v = $x.lines[j];
                    for (var k = 0; k < $0v.length; k++) {
                        var e = $0v[k];
                        if (this.$f7(e)) {
                            return true;
                        }
                    }
                }
            };
            return false;
        };
        this.$f7 = function($q) {
            if ($q.rendered) {
                return false;
            };
            var $7E = this.dynamicEventRendering === 'Progressive';
            var $N = this.nav.scroll.scrollLeft;
            var $O = $N + this.nav.scroll.clientWidth;
            var $7N = $q.Left;
            var $7O = $q.Left + $q.Width;
            if ($7E && ($O <= $7N || $N >= $7O)) {
                return false;
            };
            return true;
        };
        this.$f4 = function(ev) {
            if (!ev.rendered) {
                return true;
            };
            var $J = this.$aw();
            var top = $J.pixels.top;
            var $W = $J.pixels.bottom;
            var $N = $J.pixels.left - this.dynamicEventRenderingMargin;
            var $O = $J.pixels.right + this.dynamicEventRenderingMargin;
            var $7N = ev.part.left;
            var $7O = ev.part.right;
            var $7P = ev.part.fullTop;
            var $7Q = ev.part.fullBottom;
            if ($O <= $7N || $N >= $7O) {
                return true;
            };
            if ($W <= $7P || top >= $7Q) {
                return true;
            };
            return false;
        };
        this.$e3 = DayPilot.list();
        this.$f8 = function($5O) {
            if ($5O.rendered) {
                return false;
            };
            var $x = $5O.row;
            if ($x.hidden) {
                return false;
            };
            var $N = $5O.min;
            var $A = $5O.max - $5O.min;
            var $R = $i.eventHeight;
            var top = $5O.row.top;
            var $02 = document.createElement("div");
            $02.style.position = 'absolute';
            $02.style.left = $N + 'px';
            $02.style.top = top + 'px';
            $02.style.width = $A + 'px';
            $02.style.height = $R + 'px';
            $02.className = $i.$aD("_event_group");
            $02.style.cursor = "pointer";
            var $l = {};
            $l.group = {};
            $l.group.count = $5O.events.length;
            $l.group.html = "[+] " + $5O.events.length + " events";
            if (typeof $i.onBeforeGroupRender === "function") {
                $i.onBeforeGroupRender($l);
            };
            var $05 = document.createElement("div");
            $05.innerHTML = $l.group.html;
            $02.appendChild($05);
            $02.onmousedown = function(ev) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $02.onclick = function(ev) {
                var $5O = $02.event;
                $5O.expanded = true;
                $i.$f2($02);
                var $7R = DayPilot.indexOf($i.elements.events, $02);
                if ($7R !== -1) {
                    $i.elements.events.splice($7R, 1);
                };
                var $Y = $i.$e3;
                DayPilot.list($5O.events).each(function(e) {
                    $Y.push(e.id());
                });
                $i.$bt();
                $i.$bu($5O.part.dayIndex);
                $i.$ac();
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $5O.part = {};
            $5O.part.left = $N;
            $5O.part.width = $A;
            $5O.part.height = $i.eventHeight;
            $5O.part.dayIndex = DayPilot.indexOf($i.rowlist, $5O.row);
            $5O.part.top = 0;
            $5O.part.isBlock = true;
            $5O.client = {};
            $5O.client.html = function() {
                return $l.group.html;
            };
            $5O.data = {};
            $02.event = $5O;
            this.elements.events.push($02);
            this.divEvents.appendChild($02);
            $5O.rendered = true;
            return true;
        };
        this.$f0 = function(e) {
            if (e.rendered) {
                return false;
            };
            if ($i.groupConcurrentEvents) {
                var $5O = e.part.block;
                if ($5O.events.length > 1 && !$5O.expanded) {
                    return $i.$f8($5O);
                }
            };
            var $7E = this.dynamicEventRendering === 'Progressive';
            var $J = this.$aw();
            var $N = $J.pixels.left - this.dynamicEventRenderingMargin;
            var $O = $J.pixels.right + this.dynamicEventRenderingMargin;
            var $7N = e.part.left;
            var $7O = e.part.left + e.part.width;
            if ($7E && ($O <= $7N || $N >= $7O)) {
                return false;
            };
            var $7H = e.part.dayIndex;
            var $A = e.part.width;
            var $R = e.part.height;
            var $0x = e.cache || e.data;
            $A = Math.max(0, $A);
            $R = Math.max(0, $R);
            var $x = this.rowlist[$7H];
            if ($x.hidden) {
                return false;
            };
            var $4m = $x.top;
            var $7S = this.durationBarDetached;
            var $02 = document.createElement("div");
            $02.related = [];
            if ($7S) {
                var $7T = e.part.barLeft;
                var $4n = e.part.barWidth;
                if (this.durationBarMode === "PercentComplete") {
                    $7T = 0;
                    $4n = ($0x.complete || 0) / 100 * $A;
                };
                var $3C = document.createElement("div");
                $3C.style.position = 'absolute';
                $3C.style.left = (e.part.left + $7T) + 'px';
                $3C.style.top = ($4m + e.part.detachedBarTop) + 'px';
                $3C.style.width = $4n + 'px';
                $3C.style.height = 5 + 'px';
                $3C.style.backgroundColor = "black";
                $3C.type = "detachedBar";
                $02.related.push($3C);
                this.divEvents.appendChild($3C);
            };
            (function drawVersions(parent) {
                if (!$i.eventVersionsEnabled) {
                    return;
                };
                DayPilot.list(e.data.versions).each(function($5Z, i) {
                    if (!$5Z) {
                        return;
                    };
                    var $7U = e.versions[i];
                    if (!$7U) {
                        return;
                    };
                    var $02 = document.createElement("div");
                    $02.style.position = 'absolute';
                    $02.style.left = $7U.left + 'px';
                    $02.style.top = ($4m + $7U.top) + 'px';
                    $02.style.width = $7U.width + 'px';
                    $02.style.height = $i.eventVersionHeight + 'px';
                    $02.className = $i.$aD($06.event) + " " + $i.$aD("_event_previous") + " " + $i.$aD("_event_version");
                    if ($5Z.toolTip) {
                        $02.title = $5Z.toolTip;
                    };
                    if ($5Z.cssClass) {
                        DayPilot.Util.addClass($02, $5Z.cssClass);
                    };
                    var $05 = document.createElement("div");
                    $05.setAttribute("unselectable", "on");
                    $05.className = $i.$aD($06.eventInner);
                    $05.innerHTML = $5Z.html || $5Z.text || "";
                    if ($5Z.backColor) {
                        $05.style.background = $5Z.backColor;
                        if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                            $05.style.filter = '';
                        }
                    };
                    if ($5Z.fontColor) {
                        $05.style.color = $5Z.fontColor;
                    };
                    if ($5Z.borderColor) {
                        $05.style.borderColor = $5Z.borderColor;
                    };
                    if ($5Z.backImage) {
                        $05.style.backgroundImage = "url(" + $5Z.backImage + ")";
                        if ($5Z.backRepeat) {
                            $05.style.backgroundRepeat = $5Z.backRepeat;
                        }
                    };
                    $02.appendChild($05);
                    if ($7U.continueLeft) {
                        DayPilot.Util.addClass($02, $i.$aD("_event_continueleft"));
                    };
                    if ($7U.continueRight) {
                        DayPilot.Util.addClass($02, $i.$aD("_event_continueright"));
                    };
                    var $4o = $i.durationBarVisible && !$5Z.barHidden;
                    var $A = $7U.width;
                    if ($4o && $A > 0) {
                        var $7T = 100 * $7U.barLeft / ($A);
                        var $4n = Math.ceil(100 * $7U.barWidth / ($A));
                        if ($i.durationBarMode === "PercentComplete") {
                            $7T = 0;
                            $4n = $5Z.complete || 0;
                        };
                        var $3C = document.createElement("div");
                        $3C.setAttribute("unselectable", "on");
                        $3C.className = $i.$aD($06.eventBar);
                        $3C.style.position = "absolute";
                        if ($5Z.barBackColor) {
                            $3C.style.backgroundColor = $5Z.barBackColor;
                        };
                        var $7V = document.createElement("div");
                        $7V.setAttribute("unselectable", "on");
                        $7V.className = $i.$aD($06.eventBarInner);
                        $7V.style.left = $7T + "%";
                        if (0 < $4n && $4n <= 1) {
                            $7V.style.width = "1px";
                        } else {
                            $7V.style.width = $4n + "%";
                        };
                        if ($5Z.barColor) {
                            $7V.style.backgroundColor = $5Z.barColor;
                        };
                        if ($5Z.barImageUrl) {
                            $7V.style.backgroundImage = "url(" + $5Z.barImageUrl + ")";
                        };
                        $3C.appendChild($7V);
                        $02.appendChild($3C);
                    };
                    if ($5Z.htmlLeft) {
                        var $5b = 5;
                        var $7W = document.createElement("div");
                        $7W.style.position = 'absolute';
                        $7W.style.right = -($7U.left - $5b) + 'px';
                        $7W.style.top = ($4m + $7U.top) + 'px';
                        $7W.style.height = $i.eventHeight + 'px';
                        $7W.style.boxSizing = "border-box";
                        $7W.innerHTML = $5Z.htmlLeft;
                        $7W.className = $i.$aD("_event_left");
                        $7W.type = "divLeft";
                        $7W.versionPart = $7U;
                        parent.related.push($7W);
                        $i.divEvents.appendChild($7W);
                    };
                    if ($5Z.htmlRight) {
                        var $5b = 5;
                        var $7X = document.createElement("div");
                        $7X.style.position = 'absolute';
                        $7X.style.left = ($7U.left + $7U.width + $5b) + 'px';
                        $7X.style.top = ($4m + $7U.top) + 'px';
                        $7X.style.height = $i.eventHeight + 'px';
                        $7X.style.boxSizing = "border-box";
                        $7X.innerHTML = $5Z.htmlRight;
                        $7X.className = $i.$aD("_event_right");
                        $7X.type = "divRight";
                        $7X.versionPart = $7U;
                        parent.related.push($7X);
                        $i.divEvents.appendChild($7X);
                    };
                    $02.versionPart = $7U;
                    $02.type = "version";
                    parent.related.push($02);
                    $i.divEvents.appendChild($02);
                });
            })($02);
            if (e.data.htmlLeft) {
                var $5b = 5;
                var $7W = document.createElement("div");
                $7W.style.position = 'absolute';
                $7W.style.right = -(e.part.left - $5b) + 'px';
                $7W.style.top = ($4m + e.part.top) + 'px';
                $7W.style.height = $i.eventHeight + 'px';
                $7W.style.boxSizing = "border-box";
                $7W.innerHTML = e.data.htmlLeft;
                $7W.className = $i.$aD("_event_left");
                $7W.type = "divLeft";
                $02.related.push($7W);
                this.divEvents.appendChild($7W);
            };
            if (e.data.htmlRight) {
                var $5b = 5;
                var $7X = document.createElement("div");
                $7X.style.position = 'absolute';
                $7X.style.left = (e.part.left + e.part.width + $5b) + 'px';
                $7X.style.top = ($4m + e.part.top) + 'px';
                $7X.style.height = $i.eventHeight + 'px';
                $7X.style.boxSizing = "border-box";
                $7X.innerHTML = e.data.htmlRight;
                $7X.className = $i.$aD("_event_right");
                $7X.type = "divRight";
                $02.related.push($7X);
                this.divEvents.appendChild($7X);
            };
            var top = $4m + e.part.top;
            $02.style.position = 'absolute';
            $02.style.left = (e.part.left + $i.eventMarginLeft) + 'px';
            $02.style.top = ($4m + e.part.top) + 'px';
            $02.style.width = ($A - $i.eventMarginLeft - $i.eventMarginRight) + 'px';
            $02.style.height = $R + 'px';
            if (!$i.eventTextWrappingEnabled) {
                $02.style.whiteSpace = 'nowrap';
            };
            $02.style.overflow = 'hidden';
            $02.className = this.$aD($06.event);
            if (e.data.type === "Milestone") {
                DayPilot.Util.addClass($02, $i.$aD("_task_milestone"));
            };
            if (e.data.type === "Group") {
                DayPilot.Util.addClass($02, $i.$aD("_task_parent"));
                DayPilot.Util.addClass($02, $i.$aD("_task_group"));
            };
            if ($0x.cssClass) {
                DayPilot.Util.addClass($02, $0x.cssClass);
            };
            var $7Y = true;
            if ($7Y && typeof e.part.line === "number") {
                DayPilot.Util.addClass($02, this.$aD($06.eventLine + e.part.line));
            };
            $02.setAttribute("unselectable", "on");
            if (this.showToolTip && !this.bubble) {
                $02.title = e.client.toolTip() || "";
            };
            $02.onmousemove = this.$f9;
            $02.onmouseout = this.$fa;
            $02.onmousedown = this.$fb;
            $02.ontouchstart = $0O.onEventTouchStart;
            $02.ontouchmove = $0O.onEventTouchMove;
            $02.ontouchend = $0O.onEventTouchEnd;
            if (e.client.clickEnabled()) {
                $02.onclick = this.$b6;
            };
            if (e.client.doubleClickEnabled()) {
                $02.ondblclick = this.$bi;
            };
            $02.oncontextmenu = this.$bh;
            var $7Z = [];
            var $80 = 0;
            var $05 = document.createElement("div");
            $05.setAttribute("unselectable", "on");
            $05.className = $i.$aD($06.eventInner);
            $05.innerHTML = e.client.innerHTML();
            if ($0x.backColor) {
                $05.style.background = $0x.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $05.style.filter = '';
                }
            };
            if ($0x.fontColor) {
                $05.style.color = $0x.fontColor;
            };
            if ($0x.borderColor) {
                $05.style.borderColor = $0x.borderColor;
            };
            if ($0x.backImage) {
                $05.style.backgroundImage = "url(" + $0x.backImage + ")";
                if ($0x.backRepeat) {
                    $05.style.backgroundRepeat = $0x.backRepeat;
                }
            };
            $02.appendChild($05);
            var $81 = e.start().getTime() === e.part.start.getTime();
            var $82 = e.rawend().getTime() === e.part.end.getTime();
            if (!$81) {
                DayPilot.Util.addClass($02, this.$aD("_event_continueleft"));
            };
            if (!$82) {
                DayPilot.Util.addClass($02, this.$aD("_event_continueright"));
            };
            if (e.client.barVisible() && $A > 0) {
                var $7T = 100 * e.part.barLeft / ($A);
                var $4n = Math.ceil(100 * e.part.barWidth / ($A));
                if (this.durationBarMode === "PercentComplete") {
                    $7T = 0;
                    $4n = $0x.complete || 0;
                };
                var $3C = document.createElement("div");
                $3C.setAttribute("unselectable", "on");
                $3C.className = this.$aD($06.eventBar);
                $3C.style.position = "absolute";
                if ($0x.barBackColor) {
                    $3C.style.backgroundColor = $0x.barBackColor;
                };
                var $7V = document.createElement("div");
                $7V.setAttribute("unselectable", "on");
                $7V.className = this.$aD($06.eventBarInner);
                $7V.style.left = $7T + "%";
                if (0 < $4n && $4n <= 1) {
                    $7V.style.width = "1px";
                } else {
                    $7V.style.width = $4n + "%";
                };
                if ($0x.barColor) {
                    $7V.style.backgroundColor = $0x.barColor;
                };
                if ($0x.barImageUrl) {
                    $7V.style.backgroundImage = "url(" + $0x.barImageUrl + ")";
                };
                $3C.appendChild($7V);
                $02.appendChild($3C);
            };
            $02.row = $7H;
            if ($0x.areas) {
                for (var i = 0; i < $0x.areas.length; i++) {
                    var $J = $0x.areas[i];
                    var v = $J.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    if ($J.start || $J.end) {
                        $J.left = $i.getPixels(new DayPilot.Date($J.start)).left - e.part.left;
                        $J.width = $i.getPixels(new DayPilot.Date($J.end)).left - $J.left - e.part.left;
                    };
                    var a = DayPilot.Areas.createArea($02, e, $J);
                    $02.appendChild(a);
                }
            };
            this.elements.events.push($02);
            this.divEvents.appendChild($02);
            e.rendered = true;
            $02.event = e;
            if ($i.multiselect.$by($02.event)) {
                $i.multiselect.add($02.event, true);
                $i.multiselect.$bx($02);
            };
            if ($i.$aq()) {
                if (typeof $i.onAfterEventRender === 'function') {
                    var $l = {};
                    $l.e = $02.event;
                    $l.div = $02;
                    $i.onAfterEventRender($l);
                }
            } else {
                if ($i.afterEventRender) {
                    $i.afterEventRender($02.event, $02);
                }
            };
            return true;
        };
        this.$aq = function() {
            return $i.api === 2;
        };
        this.$bR = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var $02 = this.elements.events[i];
                var event = $02.event;
                var $7H = event.part.dayIndex;
                var $x = this.rowlist[$7H];
                var $4m = $x.top;
                var top = $4m + event.part.top;
                $02.style.top = top + 'px';
                DayPilot.list($02.related).filter(function($00) {
                    return !!$00.versionPart;
                }).each(function($83) {
                    var $7U = $83.versionPart;
                    $83.style.top = ($4m + $7U.top) + 'px';
                });
                DayPilot.list($02.related).filter(function($00) {
                    return !$00.versionPart && ($00.type === "divLeft" || $00.type === "divRight");
                }).each(function($83) {
                    $83.style.top = top + 'px';
                });
            }
        };
        this.$cS = function(e) {
            if (!e) {
                return null;
            };
            for (var i = 0; i < $i.elements.events.length; i++) {
                var $02 = $i.elements.events[i];
                if ($02.event === e || $02.event.data === e.data) {
                    return $02;
                }
            };
            return null;
        };
        this.$fa = function(ev) {
            var $02 = this;
            DayPilot.Areas.hideAreas($02, ev);
            DayPilot.Util.removeClass($02, $i.$aD("_event_hover"));
            $i.$fc($02);
            if (!$26.source) {
                $1i.hideLinkpointsWithDelay();
            };
            if ($i.bubble && $i.eventHoverHandling === 'Bubble') {
                $i.bubble.hideOnMouseOut();
            }
        };
        this.$fd = function($02) {
            if (typeof this.onEventMouseOver === "function") {
                var $l = {};
                $l.div = $02;
                $l.e = $02.event;
                this.onEventMouseOver($l);
            }
        };
        this.$fc = function($02) {
            if (typeof this.onEventMouseOut === "function") {
                var $l = {};
                $l.div = $02;
                $l.e = $02.event;
                this.onEventMouseOut($l);
            }
        };
        this.$f9 = function(ev) {
            ev = ev || window.event;
            if ($i.cellBubble) {
                $i.cellBubble.delayedHide();
            };
            var $02 = this;
            while ($02 && !$02.event) {
                $02 = $02.parentNode;
            };
            $i.$fe($02, ev);
            var $84 = $02.event.cache ? $02.event.cache.deleteDisabled : $02.event.data.deleteDisabled;
            if (!$02.active) {
                var $5o = [];
                if ($i.eventDeleteHandling !== "Disabled" && !$84) {
                    var top = $i.durationBarVisible ? $i.durationBarHeight : 0;
                    $5o.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": top + 2,
                        "right": 2,
                        "css": $i.$aD($06.eventDelete),
                        "js": function(e) {
                            $i.$be(e);
                        }
                    });
                };
                var $Y = $02.event.cache ? $02.event.cache.areas : $02.event.data.areas;
                if ($Y && $Y.length > 0) {
                    $5o = $5o.concat($Y);
                };
                DayPilot.Areas.showAreas($02, $02.event, null, $5o);
                DayPilot.Util.addClass($02, $i.$aD("_event_hover"));
                $i.$fd($02);
            };
            if ($i.linkCreateHandling !== "Disabled" && !$26.source) {
                $1i.clearHideTimeout();
                $1i.hideLinkpoints();
                if (!DayPilotScheduler.moving && !DayPilotScheduler.resizing) {
                    $1i.showLinkpoint($02);
                }
            };
            if (ev.srcElement) {
                ev.srcElement.insideEvent = true;
            } else {
                ev.insideEvent = true;
            }
        };
        this.$ff = {};
        var $0P = this.$ff;
        this.$fb = function(ev) {
            $i.$dL();
            if (typeof DayPilot.Bubble !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            ev = ev || window.event;
            var $85 = DayPilot.Util.mouseButton(ev);
            if ($85.left) {
                var $1C = ev.shiftKey;
                if ($i.multiSelectRectangle !== "Disabled" && $1C) {
                    $0U.start();
                    return false;
                };
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    DayPilotScheduler.preventEventClick = true;
                    DayPilotScheduler.resizing = this;
                    DayPilotScheduler.originalMouse = DayPilot.mc(ev);
                    document.body.style.cursor = this.style.cursor;
                    $1i.hideLinkpoints();
                } else if ((this.style.cursor === 'move') || ($i.moveBy === 'Full' && this.event.client.moveEnabled())) {
                    $0P.start = true;
                    $0P.moving = this;
                    $0P.movingEvent = this.event;
                    $0P.originalMouse = DayPilot.mc(ev);
                    $0P.moveOffsetX = DayPilot.mo3(this, ev).x;
                    $0P.moveDragStart = $i.getDate($i.coords.x, true);
                    $1i.hideLinkpoints();
                }
            };
            DayPilot.Menu && DayPilot.Menu.active && DayPilot.Menu.active.hide();
            ev.cancelBubble = true;
            return false;
        };
        this.$fg = {};
        var $0O = $i.$fg;
        $0O.active = false;
        $0O.start = false;
        $0O.timeouts = [];
        $0O.onEventTouchStart = function(ev) {
            if ($0O.active || $0O.start) {
                return;
            };
            ev.stopPropagation();
            $0O.clearTimeouts();
            $0O.start = true;
            $0O.active = false;
            var $02 = this;
            var $86 = $i.tapAndHoldTimeout;
            $0O.timeouts.push(window.setTimeout(function() {
                $0O.active = true;
                $0O.start = false;
                $i.coords = $0O.relativeCoords(ev);
                ev.preventDefault();
                var e = $02.event;
                switch ($i.eventTapAndHoldHandling) {
                    case "Move":
                        if (e.client.moveEnabled()) {
                            var $1Z = touchMousePos(ev);
                            $0O.startMoving($02, $1Z);
                        };
                        break;
                    case "ContextMenu":
                        if (DayPilot.Menu) {
                            DayPilot.Menu.touchPosition(ev);
                        };
                        var $0T = e.client.contextMenu();
                        if ($0T) {
                            $0T.show(e);
                        } else {
                            if ($i.contextMenu) {
                                $i.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }, $86));
        };
        $0O.onEventTouchMove = function(ev) {
            $0O.clearTimeouts();
            $0O.start = false;
        };
        $0O.onEventTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            $0O.clearTimeouts();
            if ($0O.start) {
                $0O.start = false;
                ev.preventDefault();
                ev.stopPropagation();
                var $02 = this;
                window.setTimeout(function() {
                    $i.$ba($02, ev);
                });
            };
            window.setTimeout(function() {
                $0O.start = false;
                $0O.active = false;
            }, 500);
        };
        $0O.onMainTouchStart = function(ev) {
            if ($0O.active || $0O.start) {
                return;
            };
            if (ev.touches.length > 1) {
                return;
            };
            if ($i.timeRangeSelectedHandling === 'Disabled') {
                return;
            };
            $0O.clearTimeouts();
            $0O.start = true;
            $0O.active = false;
            var $86 = $i.tapAndHoldTimeout;
            $0O.timeouts.push(window.setTimeout(function() {
                $0O.active = true;
                $0O.start = false;
                ev.preventDefault();
                $i.coords = $0O.relativeCoords(ev);
                $0O.range = $i.$fh();
            }, $86));
            var $87 = true;
            if ($87) {
                $i.coords = $0O.relativeCoords(ev);
            }
        };
        $0O.onMainTouchMove = function(ev) {
            $0O.clearTimeouts();
            $0O.start = false;
            if (DayPilotScheduler.resizing) {
                ev.preventDefault();
                $0O.updateResizing();
                return;
            };
            if ($0O.active) {
                ev.preventDefault();
                $i.coords = $0O.relativeCoords(ev);
                if (DayPilotScheduler.moving) {
                    $0O.updateMoving();
                    return;
                };
                if ($0O.range) {
                    var $1r = $0O.range;
                    $1r.end = {
                        x: Math.floor($i.coords.x / $i.cellWidth)
                    };
                    $i.$c5($1r);
                }
            }
        };
        $0O.onMainTouchEnd = function(ev) {
            $0O.clearTimeouts();
            var $87 = true;
            if ($0O.active) {
                if (DayPilotScheduler.moving) {
                    ev.preventDefault();
                    var e = DayPilotScheduler.movingEvent;
                    var $0n = DayPilotScheduler.movingShadow.start;
                    var $11 = DayPilotScheduler.movingShadow.end;
                    var $16 = ($i.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
                    var external = DayPilotScheduler.drag ? true : false;
                    var $52 = DayPilotScheduler.movingShadow.overlapping;
                    var $88 = !DayPilotScheduler.movingShadow.allowed;
                    DayPilot.Util.removeClass(DayPilotScheduler.moving, $i.$aD("_event_moving_source"));
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    $i.$dB();
                    DayPilotScheduler.movingShadow.calendar = null;
                    document.body.style.cursor = '';
                    DayPilotScheduler.moving = null;
                    DayPilotScheduler.movingEvent = null;
                    DayPilotScheduler.movingShadow = null;
                    $i.$dw.clear();
                    if ($52 || $88 || $i.$dw.forbidden || $i.$dw.invalid) {
                        return;
                    };
                    $i.$bV(e, $0n, $11, $16, external);
                };
                if ($0O.range) {
                    var $1r = $0O.range;
                    $0O.range = null;
                    var $20 = $i.elements.range2;
                    if ($20 && $20.overlapping) {
                        $i.clearSelection();
                    } else {
                        $i.$c1($1r);
                    }
                }
            } else if ($0O.start && $87) {
                var $1r = $i.$fh();
                $i.$c5($1r);
                var $20 = $i.elements.range2;
                if ($20 && $20.overlapping) {
                    $i.clearSelection();
                } else {
                    $i.$c1($1r);
                }
            };
            window.setTimeout(function() {
                $0O.start = false;
                $0O.active = false;
            }, 500);
        };
        $0O.clearTimeouts = function() {
            for (var i = 0; i < $0O.timeouts.length; i++) {
                clearTimeout($0O.timeouts[i]);
            };
            $0O.timeouts = [];
        };
        $0O.relativeCoords = function(ev) {
            var $89 = $i.$as;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $8a = DayPilot.abs($89);
            var $1Z = {
                x: x - $8a.x,
                y: y - $8a.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $1Z;
        };
        $0O.startMoving = function($02, $1Z) {
            DayPilotScheduler.moving = $02;
            DayPilotScheduler.movingEvent = $02.event;
            DayPilotScheduler.originalMouse = $1Z;
            var $8b = DayPilot.abs($02);
            DayPilotScheduler.moveOffsetX = $1Z.x - $8b.x;
            DayPilotScheduler.moveDragStart = $i.getDate($i.coords.x, true);
            DayPilotScheduler.movingShadow = $i.$cM($02, $i.shadow);
            $i.$dh();
        };
        $0O.startResizing = function($02, $3g) {
            DayPilotScheduler.resizing = $02;
            DayPilotScheduler.resizing.dpBorder = $3g;
            if (!DayPilotScheduler.resizingShadow) {
                DayPilotScheduler.resizingShadow = $i.$cM($02, $i.shadow);
            };
            $i.$dx();
        };
        $0O.updateResizing = function() {
            if (!DayPilotScheduler.resizingShadow) {
                var mv = DayPilotScheduler.resizing;
                DayPilotScheduler.resizingShadow = $i.$cM(mv, $i.shadow);
            };
            $i.$dx();
        };
        $0O.updateMoving = function() {
            if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $i) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            };
            if (!DayPilotScheduler.movingShadow) {
                var mv = DayPilotScheduler.moving;
                DayPilotScheduler.movingShadow = $i.$cM(mv, $i.shadow);
            };
            DayPilotScheduler.moving.target = $i;
            $i.$dh();
        };
        this.$fe = function($02, ev) {
            var $8c = this.eventResizeMargin;
            var $8d = this.eventMoveMargin;
            var $1X = $02;
            if (typeof(DayPilotScheduler) === 'undefined') {
                return;
            };
            var $0D = DayPilot.mo3($02, ev);
            if (!$0D) {
                return;
            };
            $i.eventOffset = $0D;
            if (DayPilotScheduler.resizing) {
                return;
            };
            if (DayPilotScheduler.moving) {
                return;
            };
            var $8e = $1X.event.part.start.toString() === $1X.event.start().toString();
            var $8f = $1X.event.part.end.toString() === $1X.event.rawend().toString();
            if ($i.moveBy === 'Top' && $0D.y <= $8d && $1X.event.client.moveEnabled() && $i.eventMoveHandling !== 'Disabled') {
                $02.style.cursor = 'move';
            } else if (($i.moveBy === 'Top' || $i.moveBy === 'Full') && $0D.x <= $8c && $1X.event.client.resizeEnabled() && $i.eventResizeHandling !== 'Disabled') {
                if ($8e) {
                    $02.style.cursor = "w-resize";
                    $02.dpBorder = 'left';
                } else {
                    $02.style.cursor = 'not-allowed';
                }
            } else if ($i.moveBy === 'Left' && $0D.x <= $8d && $1X.event.client.moveEnabled() && $i.eventMoveHandling !== 'Disabled') {
                $02.style.cursor = "move";
            } else if ($02.offsetWidth - $0D.x <= $8c && $1X.event.client.resizeEnabled() && $i.eventResizeHandling !== 'Disabled') {
                if ($8f) {
                    $02.style.cursor = "e-resize";
                    $02.dpBorder = 'right';
                } else {
                    $02.style.cursor = 'not-allowed';
                }
            } else if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving) {
                if ($1X.event.client.clickEnabled() && $i.eventClickHandling !== 'Disabled') {
                    $02.style.cursor = 'pointer';
                } else {
                    $02.style.cursor = 'default';
                }
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $i.bubble && $i.eventHoverHandling === 'Bubble') {
                if ($02.style.cursor === 'default' || $02.style.cursor === 'pointer') {
                    var $8g = this.$fi && $0D.x === this.$fi.x && $0D.y === this.$fi.y;
                    if (!$8g) {
                        this.$fi = $0D;
                        $i.bubble.showEvent($02.event);
                    }
                } else {}
            }
        };
        this.$aE = function() {
            if (this.viewType !== 'Days') {
                return this.itline.length;
            } else {
                return Math.floor(24 * 60 / this.cellDuration);
            }
        };
        this.$c2 = function($1r) {
            var $1r = $1r || DayPilotScheduler.range || DayPilotScheduler.rangeHold;
            if (!$1r) {
                return null;
            };
            var $x = $i.rowlist[$1r.start.y];
            if (!$x) {
                return null;
            };
            var r = $1r.$fj ? $1r.$fj : $1r;
            var $1q = $x.id;
            var $S = r.end.x > r.start.x ? r.start.x : r.end.x;
            var $T = (r.end.x > r.start.x ? r.end.x : r.start.x);
            var $1v = 0;
            $1v = $x.start.getTime() - this.$aT().getTime();
            var $K = this.itline[$S].start.addTime($1v);
            var end = this.itline[$T].end.addTime($1v);
            return new DayPilot.Selection($K, end, $1q, $i);
        };
        this.$fk = function($1X) {
            var $8h = $1X.parentNode;
            var $8i = document.createElement('textarea');
            $8i.style.position = 'absolute';
            $8i.style.width = (($1X.offsetWidth < 100) ? 100 : ($1X.offsetWidth - 2)) + 'px';
            $8i.style.height = ($1X.offsetHeight - 2) + 'px';
            $8i.style.fontFamily = DayPilot.gs($1X, 'fontFamily') || DayPilot.gs($1X, 'font-family');
            $8i.style.fontSize = DayPilot.gs($1X, 'fontSize') || DayPilot.gs($1X, 'font-size');
            $8i.style.left = $1X.offsetLeft + 'px';
            $8i.style.top = $1X.offsetTop + 'px';
            $8i.style.border = '1px solid black';
            $8i.style.padding = '0px';
            $8i.style.marginTop = '0px';
            $8i.style.backgroundColor = 'white';
            $8i.value = DayPilot.tr($1X.event.text());
            $8i.event = $1X.event;
            $8h.appendChild($8i);
            return $8i;
        };
        this.$bc = function($1X) {
            if (!$1X) {
                return;
            };
            if (DayPilotScheduler.editing) {
                DayPilotScheduler.editing.blur();
            };
            if (!$1X.event) {
                return;
            };
            var $8i = this.$fk($1X);
            DayPilotScheduler.editing = $8i;
            DayPilot.re($8i, DayPilot.touch.start, function(ev) {
                ev.stopPropagation();
            });
            $8i.onblur = function() {
                $8i.onblur = null;
                DayPilotScheduler.editing = null;
                if ($8i.parentNode) {
                    $8i.parentNode.removeChild($8i);
                };
                if (!$1X.event) {
                    return;
                };
                var $8j = $1X.event.text();
                var $1w = $8i.value;
                $i.$cm($1X.event, $1w, $8i.canceling);
            };
            $8i.onmousedown = function(e) {
                e = e || window.event;
                e.stopPropagation && e.stopPropagation();
            };
            $8i.onkeypress = function(e) {
                var $6l = (window.event) ? event.keyCode : e.keyCode;
                if ($6l === 13) {
                    this.onblur();
                    return false;
                };
                return true;
            };
            $8i.cancel = function() {
                if (DayPilotScheduler.editing) {
                    DayPilotScheduler.editing.canceling = true;
                    DayPilotScheduler.editing.blur();
                }
            };
            $8i.onkeydown = function(e) {
                var $6l = (window.event) ? event.keyCode : e.keyCode;
                if ($6l === 27) {
                    DayPilotScheduler.editing.cancel();
                }
            };
            $8i.select();
            $8i.focus();
        };
        this.$dQ = function(ev) {
            var td = this;
            var $x = td.row;
            if (typeof(DayPilotBubble) !== 'undefined') {
                if ($i.cellBubble) {
                    $i.cellBubble.hideOnMouseOut();
                };
                if ($i.resourceBubble) {
                    var $1M = {};
                    $1M.calendar = $i;
                    $1M.id = $x.id;
                    if ($x.bubbleHtml) {
                        $1M.bubbleHtml = function() {
                            return $x.bubbleHtml;
                        }
                    };
                    $1M.toJSON = function() {
                        var $1J = {};
                        $1J.id = this.id;
                        return $1J;
                    };
                    $i.resourceBubble.showResource($1M);
                }
            }
        };
        this.$dR = function(ev) {
            var td = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $i.resourceBubble) {
                $i.resourceBubble.hideOnMouseOut();
            };
            var $02 = td.firstChild;
            DayPilot.Areas.hideAreas($02, ev);
            $02.data = null;
        };
        this.$dS = function(ev) {
            if ($5p.row) {
                $1x.cancelClick = true;
                setTimeout(function() {
                    $1x.cancelClick = false;
                }, 100);
            }
        };
        this.$a6 = function() {
            if (!this.timeHeader) {
                return;
            };
            this.$9R.timeHeader = {};
            var $7g = document.createElement("div");
            $7g.style.position = "relative";
            this.nav.timeHeader = $7g;
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $x = this.timeHeader[y];
                for (var x = 0; x < $x.length; x++) {
                    this.$fl(x, y);
                }
            };
            var $8k = this.divNorth;
            if ($8k.childNodes.length === 1) {
                $8k.replaceChild($7g, $8k.childNodes[0]);
            } else {
                $8k.innerHTML = '';
                $8k.appendChild($7g);
            };
            var $7q = this.$dl();
            $8k.style.width = ($7q + 5000) + "px";
            $i.divCorner.innerHTML = this.cornerHtml || '';
            if ($7q > 0) {
                this.divStretch.style.width = ($7q) + "px";
            }
        };
        this.$aZ = function(h, $8l) {
            var $09 = null;
            var $6s = this.$cL.locale();
            var $8l = $8l || this.cellGroupBy;
            var $0J = h.start;
            var to = h.end;
            switch ($8l) {
                case 'Hour':
                    $09 = ($i.$cL.timeFormat() === 'Clock12Hours') ? $0J.toString("h tt", $6s) : $0J.toString("H", $6s);
                    break;
                case 'Day':
                    $09 = $0J.toString($6s.datePattern);
                    break;
                case 'Week':
                    $09 = $0b.weekStarts() === 1 ? $0J.weekNumberISO() : $0J.weekNumber();
                    break;
                case 'Month':
                    $09 = $0J.toString("MMMM yyyy", $6s);
                    break;
                case 'Quarter':
                    $09 = "Q" + Math.floor($0J.getMonth() / 3 + 1);
                    break;
                case 'Year':
                    $09 = $0J.toString("yyyy");
                    break;
                case 'None':
                    $09 = '';
                    break;
                case 'Cell':
                    if (this.scale === 'Manual' || this.scale === 'CellDuration') {
                        var $0N = (h.end.ticks - h.start.ticks) / 60000;
                        $09 = this.$fm($0J, $0N);
                    } else {
                        $09 = this.$aZ(h, this.scale);
                    };
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            return $09;
        };
        this.$fm = function($K, $0N) {
            var $6s = this.$cL.locale();
            var $0N = $0N || this.cellDuration;
            if ($0N < 60) {
                return $K.toString("mm");
            } else if ($0N < 1440) {
                return $i.$cL.timeFormat() === 'Clock12Hours' ? $K.toString("h tt", $6s) : $K.toString("H", $6s);
            } else if ($0N < 10080) {
                return $K.toString("d");
            } else if ($0N === 10080) {
                return $0b.weekStarts() === 1 ? $K.weekNumberISO() : $K.weekNumber();
            } else {
                return $K.toString("MMMM yyyy", $6s);
            }
        };
        this.$aV = function($0J) {
            var $3T = this.scale;
            switch ($3T) {
                case "Cell":
                    throw "Invalid scale: Cell";
                case "Manual":
                    throw "Internal error (addScaleSize in Manual mode)";
                case "Minute":
                    return $0J.addMinutes(1);
                case "CellDuration":
                    return $0J.addMinutes(this.cellDuration);
                default:
                    return this.$aY($0J, $3T);
            }
        };
        this.$aY = function($0J, $8l) {
            var to;
            var $8m = this.viewType !== 'Days' ? this.days : 1;
            var $0s = this.startDate.addDays($8m);
            if ($i.scale === "Manual") {
                $0s = $i.$aX();
            };
            var $8l = $8l || this.cellGroupBy;
            var $8n = 60;
            switch ($8l) {
                case 'Hour':
                    if ($0J.getHours() + $0J.getMinutes() + $0J.getSeconds() + $0J.getMilliseconds() > 0) {
                        $0J = $0J.getDatePart().addHours($0J.getHours());
                    };
                    to = $0J.addHours(1);
                    break;
                case 'Day':
                    to = $0J.getDatePart().addDays(1);
                    break;
                case 'Week':
                    to = $0J.getDatePart().addDays(1);
                    while (to.dayOfWeek() !== $0b.weekStarts()) {
                        to = to.addDays(1);
                    };
                    break;
                case 'Month':
                    to = $0J.addMonths(1);
                    to = to.firstDayOfMonth();
                    var $8o = (DayPilot.DateUtil.diff(to, $0J) / (1000.0 * 60)) % $8n === 0;
                    while (!$8o) {
                        to = to.addHours(1);
                        $8o = (DayPilot.DateUtil.diff(to, $0J) / (1000.0 * 60)) % $8n === 0;
                    };
                    break;
                case "Quarter":
                    to = $0J.addMonths(1);
                    to = to.firstDayOfMonth();
                    while (to.getMonth() % 3) {
                        to = to.addMonths(1);
                    };
                    var $8o = (DayPilot.DateUtil.diff(to, $0J) / (1000.0 * 60)) % $8n === 0;
                    while (!$8o) {
                        to = to.addHours(1);
                        $8o = (DayPilot.DateUtil.diff(to, $0J) / (1000.0 * 60)) % $8n === 0;
                    };
                    break;
                case 'Year':
                    to = $0J.addYears(1);
                    to = to.firstDayOfYear();
                    var $8o = (DayPilot.DateUtil.diff(to, $0J) / (1000.0 * 60)) % $8n === 0;
                    while (!$8o) {
                        to = to.addHours(1);
                        $8o = (DayPilot.DateUtil.diff(to, $0J) / (1000.0 * 60)) % $8n === 0;
                    };
                    break;
                case 'None':
                    to = $0s;
                    break;
                case 'Cell':
                    var $P = this.$b4($0J);
                    if ($P.current) {
                        to = $P.current.end;
                    } else {
                        if ($P.past) {
                            to = $P.previous.end;
                        } else {
                            to = $P.next.start;
                        }
                    };
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            if (to.getTime() > $0s.getTime()) {
                to = $0s;
            };
            return to;
        };
        this.$fn = {};
        this.$fn.timeheadercol = "_timeheadercol";
        this.$fn.timeheadercolInner = "_timeheadercol_inner";
        this.$fn.resourcedivider = "_resourcedivider";
        this.$fn.eventFloat = "_event_float";
        this.$fn.eventFloatInner = "_event_float_inner";
        this.$fn.event = "_event";
        this.$fn.eventInner = "_event_inner";
        this.$fn.eventBar = "_event_bar";
        this.$fn.eventBarInner = "_event_bar_inner";
        this.$fn.eventDelete = "_event_delete";
        this.$fn.eventLine = "_event_line";
        this.$fn.eventMovingSource = "_event_moving_source";
        var $06 = this.$fn;
        this.$fl = function(x, y) {
            var $7g = this.nav.timeHeader;
            var p = this.timeHeader[y][x];
            var $8p = y < this.timeHeader.length - 1;
            var top = y * $0b.headerHeight();
            var $N = p.left;
            var $A = p.width;
            var $R = $0b.headerHeight();
            var $P = document.createElement("div");
            $P.style.position = "absolute";
            $P.style.top = top + "px";
            $P.style.left = $N + "px";
            $P.style.width = $A + "px";
            $P.style.height = $R + "px";
            if (p.toolTip) {
                $P.title = p.toolTip;
            };
            if (p.cssClass) {
                DayPilot.Util.addClass($P, p.cssClass);
            };
            $P.setAttribute("unselectable", "on");
            $P.style.KhtmlUserSelect = 'none';
            $P.style.MozUserSelect = 'none';
            $P.style.webkitUserSelect = 'none';
            $P.oncontextmenu = function() {
                return false;
            };
            $P.cell = {};
            $P.cell.start = p.start;
            $P.cell.end = p.end;
            $P.cell.level = y;
            $P.cell.th = p;
            $P.onclick = this.$dX;
            $P.style.overflow = 'hidden';
            if (!$i.timeHeaderTextWrappingEnabled) {
                $P.style.whiteSpace = "nowrap";
            };
            var $05 = document.createElement("div");
            $05.setAttribute("unselectable", "on");
            if (p.innerHTML) {
                $05.innerHTML = p.innerHTML;
            };
            if (p.backColor) {
                $05.style.background = p.backColor;
            };
            var cl = this.$aD($06.timeheadercol);
            var $8q = this.$aD($06.timeheadercolInner);
            if ($8p) {
                cl = this.$aD("_timeheadergroup");
                $8q = this.$aD("_timeheadergroup_inner");
            };
            DayPilot.Util.addClass($P, cl);
            DayPilot.Util.addClass($05, $8q);
            DayPilot.list(p.areas).each(function($J) {
                if ($J.start || $J.end) {
                    $J.left = $i.getPixels(new DayPilot.Date($J.start)).left - $N;
                    $J.width = $i.getPixels(new DayPilot.Date($J.end)).left - $J.left - $N;
                }
            });
            $P.appendChild($05);
            DayPilot.Areas.attach($P, p, {
                "areas": p.areas
            });
            this.$9R.timeHeader[x + "_" + y] = $P;
            $7g.appendChild($P);
        };
        this.$bt = function() {
            if ($i.cellStacking) {
                $5L.calculateEventPositions();
                return;
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $x = this.rowlist[i];
                var $7K = $x.getHeight() + $x.marginBottom + $x.marginTop;
                if ($x.height !== $7K) {
                    this.$bO = true;
                };
                $x.height = $7K;
            }
        };
        this.$aa = function() {
            var $7g = this.divHeader;
            if (!$7g) {
                return false;
            };
            var $2v = this.rowlist.length;
            var $1U = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
            var j = 0;
            for (var i = 0; i < $2v; i++) {
                var $x = this.rowlist[i];
                if ($x.hidden) {
                    continue;
                };
                var $1z = this.$dK ? i : j;
                if (!$7g.rows[$1z]) {
                    continue;
                };
                for (var c = 0; c < $7g.rows[$1z].cells.length; c++) {
                    var $8r = $7g.rows[$1z].cells[c];
                    if (this.$dK) {
                        $8r.style.top = $x.top + "px";
                    };
                    var $7m = $x.height;
                    if ($8r && $8r.firstChild && parseInt($8r.firstChild.style.height, 10) !== $7m) {
                        $8r.firstChild.style.height = $7m + "px";
                    }
                };
                j++;
            };
            if (this.$dK) {
                if ($i.nav.resScrollSpace) {
                    $i.nav.resScrollSpace.style.top = $i.$9Q + "px";
                }
            }
        };
        this.$eY = function($1z) {
            var s = this.separators[$1z];
            s.location = s.location || s.Location;
            s.color = s.color || s.Color;
            s.layer = s.layer || s.Layer;
            s.width = s.width || s.Width;
            s.opacity = s.opacity || s.Opacity;
            var $0I = new DayPilot.Date(s.location);
            var $2d = s.color;
            var $A = s.width ? s.width : 1;
            var $2g = s.layer ? s.layer === 'AboveEvents' : false;
            var $8s = s.opacity ? s.opacity : 100;
            if ($0I.getTime() < this.$aT().getTime()) {
                return;
            };
            if ($0I.getTime() >= this.$aX().getTime()) {
                return;
            };
            var $y = this.getPixels($0I);
            if ($y.cut) {
                return;
            };
            if ($y.left < 0) {
                return;
            };
            if ($y.left > this.$aE() * this.cellWidth) {
                return;
            };
            var $0v = document.createElement("div");
            $0v.style.width = $A + 'px';
            $0v.style.height = $i.$9Q + 'px';
            $0v.style.position = 'absolute';
            $0v.style.left = ($y.left - 1) + 'px';
            $0v.style.top = '0px';
            $0v.style.backgroundColor = $2d;
            $0v.style.opacity = $8s / 100;
            $0v.style.filter = "alpha(opacity=" + $8s + ")";
            if ($2g) {
                this.divSeparatorsAbove.appendChild($0v);
            } else {
                this.divSeparators.appendChild($0v);
            };
            this.elements.separators.push($0v);
        };
        this.$eR = function(ev) {
            if ($i.timeRangeDoubleClickHandling === 'Disabled') {
                return false;
            };
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            var $1r = {};
            if (!$i.coords) {
                var $89 = $i.$as;
                $i.coords = DayPilot.mo3($89, ev);
            };
            ev = ev || window.event;
            ev.stopPropagation && ev.stopPropagation();
            ev.cancelBubble = true;
            if ($i.$fo($i.coords)) {
                var $1s = $i.$c2(DayPilotScheduler.rangeHold);
                $i.$c6($1s.start, $1s.end, $1s.resource);
            } else {
                DayPilotScheduler.range = $i.$fh();
                if (DayPilotScheduler.range) {
                    DayPilotScheduler.rangeCalendar = $i;
                    var $1s = $i.$c2(DayPilotScheduler.range);
                    $i.$c6($1s.start, $1s.end, $1s.resource);
                }
            };
            DayPilotScheduler.rangeHold = DayPilotScheduler.range;
            DayPilotScheduler.range = null;
        };
        this.$eN = function(ev) {
            if ($0O.start || $0O.active) {
                return;
            };
            if (DayPilotScheduler.timeRangeTimeout && false) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            $i.$fp();
            $i.$eL();
            if (!$i.coords) {
                var $89 = $i.$as;
                $i.coords = DayPilot.mo3($89, ev);
            };
            if (DayPilotScheduler.rectangleSelect) {
                return false;
            };
            ev = ev || window.event;
            var $85 = DayPilot.Util.mouseButton(ev);
            if ($85.middle || ($85.right && $i.$fo($i.coords))) {
                return false;
            };
            var $1d = ev.ctrlKey;
            var $1e = ev.metaKey;
            var $1C = ev.shiftKey;
            var $0Z = $1d || $1e;
            var $l = {};
            $l.action = "None";
            if ($i.multiSelectRectangle !== "Disabled" && $1C) {
                $l.action = "RectangleSelect";
            } else if ($i.timeRangeSelectedHandling !== 'Disabled') {
                $l.action = "TimeRangeSelect";
            };
            $l.shift = $1C;
            $l.ctrl = $1C;
            $l.meta = $1e;
            $l.preventDefault = function() {
                $l.action = "None";
            };
            if (typeof $i.onGridMouseDown === "function") {
                $i.onGridMouseDown($l);
            };
            if ($l.action === "None") {
                return false;
            };
            if ($l.action === "RectangleSelect") {
                var $4g = {};
                $4g.start = $i.coords;
                $4g.calendar = $i;
                DayPilotScheduler.rectangleSelect = $4g;
                return false;
            };
            if ($i.allowMultiRange && !$0Z) {
                mr.clear();
            };
            var i = $i.$cD($i.coords.y).i;
            var $x = $i.rowlist[i];
            if ($x.isNewRow) {
                return false;
            };
            DayPilotScheduler.range = $i.$fh();
            if (DayPilotScheduler.range) {
                DayPilotScheduler.range.ctrl = $0Z;
                DayPilotScheduler.rangeCalendar = $i;
            };
            return false;
        };
        this.$fh = function() {
            var $1r = {};
            var cx = this.$b2($i.coords.x).x;
            $1r.start = {
                y: $i.$cD($i.coords.y).i,
                x: cx
            };
            $1r.end = {
                x: cx
            };
            if (this.$cN($i.$cD($i.coords.y).i)) {
                return null;
            };
            $1r.calendar = $i;
            $i.$c5($1r);
            return $1r;
        };
        this.$dy = function() {
            $i.$di();
            var $20 = DayPilotScheduler.resizingShadow;
            var ev = DayPilotScheduler.resizing;
            (function() {
                var $0E = $i.$fq;
                if ($0E && $0E.start.getTime() === $20.start.getTime() && $0E.end.getTime() === $i.$bm($20.end).getTime()) {
                    return;
                };
                var $l = {};
                $l.start = $20.start;
                $l.end = $i.$bm($20.end);
                $l.duration = new DayPilot.Duration($l.start, $l.end);
                $l.e = ev.event;
                $l.allowed = true;
                $l.left = {};
                $l.left.html = $l.start.toString($i.eventResizingStartEndFormat, $0b.locale());
                $l.left.enabled = $i.eventResizingStartEndEnabled;
                $l.right = {};
                $l.right.html = $l.end.toString($i.eventResizingStartEndFormat, $0b.locale());
                $l.right.enabled = $i.eventResizingStartEndEnabled;
                $l.multiresize = DayPilot.list($14.list);
                var $15 = {};
                $15.event = ev;
                $15.start = $l.start;
                $15.end = $l.end;
                $l.multiresize.splice(0, 0, $15);
                $i.$fq = $l;
                if (typeof $i.onEventResizing === 'function') {
                    $i.onEventResizing($l);
                };
                $20.allowed = $l.allowed;
                $i.$dz(DayPilotScheduler.resizingShadow, $l);
                $i.$dA(DayPilotScheduler.resizingShadow, $l);
            })();
        };
        this.$eP = function(ev) {
            if (DayPilotScheduler.rectangleSelect) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
                ev.preventDefault && ev.preventDefault();
                DayPilotScheduler.gMouseUp(ev);
                return false;
            };
            $0P = {};
        };
        this.$fr = function() {
            return DayPilotScheduler.resizing || DayPilotScheduler.moving || DayPilotScheduler.range;
        };
        this.$eO = function(ev) {
            if ($0O.active) {
                return;
            };
            DayPilotScheduler.activeCalendar = $i;
            ev = ev || window.event;
            var $8t = DayPilot.mc(ev);
            $i.coords = DayPilot.mo3($i.$as, ev);
            ev.insideMainD = true;
            if (window.event) {
                window.event.srcElement.inside = true;
            };
            if ($0P.start) {
                if ($0P.originalMouse.x !== $8t.x || $0P.originalMouse.y !== $8t.y) {
                    DayPilot.Util.copyProps($0P, DayPilotScheduler);
                    document.body.style.cursor = 'move';
                    $0P = {};
                }
            };
            if (DayPilotScheduler.resizing && DayPilotScheduler.resizing.event.calendar === $i) {
                $i.$fs();
            } else if (DayPilotScheduler.moving && (DayPilotScheduler.movingEvent.calendar === $i || DayPilotScheduler.movingEvent.calendar.dragOutAllowed)) {
                if (!DayPilotScheduler.moving.event) {
                    DayPilotScheduler.moving.event = DayPilotScheduler.movingEvent;
                };
                $i.$ft();
            } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $i) {
                $i.$fu();
            } else if ($26.source) {
                var $0j = $26.source;
                $1i.drawShadow($0j.coords, $i.coords);
            } else if (DayPilotScheduler.rectangleSelect) {
                DayPilotScheduler.rectangleSelect.moved = true;
                $0U.draw();
            };
            if ($i.crosshairType !== 'Disabled') {
                $i.$fv();
            };
            $i.$fw();
            var $8u = ev.insideEvent;
            if (window.event) {
                $8u = window.event.srcElement.insideEvent;
            };
            if ($i.cellBubble && $i.coords && $i.rowlist && $i.rowlist.length > 0 && !$8u) {
                var x = $i.$b2($i.coords.x);
                var y = $i.$cD($i.coords.y).i;
                if (0 <= y && y < $i.rowlist.length && 0 <= x && x < $i.itline.length) {
                    var $P = {};
                    $P.calendar = $i;
                    $P.start = $i.itline[x].start;
                    $P.end = $i.itline[x].end;
                    $P.resource = $i.rowlist[y].id;
                    $P.toJSON = function() {
                        var $1J = {};
                        $1J.start = this.start;
                        $1J.end = this.end;
                        $1J.resource = this.resource;
                        return $1J;
                    };
                    $i.cellBubble.showCell($P);
                }
            };
            if (DayPilotScheduler.drag) {
                $i.$fp();
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                if (!DayPilotScheduler.movingShadow && $i.coords && $i.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $8v = $i.itline[0].start;
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $8v,
                                'end': $8v.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            var $q = DayPilotScheduler.drag.data;
                            if ($q) {
                                var $7v = ['duration', 'element', 'id', 'text'];
                                for (var name in $q) {
                                    if (DayPilot.contains($7v, name)) {
                                        continue;
                                    };
                                    ev[name] = $q[name];
                                }
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $i;
                            event.part.external = true;
                        };
                        DayPilotScheduler.moving.event = event;
                        DayPilotScheduler.movingEvent = event;
                    };
                    DayPilotScheduler.movingShadow = $i.$cM(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
                };
                ev.cancelBubble = true;
            };
            if ($i.autoScroll === "Always" || ($i.autoScroll === "Drag" && (DayPilotScheduler.moving || DayPilotScheduler.resizing || DayPilotScheduler.range))) {
                var $8w = $i.nav.scroll;
                var $1Z = {
                    x: $i.coords.x,
                    y: $i.coords.y
                };
                $1Z.x -= $8w.scrollLeft;
                $1Z.x += $L.shiftX;
                $1Z.y -= $8w.scrollTop;
                var $A = $8w.clientWidth;
                var $R = $8w.clientHeight;
                var $3g = 30;
                var $N = $1Z.x < $3g ? $1Z.x : 0;
                var $O = $A - $1Z.x < $3g ? $A - $1Z.x : 0;
                var top = $1Z.y < $3g ? $1Z.y : 0;
                var $W = $R - $1Z.y < $3g ? $R - $1Z.y : 0;
                var x = 0;
                var y = 0;
                var $8x = 50;
                if ($N) {
                    x = -$8x * invertedPct($N, $3g);
                };
                if ($O) {
                    x = $8x * invertedPct($O, $3g);
                };
                if (top) {
                    y = -$8x * invertedPct(top, $3g) / 2;
                };
                if ($W) {
                    y = $8x * invertedPct(top, $3g) / 2;
                };
                if (DayPilotScheduler.resizing || DayPilotScheduler.range) {
                    y = 0;
                };
                if (x || y) {
                    $i.$fx(x, y);
                } else {
                    $i.$eL();
                }
            }
        };

        function invertedPct($6A, $z) {
            return 1 - $6A / $z;
        };
        this.$fu = function() {
            var $1r = DayPilotScheduler.range;
            $1r.end = {
                x: $i.$b2($i.coords.x).x
            };
            $i.$c5($1r);
        };
        this.$fs = function() {
            if (!DayPilotScheduler.resizingShadow) {
                DayPilotScheduler.resizingShadow = $i.$cM(DayPilotScheduler.resizing, $i.shadow);
            };
            $i.$dx();
        };
        this.$ft = function() {
            if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $i) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            };
            if (!DayPilotScheduler.movingShadow) {
                var mv = DayPilotScheduler.moving;
                DayPilotScheduler.movingShadow = $i.$cM(mv, $i.shadow);
            };
            $i.$df();
            DayPilotScheduler.moving.target = $i;
            $i.$dh();
        };
        this.$fy = {};
        var $0U = this.$fy;
        $0U.start = function() {
            var $4g = {};
            $4g.start = $i.coords;
            $4g.calendar = $i;
            DayPilotScheduler.rectangleSelect = $4g;
        };
        $0U.draw = function() {
            var $4g = DayPilotScheduler.rectangleSelect;
            var $K = DayPilotScheduler.rectangleSelect.start;
            var end = $i.coords;
            $0U.clear();
            var $0m = {
                "x": $4g.x,
                "y": $4g.y,
                "width": $4g.width,
                "height": $4g.height
            };
            var $N, top, $A, $R;
            var $S, $U, $T, $V;
            (function rectifyStartEnd() {
                $S = Math.min($K.x, end.x);
                $T = Math.max($K.x, end.x);
                if ($i.multiSelectRectangle === "Free") {
                    $U = Math.min($K.y, end.y);
                    $V = Math.max($K.y, end.y);
                } else if ($i.multiSelectRectangle === "Row") {
                    $U = $K.y;
                    $V = $K.y;
                }
            })();
            if ($i.multiSelectRectangle === "Free") {
                $N = $S;
                top = $U;
                $A = $T - $S;
                $R = $V - $U;
            } else if ($i.multiSelectRectangle === "Row") {
                var y = $i.$cD($U).i;
                var $x = $i.rowlist[y];
                top = $x.top;
                $R = $x.height;
                var $3A = $i.$b2($S).cell;
                $N = $3A.left;
                var $3B = $i.$b2($T).cell;
                $A = $3B.left + $3B.width - $N;
            } else {
                throw "Invalid DayPilot.Scheduler.multiSelectRectangle value: " + $i.multiSelectRectangle;
            };
            var $02 = DayPilot.Util.div($i.divRectangle, $N, top, $A, $R);
            $02.style.boxSizing = "border-box";
            $02.style.backgroundColor = "#0000ff";
            $02.style.border = "1px solid #000033";
            $02.style.opacity = 0.4;
            $4g.x = $N;
            $4g.y = top;
            $4g.width = $A;
            $4g.height = $R;
            if ($4g.x !== $0m.x || $4g.y !== $0m.y || $4g.width !== $0m.width || $4g.height !== $0m.height) {
                if (typeof $i.onRectangleEventSelecting === "function") {
                    var $l = {};
                    $l.events = $Q.eventsInRectangle($4g.x, $4g.y, $4g.width, $4g.height).map(function($00) {
                        return $00.event;
                    });
                    $l.start = $i.getDate($4g.x, true);
                    $l.end = $i.getDate($4g.x + $4g.width, true);
                    $i.onRectangleEventSelecting($l);
                }
            }
        };
        $0U.clear = function() {
            $i.divRectangle.innerHTML = '';
            $i.elements.rectangle = [];
        };
        this.$fz = function() {
            var x, y;
            if ($i.coords && $i.rowlist && $i.rowlist.length > 0 && $i.itline && $i.itline.length > 0) {
                x = $i.$b2($i.coords.x).x;
                y = $i.$cD($i.coords.y).i;
                if (y >= $i.rowlist.length) {
                    return;
                }
            } else {
                return null;
            };
            var $M = $i.cells.findXy(x, y);
            return $M[0];
        };
        this.$fw = function() {
            var $P = this.$fz();
            if (this.hover.cell) {
                if (this.hover.cell.x === $P.x && this.hover.cell.y === $P.y) {
                    return;
                };
                this.$eM();
            };
            this.hover.cell = $P;
            if (typeof this.onCellMouseOver === 'function') {
                var $l = {};
                $l.cell = $P;
                this.onCellMouseOver($l);
            }
        };
        this.$eM = function() {
            if (!this.hover.cell) {
                return;
            };
            if (typeof this.onCellMouseOut === 'function') {
                var $l = {};
                $l.cell = this.hover.cell;
                this.onCellMouseOut($l);
            };
            this.hover.cell = null;
        };
        this.hover = {};
        this.$fv = function() {
            var $P = this.$fz();
            if (this.hover.cell) {
                if (this.hover.cell.x === $P.x && this.hover.cell.y === $P.y) {
                    return;
                }
            };
            this.$fA();
        };
        this.$fp = function() {
            this.divCrosshair.innerHTML = '';
            this.$fB = null;
            this.$fC = null;
        };
        this.$eB = function() {
            this.$fp();
            if (this.crosshairTop && this.crosshairTop.parentNode) {
                this.crosshairTop.parentNode.removeChild(this.crosshairTop);
                this.crosshairTop = null;
            };
            if (this.crosshairLeft) {
                for (var i = 0; i < this.crosshairLeft.length; i++) {
                    var ch = this.crosshairLeft[i];
                    if (ch.parentNode) {
                        ch.parentNode.removeChild(ch);
                    }
                };
                this.crosshairLeft = null;
            };
            this.$9O = -1;
            this.$9N = -1;
        };
        this.$fA = function() {
            var x, y;
            if ($i.coords && $i.rowlist && $i.rowlist.length > 0) {
                x = $i.$b2($i.coords.x).x;
                y = $i.$cD($i.coords.y).i;
                if (y >= $i.rowlist.length) {
                    return;
                }
            } else {
                return;
            };
            var $X = this.crosshairType;
            var $x = $i.rowlist[y];
            if ($X === 'Full') {
                var $0H = this.itline[x];
                var $N = $0H.left;
                var $0v = this.$fB;
                if (!$0v) {
                    var $0v = document.createElement("div");
                    $0v.style.height = $i.$9Q + 'px';
                    $0v.style.position = 'absolute';
                    $0v.style.top = '0px';
                    $0v.style.backgroundColor = this.crosshairColor;
                    $0v.style.opacity = this.crosshairOpacity / 100;
                    $0v.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                    this.$fB = $0v;
                    this.divCrosshair.appendChild($0v);
                };
                $0v.style.left = $N + 'px';
                $0v.style.width = $0H.width + 'px';
                var top = $x.top;
                var $R = $x.height;
                var $A = this.$dl();
                var $0v = this.$fC;
                if (!$0v) {
                    var $0v = document.createElement("div");
                    $0v.style.width = $A + 'px';
                    $0v.style.height = $R + 'px';
                    $0v.style.position = 'absolute';
                    $0v.style.top = top + 'px';
                    $0v.style.left = '0px';
                    $0v.style.backgroundColor = this.crosshairColor;
                    $0v.style.opacity = this.crosshairOpacity / 100;
                    $0v.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                    this.$fC = $0v;
                    this.divCrosshair.appendChild($0v);
                };
                $0v.style.top = top + 'px';
                $0v.style.height = $R + 'px';
            };
            var $8y = this.$fD(this.coords.x);
            if ($8y && this.$9O !== $8y.x) {
                if (this.crosshairTop && this.crosshairTop.parentNode) {
                    this.crosshairTop.parentNode.removeChild(this.crosshairTop);
                    this.crosshairTop = null;
                };
                var $0v = document.createElement("div");
                $0v.style.width = $8y.cell.width + "px";
                $0v.style.height = $0b.headerHeight() + "px";
                $0v.style.left = '0px';
                $0v.style.top = '0px';
                $0v.style.position = 'absolute';
                $0v.style.backgroundColor = this.crosshairColor;
                $0v.style.opacity = this.crosshairOpacity / 100;
                $0v.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                this.crosshairTop = $0v;
                var $8k = this.divNorth;
                var $8z = this.timeHeader ? this.timeHeader.length - 1 : 1;
                if (this.nav.timeHeader) {
                    this.$9R.timeHeader[$8y.x + "_" + $8z].appendChild($0v);
                } else {
                    if ($8k.firstChild.rows[$8z].cells[x]) {
                        $8k.firstChild.rows[$8z].cells[x].firstChild.appendChild($0v);
                    }
                }
            };
            if (this.$9N !== y) {
                if (this.crosshairLeft) {
                    for (var i = 0; i < this.crosshairLeft.length; i++) {
                        var ch = this.crosshairLeft[i];
                        if (ch.parentNode) {
                            ch.parentNode.removeChild(ch);
                        }
                    };
                    this.crosshairLeft = null;
                };
                var $1U = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                this.crosshairLeft = [];
                if (this.divHeader.rows[y]) {
                    for (var i = 0; i < this.divHeader.rows[y].cells.length; i++) {
                        var $A = $i.$aG();
                        var $0v = document.createElement("div");
                        $0v.style.width = $A + "px";
                        $0v.style.height = $x.height + "px";
                        $0v.style.left = '0px';
                        $0v.style.top = '0px';
                        $0v.style.position = 'absolute';
                        $0v.style.backgroundColor = this.crosshairColor;
                        $0v.style.opacity = this.crosshairOpacity / 100;
                        $0v.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                        this.crosshairLeft.push($0v);
                        this.divHeader.rows[y].cells[i].firstChild.appendChild($0v);
                    }
                }
            };
            if ($8y) {
                this.$9O = $8y.x;
            };
            this.$9N = y;
        };
        this.$dr = function(y, $y) {
            var $x = $i.timeHeader[y];
            if (!$x) {
                return null;
            };
            for (var i = 0; i < $x.length; i++) {
                var $P = $x[i];
                if ($y >= $P.left && $y < $P.left + $P.width) {
                    var $j = {};
                    $j.cell = $P;
                    $j.x = i;
                    return $j;
                }
            };
            return null;
        };
        this.$fD = function($y) {
            return $i.$dr($i.timeHeader.length - 1, $y);
        };
        this.$eQ = function(ev) {
            ev = ev || window.event;
            if ($i.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            if ($i.timeRangeRightClickHandling === "Disabled") {
                return false;
            };
            if (!$i.$fo($i.coords)) {
                $i.$fE(ev);
            };
            var $8A = null;
            if ($i.$fo($i.coords)) {
                $8A = $i.$c2(DayPilotScheduler.rangeHold);
            } else {
                $8A = $i.$c2();
            };
            $8A.end = $i.$bm($8A.end);
            var $l = {};
            $l.start = $8A.start;
            $l.end = $8A.end;
            $l.resource = $8A.resource;
            $l.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof $i.onTimeRangeRightClick === "function") {
                $i.onTimeRangeRightClick($l);
                if ($l.preventDefault.value) {
                    return false;
                }
            };
            if ($i.timeRangeRightClickHandling === "ContextMenu" && $i.contextMenuSelection) {
                $i.contextMenuSelection.show($8A);
            };
            if (typeof $i.onTimeRangeRightClicked === "function") {
                $i.onTimeRangeRightClicked($l);
            };
            ev.cancelBubble = true;
            if (!$i.allowDefaultContextMenu) {
                return false;
            }
        };
        this.$fo = function($1Z) {
            var $1r = DayPilotScheduler.rangeHold;
            if (!$1r || !$1r.start || !$1r.end) {
                return false;
            };
            var $x = this.$cT($1r.start.y);
            var $8B = $1r.start.x < $1r.end.x;
            var $8C = ($8B ? $1r.start.x : $1r.end.x) * this.cellWidth;
            var $8D = ($8B ? $1r.end.x : $1r.start.x) * this.cellWidth + this.cellWidth;
            var $8E = $x.top;
            var $8F = $x.bottom;
            if ($1Z.x >= $8C && $1Z.x <= $8D && $1Z.y >= $8E && $1Z.y <= $8F) {
                return true;
            };
            return false;
        };
        this.$c5 = function($1r, $8G) {
            var $1r = $1r || DayPilotScheduler.range;
            if (!$1r) {
                return;
            };

            function draw($1r) {
                var $S = $1r.end.x > $1r.start.x ? $1r.start.x : $1r.end.x;
                var $T = ($1r.end.x > $1r.start.x ? $1r.end.x : $1r.start.x);
                var y = $1r.start.y;
                var $x = $i.rowlist[y];
                var $K = $i.itline[$S];
                var end = $i.itline[$T];
                var $N = $K.left;
                var $O = end.left + end.width;
                var $A = $O - $N;
                var $P = $i.elements.range2;
                if (!$P) {
                    $P = document.createElement("div");
                    $P.style.position = 'absolute';
                    $P.setAttribute("unselectable", "on");
                    $P.className = $i.$aD("_shadow");
                    var $05 = document.createElement("div");
                    $05.className = $i.$aD("_shadow_inner");
                    $P.appendChild($05);
                    $i.divRange.appendChild($P);
                };
                $P.style.left = ($K.left) + "px";
                $P.style.top = $i.rowlist[y].top + "px";
                $P.style.width = $A + "px";
                $P.style.height = ($i.rowlist[y].height - 1) + "px";
                $i.elements.range2 = $P;
                (function checkOverlap() {
                    var $x = $i.rowlist[y];
                    var $20 = $P;
                    var $N = $K.left;
                    $i.$dv($P, $x, $N, $A, null);
                })();
                return $P;
            };
            (function() {
                var $S = $1r.end.x > $1r.start.x ? $1r.start.x : $1r.end.x;
                var $T = ($1r.end.x > $1r.start.x ? $1r.end.x : $1r.start.x);
                var y = $1r.start.y;
                var $x = $i.rowlist[y];
                var $K = $i.itline[$S];
                var end = $i.itline[$T];
                var $0E = $i.$fF;
                var $8H = $K.start.addTime($x.data.offset);
                var $8I = end.end.addTime($x.data.offset);
                if (!$8G && $0E && $0E.start.getTime() === $8H.getTime() && $0E.end.getTime() === $8I.getTime() && $0E.resource === $i.rowlist[y].id) {
                    return;
                };
                var $0m = {
                    "start": $8H,
                    "end": $i.$bm($8I)
                };
                var $l = {};
                $l.start = $0m.start;
                $l.end = $0m.end;
                $l.duration = new DayPilot.Duration($0m.start, $0m.end);
                $l.resource = $i.rowlist[y].id;
                $l.allowed = true;
                $l.left = {};
                $l.left.html = $l.start.toString($i.timeRangeSelectingStartEndFormat, $0b.locale());
                $l.left.enabled = $i.timeRangeSelectingStartEndEnabled;
                $l.right = {};
                $l.right.html = $l.end.toString($i.timeRangeSelectingStartEndFormat, $0b.locale());
                $l.right.enabled = $i.timeRangeSelectingStartEndEnabled;
                $i.$fF = $l;
                if (typeof $i.onTimeRangeSelecting === 'function' && !$8G) {
                    $i.onTimeRangeSelecting($l);
                };
                var $8J = $i.$fG($1r);
                $i.$c4($8J, $l.start, $l.end);
                var $P = draw($8J);
                $i.$dz($P, $l);
                $1r.$fj = $8J;
                $1r.disabled = !$l.allowed;
                $i.$dA($P, $l);
                $l.start = $0m.start;
                $l.end = $0m.end;
            })();
        };
        this.$fG = function($1r) {
            return {
                "start": {
                    "x": $1r.start.x,
                    "y": $1r.start.y
                },
                "end": {
                    "x": $1r.end.x
                },
                "disabled": $1r.disabled
            }
        };
        this.range = {};
        this.range.all = function() {
            return mr.get();
        };
        this.$fH = {};
        var mr = this.$fH;
        this.$fH.list = [];
        this.$fH.clear = function() {
            DayPilot.de(DayPilot.list(mr.list).map(function($00) {
                return $00.div;
            }));
            mr.list = [];
        };
        this.$fH.add = function($1r) {
            $1r.div = $i.elements.range2;
            $i.elements.range2 = null;
            $i.$dB();
            mr.list.push($1r);
        };
        this.$fH.get = function() {
            return DayPilot.list(mr.list).map(function($00) {
                return $i.$c2($00);
            });
        };
        this.$fH.dispatch = function() {
            if (!$i.allowMultiRange) {
                return;
            };
            if (DayPilotScheduler.range) {
                return;
            };
            var $0E = DayPilot.list(mr.list).last();
            $i.$c1($0E);
        };
        this.$fE = function(ev) {
            if ($i.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            if ($0O.active || $0O.start) {
                return;
            };
            ev = ev || window.event;
            var $85 = DayPilot.Util.mouseButton(ev);
            if (DayPilotScheduler.range) {
                return;
            };
            if (DayPilotScheduler.rectangleSelect) {
                return;
            };
            if (DayPilotScheduler.rangeHold && $i.$fo($i.coords) && ($85.right || $85.middle)) {
                return;
            };
            if ($i.$cN($i.$cD($i.coords.y).i)) {
                return;
            };
            var $1r = {};
            var cx = $i.$b2($i.coords.x).x;
            $1r.start = {
                y: $i.$cD($i.coords.y).i,
                x: cx
            };
            $1r.end = {
                x: cx
            };
            $i.$c5($1r);
            $i.$c1($1r);
            DayPilotScheduler.rangeHold = $1r;
        };
        this.timeouts = {};
        this.timeouts.drawEvents = null;
        this.timeouts.drawCells = null;
        this.timeouts.click = null;
        this.$ap = function(ev) {
            $i.$9Y();
            if ($L.isEnabled() && !$L.active && $i.$bM && $i.cellWidthSpec != "Auto") {
                if ($i.nav.scroll.scrollLeft < $i.$9L) {
                    $L.active = true;
                    setTimeout(function() {
                        $L.shiftStart(-$i.$9M);
                    }, 100);
                } else if ($i.nav.scroll.scrollWidth - ($i.nav.scroll.scrollLeft + $i.nav.scroll.clientWidth) < $i.$9L) {
                    $L.active = true;
                    setTimeout(function() {
                        $L.shiftStart($i.$9M);
                    }, 100);
                }
            };
            if ($i.dynamicLoading) {
                $i.$fI();
                return;
            };
            var $8K = $i.nav.scroll;
            $i.$dp = $8K.scrollLeft;
            $i.$do = $8K.scrollTop;
            $i.$dq = $8K.clientWidth;
            $i.divTimeScroll.scrollLeft = $i.$dp;
            $i.divResScroll.scrollTop = $i.$do;
            if ($i.timeouts.drawEvents) {
                clearTimeout($i.timeouts.drawEvents);
                $i.timeouts.drawEvents = null;
            };
            if ($i.scrollDelayEvents > 0) {
                $i.timeouts.drawEvents = setTimeout($i.$fJ(), $i.scrollDelayEvents);
            } else {
                $i.$aj();
            };
            if ($i.timeouts.drawCells) {
                clearTimeout($i.timeouts.drawCells);
                $i.timeouts.drawCells = null;
            };
            if ($i.scrollDelayCells > 0) {
                $i.timeouts.drawCells = setTimeout($i.$fK(), $i.scrollDelayCells);
            } else {
                var f = $i.$fK();
                f();
            };
            if ($i.timeouts.updateFloats) {
                clearTimeout($i.timeouts.updateFloats);
                $i.timeouts.updateFloats = null;
            };
            if ($i.scrollDelayFloats > 0) {
                $i.timeouts.updateFloats = setTimeout(function() {
                    $i.$an();
                }, $i.scrollDelayFloats);
            } else {
                $i.$an();
            };
            $i.onScrollCalled = true;
        };
        this.$fK = function() {
            return function() {
                $i.$am();
                $i.$ah();
            };
        };
        this.$fJ = function() {
            var $1m = true;
            var $8L = $i.dynamicEventRenderingCacheSweeping;
            var $8M = $i.dynamicEventRenderingCacheSize;
            return function() {
                if ($i.$f6()) {
                    window.setTimeout(function() {
                        if ($8L) $i.$f3($8M);
                        window.setTimeout(function() {
                            $i.$aj($1m);
                        }, 50);
                    }, 50);
                } else {
                    $i.$az();
                }
            };
        };
        this.$9Y = function() {
            this.$9R.eventHeight = null;
            this.$9R.drawArea = null;
        };
        this.show = function() {
            this.visible = true;
            $i.nav.top.style.display = '';
            this.$a8();
            this.$a9();
            $i.$ap();
        };
        this.hide = function() {
            this.visible = false;
            $i.nav.top.style.display = 'none';
        };
        this.$fI = function() {
            var $8K = $i.nav.scroll;
            $i.$dp = $8K.scrollLeft;
            $i.$do = $8K.scrollTop;
            $i.$dq = $8K.clientWidth;
            $i.divTimeScroll.scrollLeft = $i.$dp;
            $i.divResScroll.scrollTop = $i.$do;
            if ($i.refreshTimeout) {
                window.clearTimeout($i.refreshTimeout);
            };
            var $0a = $i.scrollDelayDynamic;
            $i.refreshTimeout = window.setTimeout($i.$fL($8K.scrollLeft, $8K.scrollTop), $0a);
            $i.$an();
        };
        this.$fM = function(e) {
            var $8N = e.id;
            var $33 = new DayPilot.Date(e.start).toString();
            for (var j = 0; j < this.events.list.length; j++) {
                var ex = this.events.list[j];
                var $8O = ex.id;
                if ($8O === $8N) {
                    if (DayPilot.Util.isNullOrUndefined($8N) && !DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)) {
                        var $8P = new DayPilot.Date(ex.start).toString();
                        if (ex.recurrentMasterId !== e.recurrentMasterId || $33 !== $8P) {
                            continue;
                        }
                    };
                    var $j = {};
                    $j.ex = ex;
                    $j.index = j;
                    $j.modified = !$i.$fN(e, ex);
                    return $j;
                }
            };
            return null;
        };
        this.$fN = function($0K, $8Q) {
            for (var name in $0K) {
                if (typeof $0K[name] === 'object' && !($0K[name] instanceof DayPilot.Date)) {
                    continue;
                };
                if ($0K[name] !== $8Q[name]) {
                    return false;
                }
            };
            for (var name in $8Q) {
                if (typeof $8Q[name] === 'object') {
                    continue;
                };
                if ($0K[name] !== $8Q[name]) {
                    return false;
                }
            };
            return true;
        };
        this.$ak = function($5B, $8R) {
            var $5y = [];
            for (var i = 0; i < $5B.length; i++) {
                var e = $5B[i];
                var $5C = $i.$fM(e);
                var $27 = $5C && $5C.modified;
                var $5A = !$5C;
                if ($27) {
                    this.events.list[$5C.index] = e;
                    var $1b = $i.events.$bq($5C.ex);
                    $5y = $5y.concat($1b);
                } else if ($5A) {
                    this.events.list.push(e);
                };
                if ($27 || $5A) {
                    $5y = $5y.concat($i.events.$br(e));
                }
            };
            $i.$bs($5y);
            $i.$bt();
            $i.$a7();
            $i.$ac();
            var $8S = false;
            if ($8S) {
                $i.$bu($5y, false, $8R);
            } else {
                $i.$ae();
                $i.$ad();
                $i.$aa();
                $i.$ah();
                $i.$aj();
            }
        };
        this.$fL = function(scrollX, scrollY) {
            if (!$i.$aM()) {
                return function() {
                    if (typeof $i.onScroll === 'function') {
                        var $27 = function($Z) {
                            var $8R = function() {
                                if ($i.$aq()) {
                                    if (typeof $i.onAfterRender === 'function') {
                                        var $l = {};
                                        $l.isCallBack = false;
                                        $l.isScroll = true;
                                        $l.data = null;
                                        $i.onAfterRender($l);
                                    }
                                }
                            };
                            $i.$ak($Z, $8R);
                        };
                        var $l = {};
                        $l.viewport = $i.getViewPort();
                        $l.async = false;
                        $l.events = [];
                        $l.loaded = function() {
                            if (this.async) {
                                $27(this.events);
                            }
                        };
                        $i.onScroll($l);
                        if (!$l.async) {
                            $27($l.events);
                        }
                    }
                };
            } else {
                return function() {
                    $i.scrollX = scrollX;
                    $i.scrollY = scrollY;
                    $i.$b9('Scroll');
                };
            }
        };
        this.$fO = function() {
            var $J = this.$aw();
            var $8T = $J.xStart;
            var $8U = $J.xEnd - $J.xStart;
            var $3u = $J.yStart;
            var $8V = $J.yEnd - $J.yStart;
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            for (var i = 0; i <= $8U; i++) {
                var x = $8T + i;
                for (var j = 0; j < $8V; j++) {
                    var y = $3u + j;
                    if (!this.rowlist[y].hidden) {
                        this.$d5(x, y);
                    }
                };
                this.$fP(x);
            };
            var $8W = this.$dE();
            for (var y = $8W.start; y < $8W.end; y++) {
                if (!this.rowlist[y].hidden) {
                    this.$fQ(y);
                }
            }
        };
        this.$ah = function() {
            if ($i.progressiveRowRendering) {
                this.$bJ();
            };
            if (this.rowlist !== null && this.rowlist.length > 0) {
                var $8X = this.cellSweeping;
                if ($8X) {
                    var $8M = this.cellSweepingCacheSize;
                    this.$f5($8M);
                };
                this.$fO();
                this.$fR();
                $1x.$e9();
            };
            var $A = this.$dl();
            this.$as.style.height = this.$9Q + "px";
            this.$as.style.width = $A + "px";
            if ($i.cellWidthSpec === "Auto" && !$i.$aP) {
                $i.nav.scroll.style.overflowX = "hidden";
                $i.nav.scroll.scrollLeft = 0;
            } else {
                $i.nav.scroll.style.overflowX = "auto";
            };
            this.$bO = false;
        };
        this.$fR = function() {
            var $J = this.$aw();
            for (var x = $J.xStart; x < $J.xEnd; x++) {
                var $8Y = (x < this.itline.length - 1) ? this.itline[x + 1].breakBefore : false;
                if ($8Y) {
                    this.$fS(x);
                }
            }
        };
        this.$fS = function(x) {
            var $1z = "x" + x;
            if (this.$9R.breaks[$1z]) {
                return;
            };
            var $N = this.itline[x + 1].left - 1;
            var $R = this.$9Q;
            var $0v = document.createElement("div");
            $0v.style.left = $N + "px";
            $0v.style.top = "0px";
            $0v.style.width = "1px";
            $0v.style.height = $R + "px";
            $0v.style.fontSize = '1px';
            $0v.style.lineHeight = '1px';
            $0v.style.overflow = 'hidden';
            $0v.style.position = 'absolute';
            $0v.setAttribute("unselectable", "on");
            $0v.className = this.$aD("_matrix_vertical_break");
            this.divBreaks.appendChild($0v);
            this.elements.breaks.push($0v);
            this.$9R.breaks[$1z] = $0v;
        };
        this.$aw = function() {
            if ($i.$9R.drawArea) {
                return $i.$9R.drawArea;
            };
            if (!this.nav.scroll) {
                return null;
            };
            var $8Z = $i.$do;
            var $J = {};
            var $90 = this.dynamicEventRenderingMargin;
            var $90 = this.dynamicEventRenderingMarginX != null ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin;
            var $91 = this.dynamicEventRenderingMarginY != null ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin;
            var $N = $i.$dp - $90 - $L.shiftX;
            var $O = $N + $i.$dq + 2 * $90;
            var $K = 0;
            var end = 0;
            if ($i.itline && $i.itline.length > 0) {
                $K = $i.$b2($N).x;
                end = $i.$b2($O, true).x;
                var $3x = this.$aE();
                end = Math.min(end, $3x);
                $K = Math.max($K, 0);
            };
            var top = $8Z - $91;
            var $W = $8Z + this.nav.scroll.offsetHeight + 2 * $91;
            var $3u = this.$cD(top).i;
            var $3v = this.$cD($W).i;
            if ($3v < this.rowlist.length) {
                $3v++;
            };
            $J.xStart = $K;
            $J.xEnd = end;
            $J.yStart = $3u;
            $J.yEnd = $3v;
            $J.pixels = {};
            $J.pixels.left = this.nav.scroll.scrollLeft - $L.shiftX;
            $J.pixels.right = this.nav.scroll.scrollLeft - $L.shiftX + this.nav.scroll.clientWidth;
            $J.pixels.top = this.nav.scroll.scrollTop;
            $J.pixels.bottom = this.nav.scroll.scrollTop + this.nav.scroll.clientHeight;
            $J.pixels.width = this.nav.scroll.scrollWidth;
            $i.$9R.drawArea = $J;
            return $J;
        };
        this.$dl = function() {
            var $j = 0;
            var $0E = this.itline[this.itline.length - 1];
            if (!$0E) {
                $j = 0;
            } else {
                $j = $0E.left + $0E.width;
            };
            if ($j < 0 || isNaN($j)) {
                $j = 0;
            };
            return $j;
        };
        this.$fQ = function(y) {
            var $1z = "y" + y;
            if (this.$9R.linesHorizontal[$1z]) {
                return;
            };
            var top = this.rowlist[y].top + this.rowlist[y].height - 1;
            var $A = this.$dl();
            var $0v = document.createElement("div");
            $0v.style.left = "0px";
            $0v.style.top = top + "px";
            $0v.style.width = $A + "px";
            $0v.style.height = "1px";
            $0v.style.fontSize = '1px';
            $0v.style.lineHeight = '1px';
            $0v.style.overflow = 'hidden';
            $0v.style.position = 'absolute';
            $0v.setAttribute("unselectable", "on");
            $0v.className = this.$aD("_matrix_horizontal_line");
            this.divLines.appendChild($0v);
            this.$9R.linesHorizontal[$1z] = $0v;
        };
        this.$fP = function(x) {
            var $0H = this.itline[x];
            if (!$0H) {
                return;
            };
            var $1z = "x" + x;
            if (this.$9R.linesVertical[$1z]) {
                return;
            };
            var $N = $0H.left + $0H.width - 1;
            var $0v = document.createElement("div");
            $0v.style.left = $N + "px";
            $0v.style.top = "0px";
            $0v.style.width = "1px";
            $0v.style.height = $i.$9Q + "px";
            $0v.style.fontSize = '1px';
            $0v.style.lineHeight = '1px';
            $0v.style.overflow = 'hidden';
            $0v.style.position = 'absolute';
            $0v.setAttribute("unselectable", "on");
            $0v.className = this.$aD("_matrix_vertical_line");
            this.divLines.appendChild($0v);
            this.elements.linesVertical.push($0v);
            this.$9R.linesVertical[$1z] = $0v;
        };
        this.$dg = function($1z) {
            var $x = this.rowlist[$1z];
            var $92 = !$x.expanded;
            $x.expanded = $92;
            if ($x.resource) {
                $x.resource.expanded = $92;
            };
            var $1b = this.$fT($1z, $x.expanded);
            if (!$92) {
                for (var i = 0; i < $1b.length; i++) {
                    var ri = $1b[i];
                    this.$bP(ri);
                }
            };
            this.$a7();
            this.$a5();
            this.$ac();
            this.$9Y();
            if ($92) {
                for (var i = 0; i < $1b.length; i++) {
                    var ri = $1b[i];
                    this.$bQ(ri);
                };
                this.$az();
            };
            this.$bR();
            $1i.load();
            this.$ad();
            this.$ah();
            this.$aj();
            this.$am();
            var r = this.$ce($x, $1z);
            if ($92) {
                this.$cl(r);
            } else {
                this.$ck(r);
            };
            this.$9Y();
        };
        this.$dW = function(i) {
            var $0W = {};
            $0W.index = i;
            if (typeof this.onLoadNode === 'function') {
                var $l = {};
                var $1q = this.rowlist[i].resource;
                $l.resource = $1q;
                $l.async = false;
                $l.loaded = function() {
                    if (this.async) {
                        $1q.dynamicChildren = false;
                        $1q.expanded = true;
                        $i.update();
                    }
                };
                this.onLoadNode($l);
                if (!$l.async) {
                    $1q.dynamicChildren = false;
                    $1q.expanded = true;
                    this.update();
                }
            } else {
                this.$b9('LoadNode', $0W);
            }
        };
        this.$fT = function(i, $93) {
            var $x = this.rowlist[i];
            var $71 = [];
            if ($x.children === null || $x.children.length === 0) {
                return $71;
            };
            for (var k = 0; k < $x.children.length; k++) {
                var $1z = $x.children[k];
                var $94 = this.rowlist[$1z];
                var $7M = $93 && $x.expanded && !$94.$em;
                $94.hidden = !$7M;
                if ($93 === !$94.hidden) {
                    $71.push($1z);
                };
                var $95 = this.$fT($1z, $93);
                if ($95.length > 0) {
                    $71 = $71.concat($95);
                }
            };
            return $71;
        };
        this.$fx = function($96, $97) {
            this.$eL();
            this.$fU($96, $97);
        };
        this.$fV = function($F) {
            if (!$F) {
                return false;
            };
            var $0e = this.nav.scroll.scrollWidth;
            var $K = this.nav.scroll.scrollLeft;
            var $A = this.nav.scroll.clientWidth;
            var $O = $K + $A;
            if ($F < 0 && $K <= 0) {
                return false;
            };
            if ($F > 0 && $O >= $0e) {
                return false;
            };
            this.nav.scroll.scrollLeft += $F;
            $i.coords.x += $F;
            $i.$fW();
            return true;
        };
        this.$fX = function($F) {
            if (!$F) {
                return false;
            };
            var $0e = this.nav.scroll.scrollHeight;
            var $K = this.nav.scroll.scrollTop;
            var $R = this.nav.scroll.clientHeight;
            var $W = $K + $R;
            if ($F < 0 && $K <= 0) {
                return false;
            };
            if ($F > 0 && $W >= $0e) {
                return false;
            };
            this.nav.scroll.scrollTop += $F;
            $i.coords.y += $F;
            $i.$fW();
            return true;
        };
        this.$fW = function() {
            if (DayPilotScheduler.resizing && DayPilotScheduler.resizing.event.calendar === $i) {
                $i.$fs();
            } else if (DayPilotScheduler.moving && (DayPilotScheduler.movingEvent.calendar === $i || DayPilotScheduler.movingEvent.calendar.dragOutAllowed)) {
                if (!DayPilotScheduler.moving.event) {
                    DayPilotScheduler.moving.event = DayPilotScheduler.movingEvent;
                };
                $i.$ft();
            } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $i) {
                $i.$fu();
            }
        };
        this.$fU = function($96, $97) {
            var $98 = this.$fV($96) || this.$fX($97);
            if (!$98) {
                return;
            };
            var $99 = function($96, $97) {
                return function() {
                    $i.$fU($96, $97);
                };
            };
            this.$fY = window.setTimeout($99($96, $97), 100);
        };
        this.$eL = function() {
            if ($i.$fY) {
                window.clearTimeout($i.$fY);
                $i.$fY = null;
            }
        };
        this.$a7 = function() {
            var top = 0;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $x = this.rowlist[i];
                if (!$x.hidden) {
                    $x.top = top;
                    top += $x.height;
                }
            };
            this.$9Q = top;
        };
        this.$ad = function() {
            this.elements.cells = [];
            this.elements.linesVertical = [];
            this.elements.breaks = [];
            this.$9R.cells = [];
            this.$9R.linesVertical = {};
            this.$9R.linesHorizontal = {};
            this.$9R.breaks = [];
            this.divCells.innerHTML = '';
            this.divLines.innerHTML = '';
            this.divBreaks.innerHTML = '';
        };
        this.$bS = function(y) {
            var $Y = DayPilot.list();
            for (var name in $i.$9R.cells) {
                $Y.push($i.$9R.cells[name]);
            };
            $Y.filter(function($00) {
                return $00 && $00.coords && $00.coords.y === y;
            }).each(function($00) {
                $i.$d4($00);
            });
        };
        this.$fZ = 0;
        this.$g0 = ['html', 'cssClass', 'backColor', 'backImage', 'backRepeat', 'business', 'areas'];
        this.$d5 = function(x, y) {
            if (!this.$bM) {
                return;
            };
            var $0H = $i.$bb(x);
            if (!$0H) {
                return;
            };
            var $1z = x + '_' + y;
            if (this.$9R.cells[$1z]) {
                return;
            };
            var p = this.$d6(x, y);
            $i.$ds(x, y);
            if (!this.drawBlankCells) {
                var $9a = false;
                if (this.$dd(y)) {
                    $9a = false;
                } else if (!this.$g1(p, $i.$g0)) {
                    $9a = true;
                };
                if ($9a) {
                    return;
                }
            };
            var $P = document.createElement("div");
            $P.style.left = ($0H.left) + "px";
            $P.style.top = this.rowlist[y].top + "px";
            $P.style.width = ($0H.width) + "px";
            $P.style.height = (this.rowlist[y].height) + "px";
            $P.style.position = 'absolute';
            if (p && p.backColor) {
                $P.style.backgroundColor = p.backColor;
            };
            $P.setAttribute("unselectable", "on");
            $P.className = this.$aD('_cell');
            $P.coords = {};
            $P.coords.x = x;
            $P.coords.y = y;
            if (this.$dd(y)) {
                DayPilot.Util.addClass($P, this.$aD("_cellparent"));
            };
            if (p) {
                if (p.cssClass) {
                    DayPilot.Util.addClass($P, p.cssClass);
                };
                if (!DayPilot.Util.isNullOrUndefined(p.html)) {
                    $P.innerHTML = p.html;
                };
                if (p.backImage) {
                    $P.style.backgroundImage = "url(\"" + p.backImage + "\")";
                };
                if (p.backRepeat) {
                    $P.style.backgroundRepeat = p.backRepeat;
                };
                if (p.business && $i.cellsMarkBusiness) {
                    DayPilot.Util.addClass($P, $i.$aD("_cell_business"));
                };
                DayPilot.list(p.areas).each(function($J) {
                    if ($J.start || $J.end) {
                        $J.left = $i.getPixels(new DayPilot.Date($J.start)).left - $0H.left;
                        $J.width = $i.getPixels(new DayPilot.Date($J.end)).left - $J.left - $0H.left;
                    }
                });
                var c = $i.cells.findXy(x, y)[0];
                DayPilot.Areas.attach($P, c, {
                    "areas": p.areas
                });
            };
            $P.onmouseup = this.$eP;
            this.divCells.appendChild($P);
            this.elements.cells.push($P);
            this.$9R.cells[$1z] = $P;
        };
        this.$ds = function(x, y) {
            if (typeof this.onBeforeCellRender === 'function') {
                var $0H = $i.$bb(x);
                if (!$0H) {
                    return;
                };
                var $P = $i.cells.findXy(x, y)[0];
                var $l = {};
                $l.cell = $P;
                $l.getPixels = function($u) {
                    var $u = new DayPilot.Date($u);
                    var $9b = $i.getPixels($u).left;
                    return $9b - $0H.left;
                };
                this.onBeforeCellRender($l);
                DayPilot.Util.copyProps($l.cell, $l.cell.properties, $i.$g0);
                return $l;
            }
        };
        this.$g1 = function($1X, $28) {
            if ($28) {
                for (var i = 0; i < $28.length; i++) {
                    if (!DayPilot.Util.isNullOrUndefined($1X[$28[i]])) {
                        return true;
                    }
                }
            } else {
                for (var name in $1X) {
                    if (!DayPilot.Util.isNullOrUndefined($1X[name])) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.clearSelection = function() {
            this.$al();
            mr.clear();
        };
        this.cleanSelection = this.clearSelection;
        this.$bX = function() {
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.movingShadow = null;
            $i.$dB();
            $i.$dw.clear();
        };
        this.$al = function() {
            this.divRange.innerHTML = '<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';
            this.elements.range = [];
            this.elements.range2 = null;
            this.$dB();
            DayPilotScheduler.rangeHold = null;
        };
        this.$cL = {};
        var $0b = this.$cL;
        $0b.locale = function() {
            return DayPilot.Locale.find($i.locale);
        };
        $0b.timeFormat = function() {
            if ($i.timeFormat !== 'Auto') {
                return $i.timeFormat;
            };
            return $0b.locale().timeFormat;
        };
        $0b.weekStarts = function() {
            if ($i.weekStarts === 'Auto') {
                var $6s = $0b.locale();
                if ($6s) {
                    return $6s.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $i.weekStarts;
            }
        };
        $0b.rounded = function() {
            return $i.eventCorners === 'Rounded';
        };
        $0b.layout = function() {
            var $9c = /MSIE 6/i.test(navigator.userAgent);
            if ($i.layout === 'Auto') {
                if ($9c) {
                    return 'TableBased';
                } else {
                    return 'DivBased';
                }
            };
            return $i.layout;
        };
        $0b.notifyType = function() {
            var $X;
            if ($i.notifyCommit === 'Immediate') {
                $X = "Notify";
            } else if ($i.notifyCommit === 'Queue') {
                $X = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $i.notifyCommit;
            };
            return $X;
        };
        $0b.isResourcesView = function() {
            return $i.viewType !== 'Days';
        };
        $0b.useBox = function($9d) {
            if ($i.useEventBoxes === 'Always') {
                return true;
            };
            if ($i.useEventBoxes === 'Never') {
                return false;
            };
            return $9d < $i.cellDuration * 60 * 1000;
        };
        $0b.eventHeight = function() {
            if ($i.$9R.eventHeight) {
                return $i.$9R.eventHeight;
            };
            var $R = $i.$eU("_event_height").height;
            if (!$R) {
                $R = $i.eventHeight;
            };
            $i.$9R.eventHeight = $R;
            return $R;
        };
        $0b.headerHeight = function() {
            if ($i.$9R.headerHeight) {
                return $i.$9R.headerHeight;
            };
            var $R = $i.$eU("_header_height").height;
            if (!$R) {
                $R = $i.headerHeight;
            };
            $i.$9R.headerHeight = $R;
            return $R;
        };
        $0b.splitterWidth = function() {
            if ($i.rowHeaderScrolling) {
                return $i.rowHeaderSplitterWidth;
            };
            return 1;
        };
        this.$g2 = function(x, y) {
            var $1z = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$1z]) {
                return this.cellProperties[$1z].backColor;
            };
            return null;
        };
        this.$d6 = function(x, y) {
            var $1z = x + '_' + y;
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            if (this.cellProperties[$1z]) {
                return this.cellProperties[$1z];
            };
            if (this.$9H) {
                this.cellProperties[$1z] = $i.$g3(x, y);
            };
            if (!this.cellProperties[$1z]) {
                var $x = $i.rowlist[y];
                var $1q = $x.id;
                var $1v = $x.start.getTime() - $i.$aT().getTime();
                var $0H = $i.$bb(x);
                var $K = $0H.start.addTime($1v);
                var end = $0H.end.addTime($1v);
                var $9e = {};
                $9e.start = $K;
                $9e.end = end;
                $9e.resource = $1q;
                var $P = {};
                $P.business = $i.isBusiness($9e);
                this.cellProperties[$1z] = $P;
            };
            return this.cellProperties[$1z];
        };
        this.$g4 = function($1A, x, y) {
            var $1z = x + '_' + y;
            this.cellProperties[$1z] = {};
            DayPilot.Util.copyProps($1A, this.cellProperties[$1z], $i.$g0);
            return this.cellProperties[$1z];
        };
        this.$g3 = function(x, y) {
            if (!this.cellConfig) {
                return null;
            };
            var $9f = this.cellConfig;
            var $P = this.cellProperties[x + "_" + y];
            if (!$P && $9f.vertical) {
                $P = this.cellProperties[x + "_0"];
            };
            if (!$P && $9f.horizontal) {
                $P = this.cellProperties["0_" + y];
            };
            if (!$P && $9f["default"]) {
                $P = $9f["default"];
            };
            var $8J = {};
            DayPilot.Util.copyProps($P, $8J, $i.$g0);
            return $8J;
        };
        this.$a3 = function() {
            if (this.$9H) {
                return;
            };
            if (this.$9I) {
                return;
            };
            this.$9I = true;
            if (!this.cellConfig) {
                return;
            };
            var $9f = this.cellConfig;
            if ($9f.vertical) {
                for (var x = 0; x < $9f.x; x++) {
                    var $9g = this.cellProperties[x + "_0"];
                    if (!$9g) {
                        continue;
                    };
                    for (var y = 1; y < $9f.y; y++) {
                        this.$g4($9g, x, y);
                    }
                }
            };
            if ($9f.horizontal) {
                for (var y = 0; y < $9f.y; y++) {
                    var $9g = this.cellProperties["0_" + y];
                    if (!$9g) {
                        continue;
                    };
                    for (var x = 1; x < $9f.x; x++) {
                        this.$g4($9g, x, y);
                    }
                }
            };
            if ($9f["default"]) {
                var $9g = $9f["default"];
                for (var y = 0; y < $9f.y; y++) {
                    for (var x = 0; x < $9f.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.$g4($9g, x, y);
                        }
                    }
                }
            }
        };
        this.isBusiness = function($P) {
            var $K = $P.start;
            var end = $P.end;
            var $8n = (end.getTime() - $K.getTime()) / (1000 * 60);
            if ($8n <= 1440) {
                if ($i.viewType !== "Days" && !$i.businessWeekends) {
                    if ($P.start.dayOfWeek() === 0 || $P.start.dayOfWeek() === 6) {
                        return false;
                    }
                }
            };
            if ($8n < 720) {
                var $9h = $K.getHours();
                $9h += $K.getMinutes() / 60.0;
                $9h += $K.getSeconds() / 3600.0;
                $9h += $K.getMilliseconds() / 3600000.0;
                if ($9h < this.businessBeginsHour) {
                    return false;
                };
                if (this.businessEndsHour >= 24) {
                    return true;
                };
                if ($9h >= this.businessEndsHour) {
                    return false;
                }
            };
            return true;
        };
        this.$a8 = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$dH = function() {
            var el = $i.nav.top;
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$g5 = function() {
            var $7M = $i.$dH;
            if (!$7M()) {
                $i.debug.message("Not visible during init, starting visibilityInterval");
                $i.$g6 = setInterval(function() {
                    if ($7M()) {
                        $i.debug.message("Made visible, calling .show()");
                        $i.show();
                        $i.$dG();
                        clearInterval($i.$g6);
                    }
                }, 100);
            }
        };
        this.$g7 = function($y) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            this.height = $y - (this.$aF() + 2);
            this.$ac();
        };
        this.setHeight = this.$g7;
        this.$au = function(id) {
            for (var i = 0; i < this.rowlist.length; i++) {
                if (this.rowlist[i].id === id) {
                    return this.rowlist[i];
                }
            };
            return null;
        };
        this.$es = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Scheduler: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$g8 = function() {
            this.$eT();
            this.$a2();
            this.$a9();
            this.$eW();
            this.$cH();
            DayPilotScheduler.register(this);
            this.$9W(this.afterRenderData, false);
            this.$eX();
            this.$g5();
            this.$9V();
            this.$b9("Init");
        };
        this.init = function() {
            this.$g9();
        };
        this.$g9 = function() {
            this.$es();
            if (this.nav.top.dp) {
                return;
            };
            this.$er();
            var $9i = this.$cU();
            if ($9i) {
                this.$g8();
                this.$bM = true;
                this.$9Y();
                return;
            };
            this.$eW();
            this.$cH();
            DayPilotScheduler.register(this);
            this.$eX();
            this.$bx();
            this.$bM = true;
            if ($i.scrollToDate) {
                $i.scrollTo($i.scrollToDate);
            } else if ($i.scrollX || $i.scrollY) {
                $i.setScroll($i.scrollX, $i.scrollY);
            } else {
                $i.$ap();
            };
            if ($i.scrollToResourceId) {
                $i.scrollToResource($i.scrollToResourceId);
                $i.scrollToResourceId = null;
            };
            var $9j = function() {
                if ($i.scrollY) {
                    $i.setScroll($i.scrollX, $i.scrollY);
                }
            };
            window.setTimeout($9j, 200);
            if (this.messageHTML) {
                window.setTimeout(function() {
                    $i.message($i.messageHTML);
                }, 0);
            };
            this.$g5();
            this.$9V();
            this.$9Y();
            this.$9W(this.afterRenderData, false);
            if ($i.initEventEnabled) {
                setTimeout(function() {
                    $i.$b9("Init");
                });
            };
            this.$ga();
        };
        this.$gb = null;
        this.$gc = function($h) {
            var $9k = {
                "events": {
                    "preInit": function() {
                        var $Z = this.data;
                        if (!$Z) {
                            return;
                        };
                        if (DayPilot.isArray($Z.list)) {
                            $i.events.list = $Z.list;
                        } else {
                            $i.events.list = $Z;
                        }
                    },
                    "postInit": function() {}
                },
                "scrollTo": {
                    "preInit": function() {},
                    "postInit": function() {
                        if (this.data) {
                            $i.scrollTo(this.data, $h.scrollToAnimated, $h.scrollToPosition);
                        }
                    }
                }
            };
            this.$gb = $9k;
            for (var name in $h) {
                if ($9k[name]) {
                    var $00 = $9k[name];
                    $00.data = $h[name];
                    if ($00.preInit) {
                        $00.preInit();
                    }
                } else {
                    $i[name] = $h[name];
                }
            }
        };
        this.$ga = function() {
            var $9k = this.$gb;
            for (var name in $9k) {
                var $00 = $9k[name];
                if ($00.postInit) {
                    $00.postInit();
                }
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var x = Math.floor($i.coords.x / $i.cellWidth);
            var y = $i.$cD($i.coords.y).i;
            if (y < $i.rowlist.length) {
                var $P = {};
                $P.start = $i.itline[x].start;
                $P.end = $i.itline[x].end;
                $P.resource = $i.rowlist[y].id;
                return $P;
            } else {
                return null;
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $i.$bM;
        };
        this.internal.dragInProgress = this.$fr;
        this.internal.invokeEvent = this.$bk;
        this.internal.eventMenuClick = this.$c0;
        this.internal.timeRangeMenuClick = this.$c7;
        this.internal.resourceHeaderMenuClick = this.$c9;
        this.internal.linkMenuClick = this.$c8;
        this.internal.bubbleCallBack = this.$bY;
        this.internal.findEventDiv = this.$cS;
        this.internal.rowtools = this.$ci;
        this.internal.getNodeChildren = this.$cF;
        this.internal.callback = function() {
            $i.$b9.apply($i, arguments);
        };
        this.internal.createRowObject = this.$ce;
        this.internal.adjustEndIn = $i.$bT;
        this.internal.adjustEndNormalize = $i.$bU;
        this.internal.touch = $i.$fg;
        this.internal.cssNames = $i.$fn;
        this.Init = this.init;
        this.$gc($h);
    };
    debug = new DayPilot.Scheduler().v === "${v\u007d";
    DayPilot.Row = function($x, $i) {
        if (!$x) {
            throw "Now row object supplied when creating DayPilot.Row";
        };
        if (!$i) {
            throw "No parent control supplied when creating DayPilot.Row";
        };
        var $1z = DayPilot.indexOf($i.rowlist, $x);
        var r = this;
        r.isRow = true;
        r.menuType = 'resource';
        r.start = $x.start;
        r.name = $x.name;
        r.value = $x.id;
        r.id = $x.id;
        r.tags = $x.tags;
        r.index = $1z;
        r.level = $x.level;
        r.calendar = $i;
        r.$gd = $x;
        r.$ = {};
        r.$.row = $x;
        r.toJSON = function($5H) {
            var $1J = {};
            $1J.start = this.start;
            $1J.name = this.name;
            $1J.value = this.value;
            $1J.id = this.id;
            $1J.index = this.index;
            return $1J;
        };
        r.parent = function() {
            if (!r.$gd.$en) {
                return null;
            };
            return $i.$ce(r.$gd.$en);
        };
        r.children = function() {
            var $Y = DayPilot.list(r.$.row.children).map(function(i) {
                return $i.$ce($i.rowlist[i]);
            });
            $Y.add = function($94) {
                var r1 = r.$.row.resource;
                if (!r1.children) {
                    r1.children = [];
                };
                r1.children.push($94);
            };
            return $Y;
        };
        r.loaded = function() {
            return r.$gd.loaded;
        };
        r.cells = {};
        r.cells.all = function() {
            var $Y = [];
            var $1O = $i.itline.length;
            var y = r.index;
            for (var x = 0; x < $1O; x++) {
                var $P = $i.cells.findXy(x, y);
                $Y.push($P[0]);
            };
            return $i.$d7($Y);
        };
        r.events = {};
        r.events.all = function() {
            var $Y = [];
            for (var i = 0; i < r.$gd.events.length; i++) {
                $Y.push(r.$gd.events[i]);
            };
            return DayPilot.list($Y);
        };
        r.events.totalDuration = function() {
            var $0w = 0;
            r.events.all().each(function($00) {
                $0w += $00.part.end.getTime() - $00.part.start.getTime();
            });
            return new DayPilot.Duration($0w);
        };
        r.groups = {};
        r.groups.collapseAll = function() {
            for (var i = 0; i < r.$gd.blocks.length; i++) {
                var $5O = r.$gd.blocks[i];
                var $9l = new $9m($5O);
                $9l.$ge();
            };
            $i.$bt();
            $i.$bu(r.index);
            $i.$ac();
        };
        r.groups.expandAll = function() {
            for (var i = 0; i < r.$gd.blocks.length; i++) {
                var $5O = r.$gd.blocks[i];
                var $9l = new $9m($5O);
                $9l.$gf();
            };
            $i.$bt();
            $i.$bu(r.index);
            $i.$ac();
        };
        r.groups.expanded = function() {
            var $Y = [];
            for (var i = 0; i < r.$gd.blocks.length; i++) {
                var $5O = r.$gd.blocks[i];
                if ($5O.expanded && $5O.lines.length > $i.groupConcurrentEventsLimit) {
                    $Y.push(new $9m($5O));
                }
            };
            return DayPilot.list($Y);
        };
        r.groups.collapsed = function() {
            var $Y = [];
            for (var i = 0; i < r.$gd.blocks.length; i++) {
                var $5O = r.$gd.blocks[i];
                if (!$5O.expanded) {
                    $Y.push(new $9m($5O));
                }
            };
            return DayPilot.list($Y);
        };
        r.groups.all = function() {
            var $Y = [];
            for (var i = 0; i < r.$gd.blocks.length; i++) {
                var $5O = r.$gd.blocks[i];
                $Y.push(new $9m($5O));
            };
            return DayPilot.list($Y);
        };
        r.events.collapseGroups = r.groups.collapseAll;
        r.events.expandGroups = r.groups.expandAll;
        r.column = function(i) {
            return new $9n(r, i);
        };
        r.toggle = function() {
            $i.$dg(r.index);
        };
        r.addClass = function($4D) {
            var $x = r;
            var $5d = $i.divHeader;
            var $x = $5d.rows[$x.index];
            if ($x) {
                var $M = DayPilot.list($x.cells).map(function($P) {
                    return $P.cellDiv;
                });
                DayPilot.Util.addClass($M, $4D);
            };
            r.$.row.cssClass = DayPilot.Util.addClassToString(r.$.row.cssClass, $4D);
        };
        r.removeClass = function($4D) {
            var $x = r;
            var $5d = $i.divHeader;
            var $x = $5d.rows[$x.index];
            if ($x) {
                var $M = DayPilot.list($x.cells).map(function($P) {
                    return $P.cellDiv;
                });
                DayPilot.Util.removeClass($M, $4D);
            };
            r.$.row.cssClass = DayPilot.Util.removeClassFromString(r.$.row.cssClass, $4D);
        };
        var $9m = function($5O) {
            var $9o = function($5O) {
                for (var i = 0; i < $i.elements.events.length; i++) {
                    var $02 = $i.elements.events[i];
                    if ($02.event === $5O) {
                        return $02;
                    }
                };
                return null;
            };
            this.$gf = function() {
                $5O.expanded = true;
                var $Y = $i.$e3;
                DayPilot.list($5O.events).each(function(e) {
                    $Y.push(e.id());
                });
                var $02 = $9o($5O);
                if ($02) {
                    $i.$f2($02);
                    var $7R = DayPilot.indexOf($i.elements.events, $02);
                    if ($7R !== -1) {
                        $i.elements.events.splice($7R, 1);
                    }
                }
            };
            this.expand = function() {
                this.$gf();
                $i.$bt();
                $i.$bu($5O.row.index);
                $i.$ac();
            };
            this.$ge = function() {
                if ($5O.lines.length > $i.groupConcurrentEventsLimit) {
                    $5O.expanded = false;
                    var $3d = DayPilot.list($5O.events).map(function(e) {
                        return e.id()
                    });
                    $i.$e3 = $i.$e3.filter(function($00) {
                        return !DayPilot.contains($3d, $00);
                    });
                }
            };
            this.collapse = function() {
                this.$ge();
                $i.$bt();
                $i.$bu($5O.row.index);
                $i.$ac();
            };
        };
        var $9n = function($x, i) {
            this.html = function($09) {
                var $5d = $x.calendar.divHeader;
                var $P = $5d.rows[$x.index].cells[i];
                var $1y = $P.textDiv;
                if (typeof $09 === "undefined") {
                    return $1y.innerHTML;
                } else {
                    $1y.innerHTML = $09;
                }
            };
        };
    };
    DayPilotScheduler.moving = null;
    DayPilotScheduler.movingEvent = null;
    DayPilotScheduler.originalMouse = null;
    DayPilotScheduler.resizing = null;
    DayPilotScheduler.preventEventClick = false;
    DayPilotScheduler.globalHandlers = false;
    DayPilotScheduler.timeRangeTimeout = null;
    DayPilotScheduler.selectedCells = null;
    DayPilotScheduler.dragStart = function(element, $0N, id, $1y, $X) {
        DayPilot.us(element);
        var $9p = DayPilotScheduler.drag = {};
        $9p.element = element;
        $9p.duration = $0N;
        $9p.text = $1y;
        $9p.id = id;
        $9p.shadowType = $X ? $X : 'Fill';
        $9p.data = {
            "id": id,
            "text": $1y,
            "duration": $0N,
            "externalHtml": $1y
        };
        return false;
    };
    DayPilot.Scheduler.startDragging = function($h) {
        var $h = $h || {};
        var element = $h.element;
        var $9q = $h.keepElement ? null : element;
        DayPilot.us(element);
        var $9p = DayPilotScheduler.drag = {};
        $9p.element = $9q;
        $9p.id = $h.id;
        $9p.duration = $h.duration || 60;
        $9p.text = $h.text || "";
        $9p.shadowType = 'Fill';
        $9p.data = $h;
        return false;
    };
    DayPilot.Scheduler.makeDraggable = function($h) {
        $h = $h || {};
        var element = $h.element;
        var $9q = $h.keepElement ? null : ($h.remove || element);
        DayPilot.us(element);
        DayPilot.re(element, "mousedown", function(ev) {
            if (!DayPilot.Util.mouseButton(ev).left) {
                return;
            };
            startDragging();
            var element = (ev.target || ev.srcElement);
            if (element.tagName) {
                var $9r = element.tagName.toLowerCase();
                if ($9r === "textarea" || $9r === "select" || $9r === "input") {
                    return false;
                }
            };
            ev.preventDefault && ev.preventDefault();
            return false;
        });
        element.ontouchstart = function(ev) {
            var $86 = 0;
            window.setTimeout(function() {
                startDragging();
                DayPilotScheduler.gTouchMove(ev);
                ev.preventDefault();
            }, $86);
            ev.preventDefault();
        };

        function startDragging() {
            var $9p = DayPilotScheduler.drag = {};
            $9p.element = $9q;
            $9p.id = $h.id;
            $9p.duration = $h.duration || 60;
            $9p.text = $h.text || "";
            $9p.shadowType = 'Fill';
            $9p.data = $h;
        }
    };
    DayPilot.Scheduler.stopDragging = function() {
        DayPilotScheduler.dragStop();
        if (DayPilotScheduler.resizing) {
            DayPilot.de(DayPilotScheduler.resizingShadow);
            DayPilotScheduler.resizing = null;
            DayPilotScheduler.resizingShadow = null;
        };
        if (DayPilotScheduler.moving) {
            var $i = DayPilotScheduler.movingEvent.calendar;
            DayPilot.Util.removeClass(DayPilotScheduler.moving, $i.$aD("_event_moving_source"));
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            DayPilotScheduler.movingShadow = null;
        };
        if (DayPilotScheduler.range) {
            var $i = DayPilotScheduler.range.calendar;
            $i.clearSelection();
            DayPilotScheduler.range = null;
        };
        document.body.style.cursor = '';
        DayPilot.list(DayPilotScheduler.registered).each(function($i) {
            $i.$eL();
            $i.$dB();
        });
    };
    DayPilotScheduler.dragStop = function() {
        if (DayPilotScheduler.gShadow) {
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.drag = null;
    };
    DayPilotScheduler.register = function($i) {
        if (!DayPilotScheduler.registered) {
            DayPilotScheduler.registered = [];
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i] === $i) {
                return;
            }
        };
        DayPilotScheduler.registered.push($i);
    };
    DayPilotScheduler.unregister = function($i) {
        var a = DayPilotScheduler.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $i);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotScheduler.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotScheduler.gMouseUp);
            DayPilot.ue(document, 'keyup', DayPilotScheduler.gKeyUp);
            DayPilot.ue(document, 'touchmove', DayPilotScheduler.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotScheduler.gTouchEnd);
            DayPilotScheduler.globalHandlers = false;
        }
    };

    function calendarFromTouchEvent(ev) {
        var $9s = ev.touches[0].clientX;
        var $9t = ev.touches[0].clientY;
        var el = document.elementFromPoint($9s, $9t);
        while (el && el.parentNode) {
            el = el.parentNode;
            if (el.daypilotMainD) {
                return el.calendar;
            }
        };
        return false;
    };

    function touchMousePos(ev) {
        var x = ev.touches[0].pageX;
        var y = ev.touches[0].pageY;
        var $8t = {};
        $8t.x = x;
        $8t.y = y;
        return $8t;
    };
    DayPilotScheduler.gTouchMove = function(ev) {
        if (DayPilotScheduler.resizing) {
            var $i = DayPilotScheduler.resizing.event.calendar;
            $i.coords = $i.$fg.relativeCoords(ev);
            $i.$fg.updateResizing();
            ev.preventDefault();
        };
        if (DayPilotScheduler.moving) {
            var $i = DayPilotScheduler.movingEvent.calendar;
            $i.coords = $i.$fg.relativeCoords(ev);
            $i.$fg.updateMoving();
            ev.preventDefault();
        };
        if (DayPilotScheduler.drag) {
            ev.preventDefault();
            var $8t = touchMousePos(ev);
            var $i = calendarFromTouchEvent(ev);
            if ($i) {
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                $i.coords = $i.$fg.relativeCoords(ev);
                if (!DayPilotScheduler.movingShadow && $i.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $8v = $i.itline[0].start;
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $8v,
                                'end': $8v.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            var $q = DayPilotScheduler.drag.data;
                            if ($q) {
                                var $7v = ['duration', 'element', 'id', 'text'];
                                for (var name in $q) {
                                    if (DayPilot.contains($7v, name)) {
                                        continue;
                                    };
                                    ev[name] = $q[name];
                                }
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $i;
                            event.part.external = true;
                        };
                        DayPilotScheduler.moving.event = event;
                        DayPilotScheduler.movingEvent = event;
                    };
                    DayPilotScheduler.movingShadow = $i.$cM(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
                };
                if (DayPilotScheduler.moving) {
                    $i.$fg.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotScheduler.movingShadow);
                var $9u = DayPilotScheduler.moving;
                DayPilotScheduler.moving = null;
                DayPilotScheduler.movingEvent = null;
                DayPilotScheduler.movingShadow = null;
                if (!DayPilotScheduler.gShadow) {
                    DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.data);
                    DayPilotScheduler.gShadow.source = $9u;
                };
                var $20 = DayPilotScheduler.gShadow;
                $20.style.left = $8t.x + 'px';
                $20.style.top = $8t.y + 'px';
            }
        }
    };
    DayPilotScheduler.gTouchEnd = function(ev) {
        DayPilotScheduler.gMouseUp(ev);
    };
    DayPilotScheduler.gMouseMove = function(ev) {
        if (typeof(DayPilotScheduler) === 'undefined') {
            return;
        };
        ev = ev || window.event;
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $8t = DayPilot.mc(ev);
        if (DayPilotScheduler.drag) {
            if (!DayPilotScheduler.drag.startFired) {
                var $q = DayPilotScheduler.drag.data || {};
                var $9v = $q.onDragStart;
                var $1F = false;
                if (typeof $9v === "function") {
                    var $l = {};
                    $l.data = $q;
                    $l.preventDefault = function() {
                        $l.preventDefault.value = true;
                    };
                    $9v($l);
                    $1F = $l.preventDefault.value;
                };
                DayPilotScheduler.drag.startFired = true;
                if ($1F) {
                    DayPilotScheduler.drag = null;
                    return;
                }
            };
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.data);
            };
            var $20 = DayPilotScheduler.gShadow;
            $20.style.left = $8t.x + 'px';
            $20.style.top = $8t.y + 'px';
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            if (DayPilotScheduler.movingShadow) {
                var $9w = DayPilotScheduler.movingShadow.calendar;
                $9w && $9w.$dB();
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            }
        } else if (DayPilotScheduler.moving && DayPilotScheduler.movingEvent.calendar.dragOutAllowed && !DayPilotScheduler.drag) {
            var $9w = DayPilotScheduler.movingEvent.calendar;
            var ev = DayPilotScheduler.movingEvent;
            DayPilotScheduler.moving.target = null;
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(ev.data);
                DayPilotScheduler.gShadow.source = DayPilotScheduler.moving;
            };
            var $20 = DayPilotScheduler.gShadow;
            $20.style.left = $8t.x + 'px';
            $20.style.top = $8t.y + 'px';
            DayPilotScheduler.drag = {};
            var $9p = DayPilotScheduler.drag;
            $9p.element = null;
            $9p.duration = (ev.rawend().getTime() - ev.start().getTime()) / 1000;
            $9p.text = ev.text();
            $9p.id = ev.value();
            $9p.shadowType = $9w.shadow;
            $9p.event = ev;
            $9w.$dB();
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.movingShadow.calendar = null;
            DayPilotScheduler.movingShadow = null;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i].$dL) {
                DayPilotScheduler.registered[i].$dL();
            }
        }
    };
    DayPilotScheduler.gUnload = function(ev) {
        if (!DayPilotScheduler.registered) {
            return;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            var c = DayPilotScheduler.registered[i];
            DayPilotScheduler.unregister(c);
        }
    };
    DayPilotScheduler.gMouseDown = function(ev) {
        if (DayPilotScheduler.editing) {
            DayPilotScheduler.editing.blur();
        }
    };
    DayPilotScheduler.gKeyUp = function(ev) {
        var ev = ev || window.event;
        var $5H = ev.keyCode;
        if ($5H === 17) {
            if (DayPilotScheduler.rangeCalendar) {
                var $i = DayPilotScheduler.rangeCalendar;
                $i.$fH.dispatch();
            }
        }
    };
    DayPilotScheduler.gMouseUp = function(ev) {
        DayPilot.list(DayPilotScheduler.registered).each(function($i) {
            $i.$eL();
        });
        if (DayPilotScheduler.resizing) {
            setTimeout(function() {
                DayPilotScheduler.preventEventClick = false;
            });
            if (!DayPilotScheduler.resizingShadow) {
                document.body.style.cursor = '';
                DayPilotScheduler.resizing = null;
                return;
            };
            var e = DayPilotScheduler.resizing.event;
            var $i = e.calendar;
            $i.$di();
            var $0n = DayPilotScheduler.resizingShadow.start;
            var $11 = DayPilotScheduler.resizingShadow.end;
            var $52 = DayPilotScheduler.resizingShadow.overlapping;
            var $88 = !DayPilotScheduler.resizingShadow.allowed;
            DayPilot.de(DayPilotScheduler.resizingShadow);
            DayPilotScheduler.resizing = null;
            DayPilotScheduler.resizingShadow = null;
            $i.$dB();
            $i.$du.clear();
            document.body.style.cursor = '';
            if ($52 || $88) {
                return;
            };
            $i.$bl(e, $0n, $11);
        } else if (DayPilotScheduler.moving) {
            var $9x = function() {
                var $i = DayPilotScheduler.moving.target;
                if (DayPilotScheduler.movingShadow) {
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    DayPilotScheduler.movingShadow.calendar = null;
                };
                document.body.style.cursor = '';
                DayPilotScheduler.moving = null;
                DayPilotScheduler.movingEvent = null;
                DayPilotScheduler.drag = null;
                if ($i) {
                    $i.$bW = null;
                }
            };
            if (!DayPilotScheduler.movingShadow) {
                $9x();
                return;
            };
            var e = DayPilotScheduler.movingEvent;
            var $i = DayPilotScheduler.moving.target;
            if (!$i) {
                $9x();
                return;
            };
            DayPilot.Util.removeClass(DayPilotScheduler.moving, $i.$aD("_event_moving_source"));
            if (!DayPilotScheduler.movingShadow.row) {
                $9x();
                return;
            };
            clearTimeout($i.$de.timeout);
            var $0n = DayPilotScheduler.movingShadow.start;
            var $11 = DayPilotScheduler.movingShadow.end;
            var $16 = ($i.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
            var external = (DayPilotScheduler.drag ? true : false) && e.part.external;
            var $0v = DayPilotScheduler.movingShadow.line;
            var $52 = DayPilotScheduler.movingShadow.overlapping;
            var $88 = !DayPilotScheduler.movingShadow.allowed;
            if (DayPilotScheduler.drag) {
                if (!$i.todo) {
                    $i.todo = {};
                };
                $i.todo.del = DayPilotScheduler.drag.element;
                DayPilotScheduler.drag = null;
            };
            DayPilotScheduler.movingShadow.calendar = null;
            document.body.style.cursor = '';
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            if ($52 || $88 || $i.$dw.forbidden || $i.$dw.invalid) {
                $i.$bX();
                return;
            };
            var ev = ev || window.event;
            $i.$bV(e, $0n, $11, $16, external, ev, $0v);
        } else if (DayPilotScheduler.range) {
            ev = ev || window.event;
            var $85 = DayPilot.Util.mouseButton(ev);
            var $1r = DayPilotScheduler.range;
            var $i = $1r.calendar;
            $i.$fF = null;
            var $1d = ev.ctrlKey || ev.metaKey;
            if ($i.allowMultiRange) {
                if (!$i.elements.range2.overlapping) {
                    $i.$fH.add($1r);
                } else {
                    DayPilot.de($i.elements.range2);
                    $i.elements.range2 = null;
                    $i.$dB();
                };
                DayPilotScheduler.range = null;
                if (!$1d) {
                    $i.$fH.dispatch();
                };
                return;
            };
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
                return;
            };
            DayPilotScheduler.rangeHold = $1r;
            DayPilotScheduler.range = null;
            var $99 = function($1r) {
                return function() {
                    DayPilotScheduler.timeRangeTimeout = null;
                    var $20 = $i.elements.range2;
                    if ($20 && $20.overlapping) {
                        $i.clearSelection();
                        return;
                    };
                    $i.$c1($1r);
                    if ($i.timeRangeSelectedHandling !== "Hold" && $i.timeRangeSelectedHandling !== "HoldForever") {
                        $c();
                    } else {
                        DayPilotScheduler.rangeHold = $1r;
                    }
                };
            };
            var rc = $i.$fG($1r);
            if (!$85.left) {
                DayPilotScheduler.timeRangeTimeout = null;
                return;
            };
            if ($i.timeRangeDoubleClickHandling === 'Disabled') {
                $99(rc)();
                var ev = ev || window.event;
                ev.cancelBubble = true;
                return false;
            } else {
                DayPilotScheduler.timeRangeTimeout = setTimeout($99(rc), $i.doubleClickTimeout);
            }
        } else if ($5p.row) {
            var $i = $5p.calendar;
            if ($i) {
                $i.$ed();
            }
        } else if ($26.source) {
            var $i = $26.calendar;
            $i.$cO.clearShadow();
            $i.$cO.hideLinkpoints();
            $26.source = null;
            $26.calendar = null;
        } else if (DayPilotScheduler.splitting) {
            var $73 = DayPilotScheduler.splitting;
            $73.cleanup();
            DayPilotScheduler.splitting = null;
        } else if (DayPilotScheduler.rectangleSelect) {
            var $4g = DayPilotScheduler.rectangleSelect;
            var $i = $4g.calendar;
            if (!$4g.moved) {
                DayPilotScheduler.rectangleSelect = null;
                if (!$i.$fo($i.coords)) {
                    $i.$fE(ev);
                };
                return;
            };
            var x = $4g.x;
            var y = $4g.y;
            var $A = $4g.width;
            var $R = $4g.height;
            var $5z = false;
            var $Z = $i.$aA.eventsInRectangle(x, y, $A, $R).map(function($00) {
                return $00.event;
            });
            if (typeof $i.onRectangleEventSelect === "function") {
                var $l = {};
                $l.events = $Z;
                $l.append = false;
                $l.start = $i.getDate(x, true);
                $l.end = $i.getDate(x + $A, true);
                $l.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                $i.onRectangleEventSelect($l);
                if ($l.preventDefault.value) {
                    $i.$fy.clear();
                    DayPilotScheduler.rectangleSelect = null;
                    return;
                };
                $5z = $l.append;
            };
            if (!$5z) {
                $i.multiselect.clear(true);
            };
            $Z.each(function(e) {
                $i.multiselect.add(e, true);
            });
            $i.multiselect.redraw();
            setTimeout(function() {
                $i.$fy.clear();
                DayPilotScheduler.rectangleSelect = null;
            }, 0);
            if (typeof $i.onRectangleEventSelected === "function") {
                var $l = {};
                $l.events = $Z;
                $i.onRectangleEventSelected($l);
            }
        };
        if (DayPilotScheduler.drag) {
            if (DayPilotScheduler.drag.event && DayPilotScheduler.drag.event.part) {
                delete DayPilotScheduler.drag.event.part.external;
            };
            DayPilotScheduler.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotScheduler.gShadow) {
            if (DayPilotScheduler.gShadow.source) {
                var $i = DayPilotScheduler.gShadow.source.event.calendar;
                DayPilot.Util.removeClass(DayPilotScheduler.gShadow.source, $i.$aD("_event_moving_source"));
            };
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.moveOffsetX = null;
        DayPilotScheduler.moveDragStart = null;
    };
    DayPilotScheduler.createGShadow = function($h) {
        var $h = $h || {};
        var $20 = document.createElement('div');
        $20.setAttribute('unselectable', 'on');
        $20.style.position = 'absolute';
        $20.style.width = '100px';
        $20.style.height = '20px';
        $20.style.zIndex = 101;
        $20.style.pointerEvents = "none";
        $20.style.backgroundColor = "#aaaaaa";
        $20.style.opacity = 0.5;
        $20.style.filter = "alpha(opacity=50)";
        $20.className = $h.externalCssClass;
        if ($h.externalHtml) {
            $20.innerHTML = $h.externalHtml;
        };
        document.body.appendChild($20);
        return $20;
    };
    var $5p = {};
    DayPilot.Global.rowmoving = $5p;
    var $26 = {};
    DayPilot.Global.linking = $26;
    DayPilot.SchedulerVisible.dragStart = DayPilotScheduler.dragStart;
    DayPilot.SchedulerVisible.dragStop = DayPilotScheduler.dragStop;
    DayPilot.SchedulerVisible.Scheduler = DayPilotScheduler.Scheduler;
    DayPilot.SchedulerVisible.globalHandlers = DayPilotScheduler.globalHandlers;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotScheduler = function($h) {
                var $0K = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $9y = new DayPilot.Scheduler(this.id, $h);
                    $9y.init();
                    this.daypilot = $9y;
                    if (!$0K) {
                        $0K = $9y;
                    }
                });
                if (this.length === 1) {
                    return $0K;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $9z = DayPilot.am();
        if (!$9z) {
            return;
        };
        $9z.directive("daypilotScheduler", ['$parse', function($9A) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $9B) {
                    element.replaceWith(this["template"].replace("{{id}};", $9B["id"]));
                    return function link($9C, element, $9B) {
                        var $i = new DayPilot.Scheduler(element[0]);
                        $i.$d0.scope = $9C;
                        $i.init();
                        var $9D = $9B["id"];
                        if ($9D) {
                            $9C[$9D] = $i;
                        };
                        var $9E = $9B["publishAs"];
                        if ($9E) {
                            var getter = $9A($9E);
                            var setter = getter.assign;
                            setter($9C, $i);
                        };
                        for (var name in $9B) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $i[name] = function($l) {
                                        var f = $9A($9B[name]);
                                        $9C["$apply"](function() {
                                            f($9C, {
                                                "args": $l
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $9F = $9C["$watch"];
                        var $9f = $9B["config"] || $9B["daypilotConfig"];
                        var $Z = $9B["events"] || $9B["daypilotEvents"];
                        $9F.call($9C, $9f, function($6A, $9G) {
                            $i.$gc($6A);
                            $i.update();
                            $i.$ga();
                        }, true);
                        $9F.call($9C, $Z, function($6A) {
                            $i.events.list = $6A;
                            $i.$bx({
                                "eventsOnly": true
                            });
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Year !== 'undefined') {
        return;
    };
    DayPilot.Year = function(id, $a) {
        this.v = '2130';
        var $b = this;
        this.startDate = new DayPilot.Date();
        this.cssOnly = true;
        this.cssClassPrefix = null;
        this.columns = 4;
        this.cellWidth = 20;
        this.showWeekNumbers = false;
        this.$i = [];
        this.$j = function() {
            this.root.dp = this;
            this.$k = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us"));
        };
        this.$l = function($c) {
            if (this.cssClassPrefix) {
                return this.cssClassPrefix + $c;
            } else {
                return "";
            }
        };
        this.$m = function() {
            if (this.showWeekNumbers) {
                return this.cellWidth;
            };
            return 0;
        };
        this.$n = function() {
            this.$i = [];
            var $d = this.columns;
            var $e = 12 / $d;
            this.root.className = this.$l('_main');
            this.root.style.width = $d * (this.cellWidth * 7 + this.$m()) + 'px';
            for (var y = 0; y < $e; y++) {
                for (var x = 0; x < $d; x++) {
                    var m = y * $d + x;
                    var id = id + "_nav_" + m;
                    var $f = document.createElement("div");
                    $f.id = id;
                    $f.style.float = 'left';
                    this.root.appendChild($f);
                    var navigator = new DayPilot.Navigator(id);
                    navigator.startDate = this.$k.addMonths(m);
                    navigator.cssOnly = this.cssOnly;
                    navigator.cssClassPrefix = this.cssClassPrefix;
                    navigator.cellWidth = this.cellWidth;
                    navigator.showWeekNumbers = this.showWeekNumbers;
                    navigator.internal.showLinks = {};
                    navigator.selectMode = 'none';
                    navigator.timeRangeSelectedHandling = "JavaScript";
                    navigator.onTimeRangeSelected = this.$o;
                    navigator.init();
                    navigator.root.className = '';
                    this.$i.push(navigator);
                };
                var $g = document.createElement("div");
                $g.style.clear = 'left';
                this.root.appendChild($g);
            }
        };
        this.$o = function($h) {
            alert("clicked: " + $h.day);
        };
        this.init = function() {
            this.root = document.getElementById(id);
            if (this.root.dp) {
                return;
            };
            this.$j();
            this.$n();
        };
    };
})();
